(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{EGme:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("ofXK"),s=i("PCNd"),o=i("fXoL");let r=(()=>{class e{}return e.\u0275mod=o.Ib({type:e}),e.\u0275inj=o.Hb({factory:function(t){return new(t||e)},imports:[[n.c,s.a]]}),e})()},Kj3r:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("7o/Q"),s=i("D0XW");function o(e,t=s.a){return i=>i.lift(new r(e,t))}class r{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new a(e,this.dueTime,this.scheduler))}}class a extends n.a{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function c(e){e.debouncedNext()}},YKuI:function(e,t,i){"use strict";i.d(t,"a",function(){return q});var n=i("nbpP"),s=i("XNiG"),o=i("Kj3r"),r=i("WR8Z"),a=i("fXoL"),c=i("dJ3e"),l=i("Widq"),u=i("BtPN"),b=i("7o2P"),d=i("tyNb"),p=i("x45h"),h=i("ofXK"),f=i("arFO"),g=i("3Pt+"),m=i("rEr+"),P=i("7zfz"),y=i("6t4m"),v=i("/RsI");function w(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",4),a.Qb(1,"label",5),a.Hc(2,"Group Round"),a.Pb(),a.Qb(3,"p-dropdown",33),a.Xb("ngModelChange",function(t){return a.yc(e),a.bc().filters.groupDefinitionId=t}),a.Pb(),a.Pb()}if(2&e){const e=a.bc();a.yb(3),a.ic("filter",!0)("showClear",!0)("options",e.groupDefinitions)("ngModel",e.filters.groupDefinitionId)}}function D(e,t){1&e&&(a.Qb(0,"tr"),a.Qb(1,"th",34),a.Hc(2," Group serial "),a.Lb(3,"p-sortIcon",35),a.Pb(),a.Qb(4,"th",36),a.Hc(5," Name "),a.Lb(6,"p-sortIcon",37),a.Pb(),a.Qb(7,"th",38),a.Hc(8," Phone number "),a.Lb(9,"p-sortIcon",39),a.Pb(),a.Qb(10,"th",40),a.Hc(11," Email "),a.Lb(12,"p-sortIcon",41),a.Pb(),a.Qb(13,"th",42),a.Hc(14,"Actions"),a.Pb(),a.Pb())}function I(e,t){if(1&e){const e=a.Rb();a.Qb(0,"tr"),a.Qb(1,"td"),a.Hc(2),a.Pb(),a.Qb(3,"td"),a.Hc(4),a.Pb(),a.Qb(5,"td"),a.Hc(6),a.Pb(),a.Qb(7,"td"),a.Hc(8),a.Pb(),a.Qb(9,"td",43),a.Qb(10,"a",44),a.Xb("click",function(){a.yc(e);const i=t.$implicit;return a.bc().redirectToProfile(i)}),a.Lb(11,"span",45),a.Pb(),a.Qb(12,"a",46),a.Xb("click",function(){a.yc(e);const i=t.$implicit;return a.bc().showBanDialog(i)}),a.Lb(13,"span",47),a.Pb(),a.Qb(14,"a",48),a.Xb("click",function(){a.yc(e);const i=t.$implicit;return a.bc().showDisqualificationDialog(i)}),a.Lb(15,"span",49),a.Pb(),a.Qb(16,"a",50),a.Xb("click",function(){a.yc(e);const i=t.$implicit;return a.bc().AddDuplicateException(i.email)}),a.Lb(17,"span",51),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit;a.yb(2),a.Ic(e.groupSerial||"-"),a.yb(2),a.Kc("",e.firstName," ",e.lastName,""),a.yb(2),a.Ic(e.phoneNumber),a.yb(2),a.Ic(e.email)}}function S(e,t){if(1&e&&(a.Qb(0,"div",52),a.Hc(1),a.Pb()),2&e){const e=a.bc();a.yb(1),a.Jc(" In total there are ",e.count||0," student. ")}}function Q(e,t){if(1&e&&(a.Qb(0,"tr"),a.Qb(1,"td"),a.Qb(2,"div",53),a.Hc(3),a.Pb(),a.Pb(),a.Pb()),2&e){const e=a.bc();a.yb(1),a.zb("colspan",5),a.yb(2),a.Jc(" ",!e.isTeacher||e.filters.groupInstanceId||e.filters.studentName?"No records found":"Select a group or Enter a student name"," ")}}const x=function(){return{width:"680px"}};class C{constructor(){this.applyFiltersSubj=new s.a,this.applyFilters$=this.applyFiltersSubj.asObservable()}get groupInstanceId(){return this._groupInstanceId}set groupInstanceId(e){this._groupInstanceId=e,this.applyFilters()}get groupDefinitionId(){return this._groupDefinitionId}set groupDefinitionId(e){this._groupDefinitionId=e,this.applyFilters()}get studentName(){return this._studentName}set studentName(e){this._studentName=e,this.applyFilters()}applyFilters(e=!0){this.applyFiltersSubj.next(e)}get filtersData(){return{studentName:this.studentName,groupDefinitionId:this.groupDefinitionId,groupInstanceId:this.groupInstanceId}}}let q=(()=>{class e{constructor(e,t,i,n,s,o,r,a){this.alertSrvc=e,this.userService=t,this.banRequestSrvc=i,this.commonService=n,this.router=s,this.authService=o,this.teacherService=r,this.DuplicateAccountsService=a,this.groupInstances=[],this.groupDefinitions=[],this.banDialog=!1,this.disqualificationDialog=!1,this.filters=new C,this.rowsPerPageOptions=[10,25,50,100],this.pageNo=1,this.pageSize=this.rowsPerPageOptions[0],this.isTeacher=!1,this.checkRole()}ngOnInit(){this.isTeacher?this.getGroupInstanceByTeacherId():(this.getStudents(),this.getGroupInstance(),this.getGroupDefinition()),this.applyFiltersOnFiltersChange()}applyFiltersOnFiltersChange(){this.filters.applyFilters$.pipe(Object(o.a)(1500)).subscribe(e=>{e&&this.filter(null)})}checkRole(){var e;this.authService.readUserDataFromLocalStorage(),null===(e=this.authService.userData$)||void 0===e||e.subscribe(e=>{this.userData=e,this.userData.roles.includes("Teacher")&&(this.isTeacher=!0)})}getStudents(){let e=this.filters.filtersData;!this.isTeacher||e.groupInstanceId||e.studentName?this.userService.GetAllStudentUsers(this.pageNo,this.pageSize,e.groupDefinitionId,e.groupInstanceId,e.studentName).subscribe(e=>{this.students=e.data,this.filteredStudents=this.students,this.count=e.count}):this.students=[]}onPageChange(e){this.pageNo=e.page+1,this.getStudents()}getGroupDefinition(){this.commonService.getAllGroupDefinition().subscribe(e=>{for(let t of e.data)this.groupDefinitions.push({label:t.serial,value:parseInt(t.id)})})}getGroupInstance(){this.commonService.getAllGroupInstances().subscribe(e=>{for(let t of e.data)this.groupInstances.push({label:t.serial,value:parseInt(t.id)})})}getGroupInstanceByTeacherId(){this.teacherService.getAllGroupInstancesByTeacherId(this.userData.id).subscribe(e=>{for(let t of e.data)this.groupInstances.push({label:t.groupInstance.serial,value:t.groupInstanceId})})}filter(e){this.pageNo=1,this.getStudents()}showBanDialog(e){this.banDialog=!0,this.selectedStudent=e}showDisqualificationDialog(e){this.disqualificationDialog=!0,this.selectedStudent=e}requestBan(){const e=new n.a;e.studentId=this.selectedStudent.id,e.comment=this.requestComment,e.status=0,this.banRequestSrvc.addRequest(e).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.banDialog=!1})}requestDisqualification(){const e=new n.a;e.studentId=this.selectedStudent.id,e.comment=this.requestComment,e.status=0,this.banRequestSrvc.addDisRequest(e).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.banDialog=!1,this.hideDialog()})}redirectToProfile(e){this.router.navigate([this.isTeacher?"/teacher/view-profile":"/supervisor/view-profile",e.id])}hideDialog(){this.banDialog=!1,this.disqualificationDialog=!1}AddDuplicateException(e){this.DuplicateAccountsService.AddDuplicateException({email:e}).subscribe(e=>{})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(c.a),a.Kb(l.a),a.Kb(u.a),a.Kb(b.a),a.Kb(d.c),a.Kb(c.c),a.Kb(r.a),a.Kb(p.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-student-list"]],features:[a.xb([r.a])],decls:70,vars:35,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","align-items-baseline","justify-content-between"],[1,"d-flex","dropdownsFilters"],["class","d-flex flex-column mr-3",4,"ngIf"],[1,"d-flex","flex-column","mr-3"],[1,"text-secondary"],["placeholder","Select group instance",3,"filter","showClear","options","ngModel","ngModelChange"],[1,"d-flex","flex-column","search"],[1,"pi","pi-search",2,"margin","4px 4px 0 0"],[1,"p-input-icon-left"],["autocomplete","off","pInputText","","pInputText","","size","50","type","text","placeholder","Enter Name",1,"form-control","adler-form-control",2,"background-color","#fff","margin","0",3,"ngModel","ngModelChange"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","rowsPerPageOptions","totalRecords","onPageChange"],["styleClass","p-fluid",3,"visible","modal","showHeader","visibleChange","onHide"],[1,"content"],[1,"text-primary"],[1,"font-weight-bold","d-inline-block"],[1,"text-nowrap","pop-text","mb-1"],[1,"mb-4"],[1,"d-flex","justify-content-between"],["autocomplete","off","required","","name","comment","id","comment","cols","30","rows","7","placeholder","Ban reason",1,"form-control",3,"ngModel","ngModelChange"],[1,"Pop-img","mr-3"],[1,"overlay","w-100","h-100"],[1,"formbtns","pt-3"],["type","button",1,"btn","btn-outline-secondary","ml-3","px-5",3,"click"],["type","button",1,"btn","adler-btn","ml-3",2,"min-width","9rem",3,"click"],["autocomplete","off","required","","name","comment","id","comment","cols","30","rows","7","placeholder","Disqualify reason",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","Select group Round",3,"filter","showClear","options","ngModel","ngModelChange"],["pSortableColumn","groupSerial"],["field","groupSerial"],["pSortableColumn","name"],["field","name"],["pSortableColumn","phoneNumber"],["field","phoneNumber"],["pSortableColumn","email"],["field","email"],[2,"width","10rem"],[2,"display","flex"],["title","View Profile",1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","fa","fa-street-view","text-secondary","font-weight-bold"],["title","Request Ban",1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-ban","font-weight-bold"],["title","Request Disqualification",1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","fa","fa-user-times","text-danger","font-weight-bold"],[1,"mr-2","mr-3","text-secondary",3,"click"],["title","Add Duplicate Exception",1,"p-button-icon","pi","pi-clone","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"text-center","p-4"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Fc(3,w,4,4,"div",3),a.Qb(4,"div",4),a.Qb(5,"label",5),a.Hc(6,"Group instance"),a.Pb(),a.Qb(7,"p-dropdown",6),a.Xb("ngModelChange",function(e){return t.filters.groupInstanceId=e}),a.Pb(),a.Pb(),a.Pb(),a.Qb(8,"div",7),a.Qb(9,"label",5),a.Lb(10,"i",8),a.Hc(11,"Student name"),a.Pb(),a.Qb(12,"span",9),a.Qb(13,"input",10),a.Xb("ngModelChange",function(e){return t.filters.studentName=e}),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(14,"div",11),a.Qb(15,"p-table",12,13),a.Fc(17,D,15,0,"ng-template",14),a.Fc(18,I,18,5,"ng-template",15),a.Fc(19,S,2,1,"ng-template",16),a.Fc(20,Q,4,2,"ng-template",17),a.Pb(),a.Qb(21,"p-paginator",18),a.Xb("onPageChange",function(e){return t.onPageChange(e)}),a.Pb(),a.Pb(),a.Pb(),a.Qb(22,"p-dialog",19),a.Xb("visibleChange",function(e){return t.banDialog=e})("onHide",function(){return t.hideDialog()}),a.Qb(23,"div",20),a.Qb(24,"h3",21),a.Hc(25,"Ban Request"),a.Pb(),a.Qb(26,"span"),a.Hc(27,"Do You want to make a ban request for "),a.Qb(28,"p",22),a.Hc(29),a.Pb(),a.Pb(),a.Qb(30,"p",23),a.Hc(31," your ban request will be viewed by The Supervisor, and you will get the feedback! "),a.Pb(),a.Qb(32,"h6",24),a.Hc(33," Please type reason to Ban "),a.Qb(34,"span",5),a.Hc(35),a.Pb(),a.Pb(),a.Qb(36,"div",25),a.Qb(37,"div"),a.Qb(38,"textarea",26),a.Xb("ngModelChange",function(e){return t.requestComment=e}),a.Pb(),a.Pb(),a.Qb(39,"div",27),a.Lb(40,"div",28),a.Pb(),a.Pb(),a.Qb(41,"div",29),a.Qb(42,"button",30),a.Xb("click",function(){return t.hideDialog()}),a.Hc(43," Cancel "),a.Pb(),a.Qb(44,"button",31),a.Xb("click",function(){return t.requestBan()}),a.Hc(45," Ban ! "),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Qb(46,"p-dialog",19),a.Xb("visibleChange",function(e){return t.disqualificationDialog=e})("onHide",function(){return t.hideDialog()}),a.Qb(47,"div",20),a.Qb(48,"h3",21),a.Hc(49,"Disqualification Request"),a.Pb(),a.Qb(50,"span"),a.Hc(51,"Do You want to make a Disqualify request for "),a.Qb(52,"p",22),a.Hc(53),a.Pb(),a.Pb(),a.Qb(54,"p",23),a.Hc(55," your disqualification Request will be viewed by The Supervisor, and you will get the feedback! "),a.Pb(),a.Qb(56,"h6",24),a.Hc(57," Please type reason to Disqualify "),a.Qb(58,"span",5),a.Hc(59),a.Pb(),a.Pb(),a.Qb(60,"div",25),a.Qb(61,"div"),a.Qb(62,"textarea",32),a.Xb("ngModelChange",function(e){return t.requestComment=e}),a.Pb(),a.Pb(),a.Qb(63,"div",27),a.Lb(64,"div",28),a.Pb(),a.Pb(),a.Qb(65,"div",29),a.Qb(66,"button",30),a.Xb("click",function(){return t.hideDialog()}),a.Hc(67," Cancel "),a.Pb(),a.Qb(68,"button",31),a.Xb("click",function(){return t.requestDisqualification()}),a.Hc(69," Disqualify ! "),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(3),a.ic("ngIf",!t.isTeacher),a.yb(4),a.ic("filter",!0)("showClear",!0)("options",t.groupInstances)("ngModel",t.filters.groupInstanceId),a.yb(6),a.ic("ngModel",t.filters.studentName),a.yb(2),a.ic("responsive",!0)("value",t.students)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),a.yb(6),a.ic("rows",t.pageSize)("rowsPerPageOptions",t.rowsPerPageOptions)("totalRecords",t.count),a.yb(1),a.Dc(a.lc(33,x)),a.ic("visible",t.banDialog)("modal",!0)("showHeader",!1),a.yb(7),a.Kc(" ",null==t.selectedStudent?null:t.selectedStudent.firstName," ",null==t.selectedStudent?null:t.selectedStudent.lastName,"? "),a.yb(6),a.Ic(null==t.selectedStudent?null:t.selectedStudent.firstName),a.yb(3),a.ic("ngModel",t.requestComment),a.yb(8),a.Dc(a.lc(34,x)),a.ic("visible",t.disqualificationDialog)("modal",!0)("showHeader",!1),a.yb(7),a.Kc(" ",null==t.selectedStudent?null:t.selectedStudent.firstName," ",null==t.selectedStudent?null:t.selectedStudent.lastName,"?? "),a.yb(6),a.Ic(null==t.selectedStudent?null:t.selectedStudent.firstName),a.yb(3),a.ic("ngModel",t.requestComment))},directives:[h.m,f.a,g.p,g.s,g.b,m.d,P.i,y.a,v.a,g.w,m.c,m.b],styles:['.custom-filter-row[_ngcontent-%COMP%]{background-color:#d0d4e5;padding:.5rem}.content[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border-radius:8px;background-color:#d1d5d8;width:300px}.pop-text[_ngcontent-%COMP%]{color:#bfbfbf}.Pop-img[_ngcontent-%COMP%]{width:220px;background:url("NoPath - Copy.7059a40d7bded12708bd.jpg") no-repeat;background-size:cover}.Pop-img[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{background-color:hsla(0,0%,100%,.25882352941176473)}.pop-Button-container[_ngcontent-%COMP%]   .adler-btn[_ngcontent-%COMP%]{width:9rem}']}),e})()},x45h:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i("tk/3"),s=i("tVjc"),o=i("fXoL");let r=(()=>{class e{constructor(e){this.http=e}getAllStudent(e){return this.http.get(s.a+"/Account/GetAllDuplicateExceptions",{params:e})}AddDuplicateException(e){return this.http.post(s.a+"/Account/AddDuplicateException",e)}RemoveDuplicateException(e){const t={headers:new n.e({"Content-Type":"application/json"}),body:e};return this.http.delete(s.a+"/Account/RemoveDuplicateException",t)}}return e.\u0275fac=function(t){return new(t||e)(o.Ub(n.b))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);