(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"9OYF":function(e,t,i){"use strict";i.r(t),i.d(t,"BugsModule",function(){return L});var r=i("ofXK"),n=i("tyNb");class o{}var b=i("fXoL"),l=i("LRne"),a=i("tVjc"),s=i("tk/3");let c=(()=>{class e{constructor(e){this.http=e,this.bugPrefix="bug"}getAllBugsTypes(){return Object(l.a)([{label:"None",value:void 0},{label:"Inquiry",value:"Inquiry"},{label:"Bug",value:"Bug"},{label:"Not as defined",value:"Not as defined"},{label:"Change Request",value:"Change Request"}])}getAllBugsPriorities(){return Object(l.a)([{label:"None",value:void 0},{label:"Low",value:"Low"},{label:"Medium",value:"Medium"},{label:"High",value:"High"},{label:"Critical",value:"Critical"}])}getAllBugs(){return this.http.get(`${a.a}/${this.bugPrefix}`)}createBug(e){return this.http.post(`${a.a}/${this.bugPrefix}`,e)}}return e.\u0275fac=function(t){return new(t||e)(b.Ub(s.b))},e.\u0275prov=b.Gb({token:e,factory:e.\u0275fac}),e})();var u=i("dJ3e"),g=i("3Pt+"),d=i("arFO");const p=["fileInput"];function m(e,t){if(1&e&&(b.Qb(0,"div",18),b.Qb(1,"div",27),b.Lb(2,"img",28),b.Pb(),b.Qb(3,"p",29),b.Fc(4),b.Pb(),b.Pb()),2&e){const e=b.bc();b.yb(2),b.ic("src",e.imageAsBase64,b.yc),b.yb(2),b.Gc(e.imageData.name)}}const f=function(){return{width:"200px"}};let h=(()=>{class e{constructor(e,t,i){this.bugService=e,this.alertService=t,this.router=i,this.bug=new o}ngOnInit(){this.getBugsTypes(),this.getBugsPriorities()}getBugsPriorities(){this.bugService.getAllBugsPriorities().subscribe(e=>{this.bugsPriorities=e})}getBugsTypes(){this.bugService.getAllBugsTypes().subscribe(e=>{this.bugsTypes=e})}onSubmit(e){if(e.invalid)return e.form.markAllAsTouched(),this.alertService.newAlert("error","Please complete all the required fields (*) first");this.bugService.createBug(this.bug).subscribe(e=>{this.alertService.newAlert("success","Bugs reported successfully, Thanks for help"),this.router.navigate(["/report-a-bug/list"])})}onImageSelect(e){this.imageData=void 0,this.imageAsBase64=void 0,this.imageData=e.target.files[0];let t=new FileReader;t.readAsDataURL(this.imageData),t.onload=()=>{this.imageAsBase64=t.result,console.log(this.bug.image),this.bug.image=this.imageAsBase64},t.onerror=function(e){console.log("Error: ",e)}}removeImage(){this.imageAsBase64=void 0,this.imageData=void 0,this.bug.image=void 0,this.fileInput.value=null}}return e.\u0275fac=function(t){return new(t||e)(b.Kb(c),b.Kb(u.a),b.Kb(n.c))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-bug-report"]],viewQuery:function(e,t){var i;1&e&&b.Jc(p,!0),2&e&&b.uc(i=b.Yb())&&(t.fileInput=i.first)},decls:37,vars:16,consts:[[1,"container","mb-5"],[1,"page-title"],[1,"text-primary","font-weight-bold"],[1,"row"],[1,"col-sm-8","col-xs-12"],[3,"ngSubmit"],["registerForm","ngForm"],[1,"mb-4"],[1,"col-7"],["required","","type","text","name","firstName","id","userName","aria-describedby","userName","placeholder","User Name *",1,"form-control","adler-form-control",3,"ngModel","ngModelChange"],["required","","type","text","name","bugName","id","bugName","aria-describedby","bugName","placeholder","bug *",1,"form-control","adler-form-control",3,"ngModel","ngModelChange"],[1,"col-6","mb-3"],["for","Type",1,"mr-3","d-block"],["id","type","name","type",3,"options","ngModel","required","ngModelChange"],["for","priority",1,"mr-3","d-block"],["id","priority","name","priority",3,"options","ngModel","required","ngModelChange"],[1,"col-12"],["required","","name","description","id","description","rows","5","aria-describedby","description","placeholder","Description *",1,"form-control","adler-form-control",3,"ngModel","ngModelChange"],[1,"col-6","mb-4"],[1,"custom-file"],["accept","image/*","type","file","id","customFileLang",1,"custom-file-input",3,"change"],["fileInput",""],["for","customFileLang",1,"custom-file-label"],["class","col-6 mb-4",4,"ngIf"],["type","submit",1,"btn","adler-btn"],[1,"ml-4"],[1,"fas","fa-arrow-right"],[1,"image-wrapper"],["alt","",3,"src"],[1,"mt-1","mb-1"]],template:function(e,t){if(1&e){const e=b.Rb();b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"h1",2),b.Fc(3,"Bug Report"),b.Pb(),b.Pb(),b.Qb(4,"div",3),b.Qb(5,"div",4),b.Qb(6,"form",5,6),b.Xb("ngSubmit",function(){b.wc(e);const i=b.vc(7);return t.onSubmit(i)}),b.Qb(8,"h5",7),b.Fc(9,"Please Help us by Filling the following form"),b.Pb(),b.Qb(10,"div",3),b.Qb(11,"div",8),b.Qb(12,"input",9),b.Xb("ngModelChange",function(e){return t.bug.userName=e}),b.Pb(),b.Pb(),b.Qb(13,"div",8),b.Qb(14,"input",10),b.Xb("ngModelChange",function(e){return t.bug.bugName=e}),b.Pb(),b.Pb(),b.Qb(15,"div",11),b.Qb(16,"label",12),b.Fc(17," Type * "),b.Pb(),b.Qb(18,"p-dropdown",13),b.Xb("ngModelChange",function(e){return t.bug.type=e}),b.Pb(),b.Pb(),b.Qb(19,"div",11),b.Qb(20,"label",14),b.Fc(21," Priority * "),b.Pb(),b.Qb(22,"p-dropdown",15),b.Xb("ngModelChange",function(e){return t.bug.priority=e}),b.Pb(),b.Pb(),b.Qb(23,"div",16),b.Qb(24,"textarea",17),b.Xb("ngModelChange",function(e){return t.bug.description=e}),b.Fc(25,"                      "),b.Pb(),b.Pb(),b.Qb(26,"div",18),b.Qb(27,"div",19),b.Qb(28,"input",20,21),b.Xb("change",function(e){return t.onImageSelect(e)}),b.Pb(),b.Qb(30,"label",22),b.Fc(31,"Image/Screenshot "),b.Pb(),b.Pb(),b.Pb(),b.Dc(32,m,5,2,"div",23),b.Pb(),b.Qb(33,"button",24),b.Fc(34,"Submit report"),b.Qb(35,"span",25),b.Lb(36,"i",26),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()}2&e&&(b.yb(12),b.ic("ngModel",t.bug.userName),b.yb(2),b.ic("ngModel",t.bug.bugName),b.yb(4),b.Bc(b.lc(14,f)),b.ic("options",t.bugsTypes)("ngModel",t.bug.type)("required",!0),b.yb(4),b.Bc(b.lc(15,f)),b.ic("options",t.bugsPriorities)("ngModel",t.bug.priority)("required",!0),b.yb(2),b.ic("ngModel",t.bug.description),b.yb(8),b.ic("ngIf",t.imageData&&t.imageAsBase64))},directives:[g.s,g.k,g.l,g.b,g.q,g.j,g.m,d.a,r.l],styles:[".image-wrapper[_ngcontent-%COMP%]{max-width:200px;max-height:500px}.image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}"]}),e})();var P=i("rEr+"),y=i("7zfz"),v=i("6t4m");function w(e,t){1&e&&(b.Qb(0,"tr"),b.Qb(1,"th",7),b.Fc(2," No "),b.Lb(3,"p-sortIcon",8),b.Pb(),b.Qb(4,"th",9),b.Fc(5," User Name "),b.Lb(6,"p-sortIcon",10),b.Pb(),b.Qb(7,"th",11),b.Fc(8," Bug Name "),b.Lb(9,"p-sortIcon",12),b.Pb(),b.Qb(10,"th",13),b.Fc(11," Type "),b.Lb(12,"p-sortIcon",14),b.Pb(),b.Qb(13,"th",15),b.Fc(14," Priority "),b.Lb(15,"p-sortIcon",16),b.Pb(),b.Qb(16,"th",17),b.Fc(17," Description "),b.Lb(18,"p-sortIcon",18),b.Pb(),b.Qb(19,"th",19),b.Fc(20," Attachments "),b.Lb(21,"p-sortIcon",20),b.Pb(),b.Pb())}function Q(e,t){if(1&e){const e=b.Rb();b.Qb(0,"div"),b.Qb(1,"a",23),b.Xb("click",function(){b.wc(e);const t=b.bc().$implicit;return b.bc().preview(t.image)}),b.Lb(2,"span",24),b.Pb(),b.Pb()}}function F(e,t){1&e&&(b.Qb(0,"div"),b.Fc(1," - "),b.Pb())}function C(e,t){if(1&e&&(b.Qb(0,"tr"),b.Qb(1,"td"),b.Fc(2),b.Pb(),b.Qb(3,"td"),b.Fc(4),b.Pb(),b.Qb(5,"td"),b.Fc(6),b.Pb(),b.Qb(7,"td"),b.Qb(8,"span",21),b.Fc(9),b.Pb(),b.Pb(),b.Qb(10,"td"),b.Qb(11,"span",21),b.Fc(12),b.Pb(),b.Pb(),b.Qb(13,"td"),b.Fc(14),b.Pb(),b.Qb(15,"td"),b.Dc(16,Q,3,0,"div",22),b.Dc(17,F,2,0,"div",22),b.Pb(),b.Pb()),2&e){const e=t.$implicit;b.yb(2),b.Gc(null==e?null:e.id),b.yb(2),b.Gc(null==e?null:e.userName),b.yb(2),b.Gc(null==e?null:e.bugName),b.yb(2),b.ic("ngClass",null==e?null:e.type),b.yb(1),b.Hc(" ",null==e?null:e.type," "),b.yb(2),b.ic("ngClass",null==e?null:e.priority),b.yb(1),b.Hc(" ",null==e?null:e.priority," "),b.yb(2),b.Gc(null==e?null:e.description),b.yb(2),b.ic("ngIf",e.image&&"string"!=e.image),b.yb(1),b.ic("ngIf",!e.image||"string"==e.image)}}function M(e,t){if(1&e&&(b.Qb(0,"tr"),b.Qb(1,"td"),b.Fc(2,"No records found"),b.Pb(),b.Pb()),2&e){const e=b.bc();b.yb(1),b.zb("colspan",e.bugList.length)}}const N=function(){return["bugName","userName","description","type","priority"]},B=[{path:"",component:h},{path:"list",component:(()=>{class e{constructor(e){this.bugService=e,this.bugList=[]}ngOnInit(){this.getAllBugs()}getAllBugs(){this.bugService.getAllBugs().subscribe(e=>{this.bugList=e.data})}download(e){let t=String(e).split(",")[1];window.open(t,"_blank")}preview(e){let t=window.open("about:blank"),i=new Image;i.src=e,setTimeout(function(){t.document.write(i.outerHTML)},0)}}return e.\u0275fac=function(t){return new(t||e)(b.Kb(c))},e.\u0275cmp=b.Eb({type:e,selectors:[["app-bugs-list"]],decls:8,vars:9,consts:[[1,"container","pt-5","pb-5"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","id",2,"width","4rem"],["field","id"],["pSortableColumn","userName"],["field","userName"],["pSortableColumn","bugName",2,"width","10rem"],["field","bugName"],["pSortableColumn","type"],["field","type"],["pSortableColumn","priority",2,"width","8rem"],["field","priority"],["pSortableColumn","description",2,"width","25rem"],["field","description"],["pSortableColumn","image"],["field","image"],[1,"p-2",3,"ngClass"],[4,"ngIf"],["title","Preview",1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-eye","font-weight-bold"]],template:function(e,t){1&e&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"p-table",2,3),b.Dc(4,w,22,0,"ng-template",4),b.Dc(5,C,18,10,"ng-template",5),b.Dc(6,M,3,1,"ng-template",6),b.Pb(),b.Lb(7,"p-paginator"),b.Pb(),b.Pb()),2&e&&(b.yb(2),b.ic("responsive",!0)("value",t.bugList)("rows",10)("paginator",!0)("globalFilterFields",b.lc(8,N))("rowHover",!0)("paginator",!1)("showCurrentPageReport",!0))},directives:[P.c,y.i,v.a,P.b,P.a,r.j,r.l],styles:[".High[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.Medium[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff}.Low[_ngcontent-%COMP%]{background-color:#ffc107;color:#fff}"]}),e})()},{path:"*",redirectTo:""}];let I=(()=>{class e{}return e.\u0275mod=b.Ib({type:e}),e.\u0275inj=b.Hb({factory:function(t){return new(t||e)},imports:[[n.g.forChild(B)],n.g]}),e})();var S=i("PCNd");let L=(()=>{class e{}return e.\u0275mod=b.Ib({type:e}),e.\u0275inj=b.Hb({factory:function(t){return new(t||e)},providers:[c],imports:[[r.c,I,S.a]]}),e})()}}]);