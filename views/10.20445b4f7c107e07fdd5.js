(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{qe5e:function(e,t,i){"use strict";var n,o;function r(e,t){if(!e)throw"First parameter is required.";t=new a(e,t=t||{type:"video"});var i=this;function n(i){i&&(t.initCallback=function(){i(),i=t.initCallback=null});var n=new s(e,t);(m=new n(e,t)).record(),l("recording"),t.disableLogs||console.log("Initialized recorderType:",m.constructor.name,"for output-type:",t.type)}function o(e){if(e=e||function(){},m){if("paused"===i.state)return i.resumeRecording(),void setTimeout(function(){o(e)},1);"recording"===i.state||t.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',i.state),t.disableLogs||console.log("Stopped recording "+t.type+" stream."),"gif"!==t.type?m.stop(n):(m.stop(),n()),l("stopped")}else p();function n(n){if(m){Object.keys(m).forEach(function(e){"function"!=typeof m[e]&&(i[e]=m[e])});var o=m.blob;if(!o){if(!n)throw"Recording failed.";m.blob=o=n}if(o&&!t.disableLogs&&console.log(o.type,"->",y(o.size)),e){var r;try{r=f.createObjectURL(o)}catch(a){}"function"==typeof e.call?e.call(i,r):e(r)}t.autoWriteToDisk&&d(function(e){var i={};i[t.type+"Blob"]=e,D.Store(i)})}else"function"==typeof e.call?e.call(i,""):e("")}}function c(e){postMessage((new FileReaderSync).readAsDataURL(e))}function d(e,i){if(!e)throw"Pass a callback function over getDataURL.";var n=i?i.blob:(m||{}).blob;if(!n)return t.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout(function(){d(e,i)},1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var o=new FileReader;o.readAsDataURL(n),o.onload=function(t){e(t.target.result)}}else{var r=function(e){try{var t=f.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(t);return f.revokeObjectURL(t),i}catch(n){}}(c);r.onmessage=function(t){e(t.data)},r.postMessage(n)}}function u(e){e=e||0,"paused"!==i.state?"stopped"!==i.state&&(e>=i.recordingDuration?o(i.onRecordingStopped):(e+=1e3,setTimeout(function(){u(e)},1e3))):setTimeout(function(){u(e)},1e3)}function l(e){i&&(i.state=e,"function"==typeof i.onStateChanged.call?i.onStateChanged.call(i,e):i.onStateChanged(e))}var m,g='It seems that recorder is destroyed or "startRecording" is not invoked for '+t.type+" recorder.";function p(){!0!==t.disableLogs&&console.warn(g)}var h={startRecording:function(o){return t.disableLogs||console.log("RecordRTC version: ",i.version),o&&(t=new a(e,o)),t.disableLogs||console.log("started recording "+t.type+" stream."),m?(m.clearRecordedData(),m.record(),l("recording"),i.recordingDuration&&u(),i):(n(function(){i.recordingDuration&&u()}),i)},stopRecording:o,pauseRecording:function(){m?"recording"===i.state?(l("paused"),m.pause(),t.disableLogs||console.log("Paused recording.")):t.disableLogs||console.warn("Unable to pause the recording. Recording state: ",i.state):p()},resumeRecording:function(){m?"paused"===i.state?(l("recording"),m.resume(),t.disableLogs||console.log("Resumed recording.")):t.disableLogs||console.warn("Unable to resume the recording. Recording state: ",i.state):p()},initRecorder:n,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return i.recordingDuration=e,i.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){i.onRecordingStopped=e}}},clearRecordedData:function(){m?(m.clearRecordedData(),t.disableLogs||console.log("Cleared old recorded data.")):p()},getBlob:function(){if(m)return m.blob;p()},getDataURL:d,toURL:function(){if(m)return f.createObjectURL(m.blob);p()},getInternalRecorder:function(){return m},save:function(e){m?R(m.blob,e):p()},getFromDisk:function(e){m?r.getFromDisk(t.type,e):p()},setAdvertisementArray:function(e){t.advertisement=[];for(var i=e.length,n=0;n<i;n++)t.advertisement.push({duration:n,image:e[n]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==i.state||t.disableLogs||console.warn("Stop an active recorder."),m&&"function"==typeof m.clearRecordedData&&m.clearRecordedData(),m=null,l("inactive"),i.blob=null},onStateChanged:function(e){t.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return i.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},i.reset(),l("destroyed"),h=i=null,P.AudioContextConstructor&&(P.AudioContextConstructor.close(),P.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.1"};if(!this)return i=h,h;for(var b in h)this[b]=h[b];return i=this,h}function a(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===O||t.recorderType===L||t.recorderType===G?t.type="video":t.recorderType===I?t.type="gif":t.recorderType===T?t.type="audio":t.recorderType===k&&(x(e,"audio").length&&x(e,"video").length||!x(e,"audio").length&&x(e,"video").length?t.type="video":x(e,"audio").length&&!x(e,"video").length&&(t.type="audio"))),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0])),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function s(e,t){var i;return(b||g||p)&&(i=T),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!b&&(i=k),"video"===t.type&&(b||p)&&(i=O,"undefined"!=typeof ReadableStream&&(i=G)),"gif"===t.type&&(i=I),"canvas"===t.type&&(i=L),M()&&i!==L&&i!==I&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(x(e,"video").length||x(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(i=k):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(i=k)),e instanceof Array&&e.length&&(i=_),t.recorderType&&(i=t.recorderType),!t.disableLogs&&i&&i.name&&console.log("Using recorderType:",i.name||i.constructor.name),!i&&v&&(i=k),i}function c(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,i=this.mediaType,n=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof i.audio&&M()&&!x(e,"audio").length&&(i.audio=!1),"function"!=typeof i.video&&M()&&!x(e,"video").length&&(i.video=!1),"function"!=typeof i.gif&&M()&&!x(e,"video").length&&(i.gif=!1),!i.audio&&!i.video&&!i.gif)throw"MediaStream must have either audio or video tracks.";if(i.audio&&(t=null,"function"==typeof i.audio&&(t=i.audio),this.audioRecorder=new r(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:n.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),i.video||this.audioRecorder.startRecording()),i.video){t=null,"function"==typeof i.video&&(t=i.video);var o=e;if(M()&&i.audio&&"function"==typeof i.audio){var a=x(e,"video")[0];h?((o=new w).addTrack(a),t&&t===O&&(t=k)):(o=new w).addTrack(a)}this.videoRecorder=new r(o,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:n.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),i.audio||this.videoRecorder.startRecording()}if(i.audio&&i.video){var s=this,c=!0===M();(i.audio instanceof T&&i.video||!0!==i.audio&&!0!==i.video&&i.audio!==i.video)&&(c=!1),!0===c?(s.audioRecorder=null,s.videoRecorder.startRecording()):s.videoRecorder.initRecorder(function(){s.audioRecorder.initRecorder(function(){s.videoRecorder.startRecording(),s.audioRecorder.startRecording()})})}i.gif&&(t=null,"function"==typeof i.gif&&(t=i.gif),this.gifRecorder=new r(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:n.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording(function(t){e(t,"audio")}),this.videoRecorder&&this.videoRecorder.stopRecording(function(t){e(t,"video")}),this.gifRecorder&&this.gifRecorder.stopRecording(function(t){e(t,"gif")})},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var i=function(e){var t,i=f.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(i);if(void 0!==f)t=f;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(i),n}(function(e){postMessage((new FileReaderSync).readAsDataURL(e))});i.onmessage=function(e){t(e.data)},i.postMessage(e)}else{var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){t(e.target.result)}}}this.getBlob(function(i){i.audio&&i.video?t(i.audio,function(n){t(i.video,function(t){e({audio:n,video:t})})}):i.audio?t(i.audio,function(t){e({audio:t})}):i.video&&t(i.video,function(t){e({video:t})})})},this.writeToDisk=function(){r.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}r.version="5.6.1",e.exports=r,void 0===(n=(function(){return r}).apply(t,[]))||(e.exports=n),r.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),D.Fetch(function(i,n){"all"!==e&&n===e+"Blob"&&t&&t(i),"all"===e&&t&&t(i,n.replace("Blob",""))})},r.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL(function(t){e.video.getDataURL(function(i){e.gif.getDataURL(function(e){D.Store({audioBlob:t,videoBlob:i,gifBlob:e})})})}):e.audio&&e.video?e.audio.getDataURL(function(t){e.video.getDataURL(function(e){D.Store({audioBlob:t,videoBlob:e})})}):e.audio&&e.gif?e.audio.getDataURL(function(t){e.gif.getDataURL(function(e){D.Store({audioBlob:t,gifBlob:e})})}):e.video&&e.gif?e.video.getDataURL(function(t){e.gif.getDataURL(function(e){D.Store({videoBlob:t,gifBlob:e})})}):e.audio?e.audio.getDataURL(function(e){D.Store({audioBlob:e})}):e.video?e.video.getDataURL(function(e){D.Store({videoBlob:e})}):e.gif&&e.gif.getDataURL(function(e){D.Store({gifBlob:e})})},c.getFromDisk=r.getFromDisk,c.writeToDisk=r.writeToDisk,r.MRecordRTC=c,(o="undefined"!=typeof global?global:null)&&"undefined"==typeof window&&"undefined"!=typeof global&&(global.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},global.console||(global.console={}),void 0!==global.console.log&&void 0!==global.console.error||(global.console.error=global.console.log=global.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(o.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},o.HTMLVideoElement=function(){}),"undefined"==typeof location&&(o.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(o.screen={width:0,height:0}),void 0===f&&(o.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),o.window=global);var d=window.requestAnimationFrame;if(void 0===d)if("undefined"!=typeof webkitRequestAnimationFrame)d=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)d=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)d=msRequestAnimationFrame;else if(void 0===d){var u=0;d=function(e,t){var i=(new Date).getTime(),n=Math.max(0,16-(i-u)),o=setTimeout(function(){e(i+n)},n);return u=i+n,o}}var l=window.cancelAnimationFrame;void 0===l&&("undefined"!=typeof webkitCancelAnimationFrame?l=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?l=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?l=msCancelAnimationFrame:void 0===l&&(l=function(e){clearTimeout(e)}));var m=window.AudioContext;void 0===m&&("undefined"!=typeof webkitAudioContext&&(m=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(m=mozAudioContext));var f=window.URL;void 0===f&&"undefined"!=typeof webkitURL&&(f=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var g=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),p=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),h=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),b=!p&&!g&&!!navigator.webkitGetUserMedia||C()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),v=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);v&&!b&&-1!==navigator.userAgent.indexOf("CriOS")&&(v=!1,b=!0);var w=window.MediaStream;function y(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function R(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(a){}var i=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var n=t.split(".");t=n[0],i=n[1]}var o=(t||Math.round(9999999999*Math.random())+888888888)+"."+i;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,o);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,o);var r=document.createElement("a");r.href=f.createObjectURL(e),r.download=o,r.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(r),"function"==typeof r.click?r.click():(r.target="_blank",r.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),f.revokeObjectURL(r.href)}function C(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}function x(e,t){return e&&e.getTracks?e.getTracks().filter(function(e){return e.kind===(t||"audio")}):[]}function S(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}void 0===w&&"undefined"!=typeof webkitMediaStream&&(w=webkitMediaStream),void 0!==w&&void 0===w.prototype.stop&&(w.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})}),r.invokeSaveAsDialog=R,r.getTracks=x,r.getSeekableBlob=function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var i=new EBML.Reader,n=new EBML.Decoder,o=EBML.tools,r=new FileReader;r.onload=function(e){n.decode(this.result).forEach(function(e){i.read(e)}),i.stop();var r=o.makeMetadataSeekable(i.metadatas,i.duration,i.cues),a=this.result.slice(i.metadataSize),s=new Blob([r,a],{type:"video/webm"});t(s)},r.readAsArrayBuffer(e)},r.bytesToSize=y,r.isElectron=C;var P={};function M(){if(h||v||g)return!0;navigator;var e,t,i=navigator.userAgent,n=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return(b||p)&&(e=i.indexOf("Chrome"),n=i.substring(e+7)),-1!==(t=n.indexOf(";"))&&(n=n.substring(0,t)),-1!==(t=n.indexOf(" "))&&(n=n.substring(0,t)),o=parseInt(""+n,10),isNaN(o)&&(n=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),o>=49}function k(e,t){var i,n=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";"audio"===(t=t||{mimeType:"video/webm"}).type&&(x(e,"video").length&&x(e,"audio").length&&(navigator.mozGetUserMedia?(i=new w).addTrack(x(e,"audio")[0]):i=new w(x(e,"audio")),e=i),t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=b?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg"));var o,r=[];function a(){n.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(n.timestamps[n.timestamps.length-1],n.timestamps)}function s(e){return o&&o.mimeType?o.mimeType:e.mimeType||"video/webm"}function c(){r=[],o=null,n.timestamps=[]}this.getArrayOfBlobs=function(){return r},this.record=function(){n.blob=null,n.clearRecordedData(),n.timestamps=[],d=[],r=[];var i=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",i),o&&(o=null),b&&!M()&&(i="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&i.mimeType&&(MediaRecorder.isTypeSupported(i.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType),i.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{o=new MediaRecorder(e,i),t.mimeType=i.mimeType}catch(c){o=new MediaRecorder(e)}i.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in o&&!1===o.canRecordMimeType(i.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",i.mimeType)),o.ondataavailable=function(e){if(e.data&&d.push("ondataavailable: "+y(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||n.blob?n.recordingCallback&&(n.recordingCallback(new Blob([],{type:s(i)})),n.recordingCallback=null):(n.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:s(i)}),n.recordingCallback&&(n.recordingCallback(n.blob),n.recordingCallback=null));else if(e.data&&e.data.size&&e.data.size>100&&(r.push(e.data),a(),"function"==typeof t.ondataavailable)){var o=t.getNativeBlob?e.data:new Blob([e.data],{type:s(i)});t.ondataavailable(o)}},o.onstart=function(){d.push("started")},o.onpause=function(){d.push("paused")},o.onresume=function(){d.push("resumed")},o.onstop=function(){d.push("stopped")},o.onerror=function(e){e&&(e.name||(e.name="UnknownError"),d.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",i.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!n.manuallyStopped&&o&&"inactive"===o.state)return delete t.timeslice,void o.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==o.state&&"stopped"!==o.state&&o.stop())},"number"==typeof t.timeSlice?(a(),o.start(t.timeSlice)):o.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},n.manuallyStopped=!0,o&&(this.recordingCallback=e,"recording"===o.state&&o.stop(),"number"==typeof t.timeSlice&&setTimeout(function(){n.blob=new Blob(r,{type:s(t)}),n.recordingCallback(n.blob)},100))},this.pause=function(){o&&"recording"===o.state&&o.pause()},this.resume=function(){o&&"paused"===o.state&&o.resume()},this.clearRecordedData=function(){o&&"recording"===o.state&&n.stop(c),c()},this.getInternalRecorder=function(){return o},this.blob=null,this.getState=function(){return o&&o.state||"inactive"};var d=[];this.getAllStates=function(){return d},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1),n=this,function i(){if(o&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void n.stop()):void setTimeout(i,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function T(e,t){if(!x(e,"audio").length)throw"Your stream has no audio tracks.";var i,n=this,o=[],a=[],s=!1,c=0,d=2,u=(t=t||{}).desiredSampRate;function l(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function m(e,t){function i(e,t){var i,n=e.numberOfAudioChannels,o=e.leftBuffers.slice(0),r=e.rightBuffers.slice(0),a=e.sampleRate,s=e.internalInterleavedLength,c=e.desiredSampRate;function d(e,t,i){var n=Math.round(e.length*(t/i)),o=[],r=Number((e.length-1)/(n-1));o[0]=e[0];for(var a=1;a<n-1;a++){var s=a*r,c=Number(Math.floor(s)).toFixed(),d=Number(Math.ceil(s)).toFixed();o[a]=u(e[c],e[d],s-c)}return o[n-1]=e[e.length-1],o}function u(e,t,i){return e+(t-e)*i}function l(e,t){for(var i=new Float64Array(t),n=0,o=e.length,r=0;r<o;r++){var a=e[r];i.set(a,n),n+=a.length}return i}function m(e,t,i){for(var n=i.length,o=0;o<n;o++)e.setUint8(t+o,i.charCodeAt(o))}2===n&&(o=l(o,s),r=l(r,s),c&&(o=d(o,c,a),r=d(r,c,a))),1===n&&(o=l(o,s),c&&(o=d(o,c,a))),c&&(a=c),2===n&&(i=function(e,t){for(var i=e.length+t.length,n=new Float64Array(i),o=0,r=0;r<i;)n[r++]=e[o],n[r++]=t[o],o++;return n}(o,r)),1===n&&(i=o);var f=i.length,g=new ArrayBuffer(44+2*f),p=new DataView(g);m(p,0,"RIFF"),p.setUint32(4,36+2*f,!0),m(p,8,"WAVE"),m(p,12,"fmt "),p.setUint32(16,16,!0),p.setUint16(20,1,!0),p.setUint16(22,n,!0),p.setUint32(24,a,!0),p.setUint32(28,2*a,!0),p.setUint16(32,2*n,!0),p.setUint16(34,16,!0),m(p,36,"data"),p.setUint32(40,2*f,!0);for(var h=f,b=44,v=0;v<h;v++)p.setInt16(b,32767*i[v],!0),b+=2;if(t)return t({buffer:g,view:p});postMessage({buffer:g,view:p})}if(e.noWorker)i(e,function(e){t(e.buffer,e.view)});else{var n,o,r,a=(n=i,o=f.createObjectURL(new Blob([n.toString(),";this.onmessage =  function (eee) {"+n.name+"(eee.data);}"],{type:"application/javascript"})),(r=new Worker(o)).workerURL=o,r);a.onmessage=function(e){t(e.data.buffer,e.data.view),f.revokeObjectURL(a.workerURL),a.terminate()},a.postMessage(e)}}!0===t.leftChannel&&(d=1),1===t.numberOfAudioChannels&&(d=1),(!d||d<1)&&(d=2),t.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+d),void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===l())throw"Please make sure MediaStream is active.";y(),C=w=!1,s=!0,void 0!==t.timeSlice&&P()},this.stop=function(e){e=e||function(){},s=!1,m({desiredSampRate:u,sampleRate:v,numberOfAudioChannels:d,internalInterleavedLength:c,leftBuffers:o,rightBuffers:1===d?[]:a,noWorker:t.noWorker},function(t,i){n.blob=new Blob([i],{type:"audio/wav"}),n.buffer=new ArrayBuffer(i.buffer.byteLength),n.view=i,n.sampleRate=u||v,n.bufferSize=b,n.length=c,C=!1,e&&e(n.blob)})},void 0===r.Storage&&(r.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),r.Storage.AudioContextConstructor&&"closed"!==r.Storage.AudioContextConstructor.state||(r.Storage.AudioContextConstructor=new r.Storage.AudioContext);var g=r.Storage.AudioContextConstructor,p=g.createMediaStreamSource(e),h=[0,256,512,1024,2048,4096,8192,16384],b=void 0===t.bufferSize?4096:t.bufferSize;if(-1===h.indexOf(b)&&(t.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(h,null,"\t"))),g.createJavaScriptNode)i=g.createJavaScriptNode(b,d,d);else{if(!g.createScriptProcessor)throw"WebAudio API has no support on this browser.";i=g.createScriptProcessor(b,d,d)}p.connect(i),t.bufferSize||(b=i.bufferSize);var v=void 0!==t.sampleRate?t.sampleRate:g.sampleRate||44100;(v<22050||v>96e3)&&(t.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),t.disableLogs||t.desiredSampRate&&console.log("Desired sample-rate: "+t.desiredSampRate);var w=!1;function y(){a=[],c=0,C=!1,s=!1,w=!1,g=null,n.leftchannel=o=[],n.rightchannel=a,n.numberOfAudioChannels=d,n.desiredSampRate=u,n.sampleRate=v,n.recordingLength=c,S={left:[],right:[],recordingLength:0}}function R(){i&&(i.onaudioprocess=null,i.disconnect(),i=null),p&&(p.disconnect(),p=null),y()}this.pause=function(){w=!0},this.resume=function(){if(!1===l())throw"Please make sure MediaStream is active.";if(!s)return t.disableLogs||console.log("Seems recording has been restarted."),void this.record();w=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,s&&this.stop(R),R()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var C=!1;i.onaudioprocess=function(e){if(!w)if(!1===l()&&(t.disableLogs||console.log("MediaStream seems stopped."),i.disconnect(),s=!1),s){C||(C=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var r=e.inputBuffer.getChannelData(0),u=new Float32Array(r);if(o.push(u),2===d){var m=e.inputBuffer.getChannelData(1),f=new Float32Array(m);a.push(f)}n.recordingLength=c+=b,void 0!==t.timeSlice&&(S.recordingLength+=b,S.left.push(u),2===d&&S.right.push(f))}else p&&(p.disconnect(),p=null)},i.connect(g.createMediaStreamDestination?g.createMediaStreamDestination():g.destination),this.leftchannel=o,this.rightchannel=a,this.numberOfAudioChannels=d,this.desiredSampRate=u,this.sampleRate=v,n.recordingLength=c;var S={left:[],right:[],recordingLength:0};function P(){s&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(S.left.length?(m({desiredSampRate:u,sampleRate:v,numberOfAudioChannels:d,internalInterleavedLength:S.recordingLength,leftBuffers:S.left,rightBuffers:1===d?[]:S.right},function(e,i){var n=new Blob([i],{type:"audio/wav"});t.ondataavailable(n),setTimeout(P,t.timeSlice)}),S={left:[],right:[],recordingLength:0}):setTimeout(P,t.timeSlice))}}function L(e,t){if("undefined"==typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var i=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach(function(e){e in document.createElement("canvas")&&(i=!0)});var n,o,r,a=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),s=50,c=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(a&&c&&c[2]&&(s=parseInt(c[2],10)),a&&s<52&&(i=!1),t.useWhammyRecorder&&(i=!1),i)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)n=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";n=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(r=!0,i&&!t.useWhammyRecorder){var e;"captureStream"in n?e=n.captureStream(25):"mozCaptureStream"in n?e=n.mozCaptureStream(25):"webkitCaptureStream"in n&&(e=n.webkitCaptureStream(25));try{var a=new w;a.addTrack(x(e,"video")[0]),e=a}catch(s){}if(!e)throw"captureStream API are NOT available.";(o=new k(e,{mimeType:t.mimeType||"video/webm"})).record()}else f.frames=[],m=(new Date).getTime(),l();t.initCallback&&t.initCallback()},this.getWebPImages=function(i){if("canvas"===e.nodeName.toLowerCase()){var n=f.frames.length;f.frames.forEach(function(e,i){var o=n-i;t.disableLogs||console.log(o+"/"+n+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(o,n);var r=e.image.toDataURL("image/webp",1);f.frames[i].image=r}),t.disableLogs||console.log("Generating WebM"),i()}else i()},this.stop=function(e){r=!1;var n=this;i&&o?o.stop(e):this.getWebPImages(function(){f.compile(function(i){t.disableLogs||console.log("Recording finished!"),n.blob=i,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob),f.frames=[]})})};var d=!1;function u(){f.frames=[],r=!1,d=!1}function l(){if(d)return m=(new Date).getTime(),setTimeout(l,500);if("canvas"===e.nodeName.toLowerCase()){var i=(new Date).getTime()-m;return m=(new Date).getTime(),f.frames.push({image:(n=document.createElement("canvas"),o=n.getContext("2d"),n.width=e.width,n.height=e.height,o.drawImage(e,0,0),n),duration:i}),void(r&&setTimeout(l,t.frameInterval))}var n,o;html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var i=(new Date).getTime()-m;if(!i)return setTimeout(l,t.frameInterval);m=(new Date).getTime(),f.frames.push({image:e.toDataURL("image/webp",1),duration:i}),r&&setTimeout(l,t.frameInterval)}})}this.pause=function(){d=!0,o instanceof k&&o.pause()},this.resume=function(){d=!1,o instanceof k?o.resume():r||this.record()},this.clearRecordedData=function(){r&&this.stop(u),u()},this.name="CanvasRecorder",this.toString=function(){return this.name};var m=(new Date).getTime(),f=new A.Video(100)}function O(e,t){function i(e){e=void 0!==e?e:10;var t=(new Date).getTime()-s;return t?o?(s=(new Date).getTime(),setTimeout(i,100)):(s=(new Date).getTime(),a.paused&&a.play(),u.drawImage(a,0,0,d.width,d.height),c.frames.push({duration:t,image:d.toDataURL("image/webp")}),void(n||setTimeout(i,e,e))):setTimeout(i,e,e)}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),d.width=t.canvas.width||320,d.height=t.canvas.height||240,u=d.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(a=t.video.cloneNode(),t.initCallback&&t.initCallback()):(a=document.createElement("video"),S(e,a),a.onloadedmetadata=function(){t.initCallback&&t.initCallback()},a.width=t.video.width,a.height=t.video.height),a.muted=!0,a.play(),s=(new Date).getTime(),c=new A.Video,t.disableLogs||(console.log("canvas resolutions",d.width,"*",d.height),console.log("video width/height",a.width||d.width,"*",a.height||d.height)),i(t.frameInterval)};var n=!1;this.stop=function(e){e=e||function(){},n=!0;var i=this;setTimeout(function(){!function(e,t,i,n,o){var r=document.createElement("canvas");r.width=d.width,r.height=d.height;var a,s,c,u=r.getContext("2d"),l=[],m=e.length,f=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),g=!1;s=-1,c=(a={length:m,functionToLoop:function(t,i){var n,o,r,a=function(){!g&&r-n<=0*r||(g=!0,l.push(e[i])),t()};if(g)a();else{var s=new Image;s.onload=function(){u.drawImage(s,0,0,d.width,d.height);var e=u.getImageData(0,0,d.width,d.height);n=0,o=e.data.length,r=e.data.length/4;for(var t=0;t<o;t+=4){var i={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(i.r-0,2)+Math.pow(i.g-0,2)+Math.pow(i.b-0,2))<=0*f&&n++}a()},s.src=e[i].image}},callback:function(){(l=l.concat(e.slice(m))).length<=0&&l.push(e[e.length-1]),o(l)}}).length,function e(){++s!==c?setTimeout(function(){a.functionToLoop(e,s)},1):a.callback()}()}(c.frames,0,0,0,function(n){c.frames=n,t.advertisement&&t.advertisement.length&&(c.frames=t.advertisement.concat(c.frames)),c.compile(function(t){i.blob=t,i.blob.forEach&&(i.blob=new Blob([],{type:"video/webm"})),e&&e(i.blob)})})},10)};var o=!1;function r(){c.frames=[],n=!0,o=!1}this.pause=function(){o=!0},this.resume=function(){o=!1,n&&this.record()},this.clearRecordedData=function(){n||this.stop(r),r()},this.name="WhammyRecorder",this.toString=function(){return this.name};var a,s,c,d=document.createElement("canvas"),u=d.getContext("2d")}void 0!==m?P.AudioContext=m:"undefined"!=typeof webkitAudioContext&&(P.AudioContext=webkitAudioContext),r.Storage=P,r.MediaStreamRecorder=k,r.StereoAudioRecorder=T,r.CanvasRecorder=L,r.WhammyRecorder=O;var A=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,i){return[{data:e,id:231}].concat(i.map(function(e){var i=function(e){var t=0;if(e.keyframe&&(t|=128),e.invisible&&(t|=8),e.lacing&&(t|=e.lacing<<1),e.discardable&&(t|=1),e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map(function(e){return String.fromCharCode(e)}).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:i,id:163}}))}function i(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function n(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var i=0;i<e.length;i+=8)t.push(parseInt(e.substr(i,8),2));return new Uint8Array(t)}function o(e){for(var t=[],r=0;r<e.length;r++){var a=e[r].data;"object"==typeof a&&(a=o(a)),"number"==typeof a&&(a=n(a.toString(2))),"string"==typeof a&&(a=new Uint8Array(a.split("").map(function(e){return e.charCodeAt(0)})));var s=a.size||a.byteLength||a.length,c=Math.ceil(Math.ceil(Math.log(s)/Math.log(2))/8),d=s.toString(2),u=new Array(7*c+7+1-d.length).join("0")+d,l=new Array(c).join("0")+"1"+u;t.push(i(e[r].id)),t.push(n(l)),t.push(a)}return new Blob(t,{type:"video/webm"})}function r(e,t){return parseInt(e.substr(t+4,4).split("").map(function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t}).join(""),2)}function a(e){for(var t=0,i={};t<e.length;){var n=e.substr(t,4),o=r(e,t),s=e.substr(t+4+4,o);t+=8+o,i[n]=i[n]||[],i[n].push("RIFF"===n||"LIST"===n?a(s):s)}return i}var s=new function(e){var i=function(e){if(e[0]){for(var t=e[0].width,i=e[0].height,n=e[0].duration,o=1;o<e.length;o++)n+=e[o].duration;return{duration:n,width:t,height:i}}postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."})}(e);if(!i)return[];for(var n,r=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(n=i.duration,[].slice.call(new Uint8Array(new Float64Array([n]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:i.width,id:176},{data:i.height,id:186}]}]}]}]}],a=0,s=0;a<e.length;){var c=[],d=0;do{c.push(e[a]),d+=e[a].duration,a++}while(a<e.length&&d<3e4);var u={id:524531317,data:t(s,0,c)};r[1].data.push(u),s+=d}return o(r)}(e.map(function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],i=t.indexOf("\x9d\x01*"),n=0,o=[];n<4;n++)o[n]=t.charCodeAt(i+3+n);return{width:16383&(o[1]<<8|o[0]),height:16383&(o[3]<<8|o[2]),data:t,riff:e}}(a(atob(e.image.slice(23))));return t.duration=e.duration,t}));postMessage(s)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var i,n,o,r=(i=t,n=f.createObjectURL(new Blob([i.toString(),"this.onmessage =  function (eee) {"+i.name+"(eee.data);}"],{type:"application/javascript"})),o=new Worker(n),f.revokeObjectURL(n),o);r.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},r.postMessage(this.frames)},{Video:e}}();r.Whammy=A;var D={init:function(){var e=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var t,i=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),n=indexedDB.open(i,1);n.onerror=e.onError,n.onsuccess=function(){(t=n.result).onerror=e.onError,t.setVersion&&1!==t.version?t.setVersion(1).onsuccess=function(){o(t),r()}:r()},n.onupgradeneeded=function(e){o(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function o(t){t.createObjectStore(e.dataStoreName)}function r(){var i=t.transaction([e.dataStoreName],"readwrite");function n(t){i.objectStore(e.dataStoreName).get(t).onsuccess=function(i){e.callback&&e.callback(i.target.result,t)}}e.videoBlob&&i.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&i.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&i.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),n("audioBlob"),n("videoBlob"),n("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};function I(e,t){if("undefined"==typeof GIFEncoder){var i=document.createElement("script");i.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(i)}t=t||{};var n=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&s?(n||(t.width||(t.width=c.offsetWidth||320),t.height||(t.height=c.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),r.width=t.canvas.width||320,r.height=t.canvas.height||240,c.width=t.video.width||320,c.height=t.video.height||240),(m=new GIFEncoder).setRepeat(0),m.setDelay(t.frameRate||200),m.setQuality(t.quality||10),m.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),f=d(function e(i){if(!0!==g.clearedRecordedData){if(o)return setTimeout(function(){e(i)},100);f=d(e),void 0===typeof u&&(u=i),i-u<90||(!n&&c.paused&&c.play(),n||a.drawImage(c,0,0,r.width,r.height),t.onGifPreview&&t.onGifPreview(r.toDataURL("image/png")),m.addFrame(a),u=i)}}),t.initCallback&&t.initCallback()):setTimeout(g.record,1e3)},this.stop=function(e){e=e||function(){},f&&l(f),Date.now(),this.blob=new Blob([new Uint8Array(m.stream().bin)],{type:"image/gif"}),e(this.blob),m.stream().bin=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){g.clearedRecordedData=!0,m&&(m.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var r=document.createElement("canvas"),a=r.getContext("2d");n&&(e instanceof CanvasRenderingContext2D?r=(a=e).canvas:e instanceof HTMLCanvasElement&&(a=e.getContext("2d"),r=e));var s=!0;if(!n){var c=document.createElement("video");c.muted=!0,c.autoplay=!0,c.playsInline=!0,s=!1,c.onloadedmetadata=function(){s=!0},S(e,c),c.play()}var u,m,f=null,g=this}function U(e,t){"undefined"!=typeof global&&global,t=t||"multi-streams-mixer";var i=[],n=!1,o=document.createElement("canvas"),r=o.getContext("2d");o.style.opacity=0,o.style.position="absolute",o.style.zIndex=-1,o.style.top="-1000em",o.style.left="-1000em",o.className=t,(document.body||document.documentElement).appendChild(o),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var a=this,s=window.AudioContext;void 0===s&&("undefined"!=typeof webkitAudioContext&&(s=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(s=mozAudioContext));var c=window.URL;void 0===c&&"undefined"!=typeof webkitURL&&(c=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var d=window.MediaStream;void 0===d&&"undefined"!=typeof webkitMediaStream&&(d=webkitMediaStream),void 0!==d&&void 0===d.prototype.stop&&(d.prototype.stop=function(){this.getTracks().forEach(function(e){e.stop()})});var u={};function l(){if(!n){var e=i.length,t=!1,r=[];if(i.forEach(function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:r.push(e)}),t)o.width=t.stream.width,o.height=t.stream.height;else if(r.length){o.width=e>1?2*r[0].width:r[0].width;var s=1;3!==e&&4!==e||(s=2),5!==e&&6!==e||(s=3),7!==e&&8!==e||(s=4),9!==e&&10!==e||(s=5),o.height=r[0].height*s}else o.width=a.width||360,o.height=a.height||240;t&&t instanceof HTMLVideoElement&&m(t),r.forEach(function(e,t){m(e,t)}),setTimeout(l,a.frameInterval)}}function m(e,t){if(!n){var i=0,o=0,a=e.width,s=e.height;1===t&&(i=e.width),2===t&&(o=e.height),3===t&&(i=e.width,o=e.height),4===t&&(o=2*e.height),5===t&&(i=e.width,o=2*e.height),6===t&&(o=3*e.height),7===t&&(i=e.width,o=3*e.height),void 0!==e.stream.left&&(i=e.stream.left),void 0!==e.stream.top&&(o=e.stream.top),void 0!==e.stream.width&&(a=e.stream.width),void 0!==e.stream.height&&(s=e.stream.height),r.drawImage(e,i,o,a,s),"function"==typeof e.stream.onRender&&e.stream.onRender(r,i,o,a,s,t)}}function f(e){var i=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,i),i.className=t,i.muted=!0,i.volume=0,i.width=e.width||a.width||360,i.height=e.height||a.height||240,i.play(),i}function g(t){i=[],(t=t||e).forEach(function(e){if(e.getTracks().filter(function(e){return"video"===e.kind}).length){var t=f(e);t.stream=e,i.push(t)}})}void 0!==s?u.AudioContext=s:"undefined"!=typeof webkitAudioContext&&(u.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){l()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach(function(t){var n=new d;if(t.getTracks().filter(function(e){return"video"===e.kind}).length){var o=f(t);o.stream=t,i.push(o),n.addTrack(t.getTracks().filter(function(e){return"video"===e.kind})[0])}if(t.getTracks().filter(function(e){return"audio"===e.kind}).length){var r=a.audioContext.createMediaStreamSource(t);a.audioDestination=a.audioContext.createMediaStreamDestination(),r.connect(a.audioDestination),n.addTrack(a.audioDestination.stream.getTracks().filter(function(e){return"audio"===e.kind})[0])}e.push(n)})},this.releaseStreams=function(){i=[],n=!0,a.gainNode&&(a.gainNode.disconnect(),a.gainNode=null),a.audioSources.length&&(a.audioSources.forEach(function(e){e.disconnect()}),a.audioSources=[]),a.audioDestination&&(a.audioDestination.disconnect(),a.audioDestination=null),a.audioContext&&a.audioContext.close(),a.audioContext=null,r.clearRect(0,0,o.width,o.height),o.stream&&(o.stream.stop(),o.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),g(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){n=!1;var t=function(){var e;g(),"captureStream"in o?e=o.captureStream():"mozCaptureStream"in o?e=o.mozCaptureStream():a.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new d;return e.getTracks().filter(function(e){return"video"===e.kind}).forEach(function(e){t.addTrack(e)}),o.stream=t,t}(),i=function(){u.AudioContextConstructor||(u.AudioContextConstructor=new u.AudioContext),a.audioContext=u.AudioContextConstructor,a.audioSources=[],!0===a.useGainNode&&(a.gainNode=a.audioContext.createGain(),a.gainNode.connect(a.audioContext.destination),a.gainNode.gain.value=0);var t=0;if(e.forEach(function(e){if(e.getTracks().filter(function(e){return"audio"===e.kind}).length){t++;var i=a.audioContext.createMediaStreamSource(e);!0===a.useGainNode&&i.connect(a.gainNode),a.audioSources.push(i)}}),t)return a.audioDestination=a.audioContext.createMediaStreamDestination(),a.audioSources.forEach(function(e){e.connect(a.audioDestination)}),a.audioDestination.stream}();return i&&i.getTracks().filter(function(e){return"audio"===e.kind}).forEach(function(e){t.addTrack(e)}),e.forEach(function(e){}),t}}function _(e,t){e=e||[];var i,n,o=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){var o;i=new U(e,t.elementClass||"multi-streams-mixer"),(o=[],e.forEach(function(e){x(e,"video").forEach(function(e){o.push(e)})}),o).length&&(i.frameInterval=t.frameInterval||10,i.width=t.video.width||360,i.height=t.video.height||240,i.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(i.getMixedStream()),(n=new k(i.getMixedStream(),t)).record()},this.stop=function(e){n&&n.stop(function(t){o.blob=t,e(t),o.clearRecordedData()})},this.pause=function(){n&&n.pause()},this.resume=function(){n&&n.resume()},this.clearRecordedData=function(){n&&(n.clearRecordedData(),n=null),i&&(i.releaseStreams(),i=null)},this.addStreams=function(o){if(!o)throw"First parameter is required.";o instanceof Array||(o=[o]),e.concat(o),n&&i&&(i.appendStreams(o),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(i.getMixedStream()))},this.resetVideoStreams=function(e){i&&(!e||e instanceof Array||(e=[e]),i.resetVideoStreams(e))},this.getMixer=function(){return i},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function G(e,t){var i,n,o;function r(){return new ReadableStream({start:function(n){var o=document.createElement("canvas"),r=document.createElement("video"),a=!0;r.srcObject=e,r.muted=!0,r.height=t.height,r.width=t.width,r.volume=0,r.onplaying=function(){o.width=t.width,o.height=t.height;var e=o.getContext("2d"),s=setInterval(function(){if(i&&(clearInterval(s),n.close()),a&&(a=!1,t.onVideoProcessStarted&&t.onVideoProcessStarted()),e.drawImage(r,0,0),"closed"!==n._controlledReadableStream.state)try{n.enqueue(e.getImageData(0,0,t.width,t.height))}catch(o){}},1e3/t.frameRate)},r.play()}})}function a(e,c){if(!t.workerPath&&!c)return i=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then(function(t){t.arrayBuffer().then(function(t){a(e,t)})});if(!t.workerPath&&c instanceof ArrayBuffer){var d=new Blob([c],{type:"text/javascript"});t.workerPath=f.createObjectURL(d)}t.workerPath||console.error("workerPath parameter is missing."),(n=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),n.addEventListener("message",function(e){"READY"===e.data?(n.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),r().pipeTo(new WritableStream({write:function(e){i?console.error("Got image, but recorder is finished!"):n.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(o||s.push(e.data))})}"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0,this.record=function(){s=[],o=!1,this.blob=null,a(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){o=!0},this.resume=function(){o=!1};var s=[];this.stop=function(e){i=!0;var t=this;!function(e){n?(n.addEventListener("message",function(t){null===t.data&&(n.terminate(),n=null,e&&e())}),n.postMessage(null)):e&&e()}(function(){t.blob=new Blob(s,{type:"video/webm"}),e(t.blob)})},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){s=[],o=!1,this.blob=null},this.blob=null}r.DiskStorage=D,r.GifRecorder=I,r.MultiStreamRecorder=_,r.RecordRTCPromisesHandler=function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var i=this;i.recordRTC=new r(e,t),this.startRecording=function(){return new Promise(function(e,t){try{i.recordRTC.startRecording(),e()}catch(n){t(n)}})},this.stopRecording=function(){return new Promise(function(e,t){try{i.recordRTC.stopRecording(function(n){i.blob=i.recordRTC.getBlob(),i.blob&&i.blob.size?e(n):t("Empty blob.",i.blob)})}catch(n){t(n)}})},this.pauseRecording=function(){return new Promise(function(e,t){try{i.recordRTC.pauseRecording(),e()}catch(n){t(n)}})},this.resumeRecording=function(){return new Promise(function(e,t){try{i.recordRTC.resumeRecording(),e()}catch(n){t(n)}})},this.getDataURL=function(e){return new Promise(function(e,t){try{i.recordRTC.getDataURL(function(t){e(t)})}catch(n){t(n)}})},this.getBlob=function(){return new Promise(function(e,t){try{e(i.recordRTC.getBlob())}catch(n){t(n)}})},this.getInternalRecorder=function(){return new Promise(function(e,t){try{e(i.recordRTC.getInternalRecorder())}catch(n){t(n)}})},this.reset=function(){return new Promise(function(e,t){try{e(i.recordRTC.reset())}catch(n){t(n)}})},this.destroy=function(){return new Promise(function(e,t){try{e(i.recordRTC.destroy())}catch(n){t(n)}})},this.getState=function(){return new Promise(function(e,t){try{e(i.recordRTC.getState())}catch(n){t(n)}})},this.blob=null,this.version="5.6.1"},r.WebAssemblyRecorder=G},rjUW:function(e,t,i){"use strict";i.r(t),i.d(t,"StudentModule",function(){return O});var n=i("ofXK"),o=i("tyNb"),r=i("nXLG"),a=i("fXoL"),s=i("/wtQ"),c=i("xlun");let d=(()=>{class e{constructor(){this.dummyText="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent ac finibus mauris. Pellentesque porttitor leo ante, ac ultricies augue rhoncus a. Nullam sed diam vel mi dignissim finibus. Vesulum semper quam ac massa euismod vestibulum. Cras id velitsa euismod vestibulum. Cras .Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent ac finibus mauris. Pellentesque porttitor leo ante, ac ultricies augue rhoncus a. Nullam sed diam vel mi dignissim finibus. Vesulum semper quam ac massa euismod vestibulum. Cras id velitsa euismod vestibulum. Cras ."}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-sections"]],decls:58,vars:8,consts:[[1,"container"],[1,"main-title"],[1,"top-bar"],[1,"btn","btn-secondary","px-5"],["tooltipPosition","bottom",3,"pTooltip"],["src","assets/images/cards/sections/speak.png","alt",""]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"h1",1),a.Gc(2,"Adler Cards"),a.Pb(),a.Qb(3,"p"),a.Gc(4," Lorem ipsum dolor sit amet, consectetur adipi Lorem ipsum dolor sit amet, consectetur adipi "),a.Pb(),a.Qb(5,"div",2),a.Lb(6,"app-available-cards"),a.Qb(7,"button",3),a.Gc(8,"Purchase"),a.Pb(),a.Pb(),a.Qb(9,"ul"),a.Qb(10,"li",4),a.Qb(11,"h4"),a.Lb(12,"img",5),a.Gc(13," Speaking "),a.Qb(14,"span"),a.Gc(15,"A1"),a.Pb(),a.Pb(),a.Qb(16,"p"),a.Gc(17,"Cards: "),a.Qb(18,"span"),a.Gc(19,"25"),a.Pb(),a.Pb(),a.Qb(20,"p"),a.Gc(21),a.Pb(),a.Pb(),a.Qb(22,"li",4),a.Qb(23,"h4"),a.Lb(24,"img",5),a.Gc(25," Listening "),a.Qb(26,"span"),a.Gc(27,"A1"),a.Pb(),a.Pb(),a.Qb(28,"p"),a.Gc(29,"Cards: "),a.Qb(30,"span"),a.Gc(31,"25"),a.Pb(),a.Pb(),a.Qb(32,"p"),a.Gc(33),a.Pb(),a.Pb(),a.Qb(34,"li",4),a.Qb(35,"h4"),a.Lb(36,"img",5),a.Gc(37," Reading "),a.Qb(38,"span"),a.Gc(39,"A1"),a.Pb(),a.Pb(),a.Qb(40,"p"),a.Gc(41,"Cards: "),a.Qb(42,"span"),a.Gc(43,"25"),a.Pb(),a.Pb(),a.Qb(44,"p"),a.Gc(45),a.Pb(),a.Pb(),a.Qb(46,"li",4),a.Qb(47,"h4"),a.Lb(48,"img",5),a.Gc(49," Writing "),a.Qb(50,"span"),a.Gc(51,"A1"),a.Pb(),a.Pb(),a.Qb(52,"p"),a.Gc(53,"Cards: "),a.Qb(54,"span"),a.Gc(55,"25"),a.Pb(),a.Pb(),a.Qb(56,"p"),a.Gc(57),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(10),a.ic("pTooltip",t.dummyText),a.yb(11),a.Ic(" ",t.dummyText," "),a.yb(1),a.ic("pTooltip",t.dummyText),a.yb(11),a.Ic(" ",t.dummyText," "),a.yb(1),a.ic("pTooltip",t.dummyText),a.yb(11),a.Ic(" ",t.dummyText," "),a.yb(1),a.ic("pTooltip",t.dummyText),a.yb(11),a.Ic(" ",t.dummyText," "))},directives:[s.a,c.a],styles:[".top-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:grid;grid-template-columns:repeat(4,1fr);grid-gap:15px;margin:50px 0 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding:15px 30px;border-radius:16px;box-shadow:0 2px 2px 0 rgba(0,0,0,.15);border:1px solid rgba(26,58,63,.16);background-color:var(--white);cursor:pointer;width:100%;transition:all .2s}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--light)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:600;display:flex;align-items:center;grid-column-gap:10px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{display:-webkit-box;overflow:hidden;-webkit-line-clamp:3;-webkit-box-orient:vertical;border-top:1px solid var(--surface-d);margin-top:7px;padding-top:7px;font-size:14px;color:var(--gray)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--blue);font-size:18px;font-weight:600}@media screen and (max-width:991px) and (min-width:768px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width:767px) and (min-width:577px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width:576px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),e})(),u=(()=>{class e{constructor(){this.dummyText="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent ac finibus mauris. Pellentesque porttitor leo ante, ac ultricies augue rhoncus a. Nullam sed diam vel mi dignissim finibus. Vesulum semper quam ac massa euismod vestibulum. Cras id velitsa euismod vestibulum. Cras .Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent ac finibus mauris. Pellentesque porttitor leo ante, ac ultricies augue rhoncus a. Nullam sed diam vel mi dignissim finibus. Vesulum semper quam ac massa euismod vestibulum. Cras id velitsa euismod vestibulum. Cras ."}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-section"]],decls:19,vars:2,consts:[[1,"container"],[1,"main-title"],["tooltipPosition","bottom",3,"pTooltip"],["src","assets/images/cards/sections/section.svg","alt",""]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"h1",1),a.Gc(2,"Speaking "),a.Qb(3,"span"),a.Gc(4,"A1"),a.Pb(),a.Pb(),a.Qb(5,"p"),a.Gc(6," Lorem ipsum dolor sit amet, consectetur adipi Lorem ipsum dolor sit amet, consectetur adipi "),a.Pb(),a.Lb(7,"app-available-cards"),a.Qb(8,"ul"),a.Qb(9,"li",2),a.Qb(10,"h4"),a.Gc(11,"Greetings"),a.Pb(),a.Qb(12,"p"),a.Gc(13),a.Pb(),a.Qb(14,"p"),a.Qb(15,"span"),a.Gc(16,"1"),a.Pb(),a.Gc(17," / 25 cards"),a.Pb(),a.Lb(18,"img",3),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(9),a.ic("pTooltip",t.dummyText),a.yb(4),a.Hc(t.dummyText))},directives:[s.a,c.a],styles:["h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--dark);font-size:25px;margin-left:20px}ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:grid;grid-template-columns:repeat(5,1fr);grid-gap:15px;margin:50px 0 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding:15px;border-radius:16px;box-shadow:0 2px 2px 0 rgba(0,0,0,.15);border:1px solid rgba(26,58,63,.16);cursor:pointer;width:100%;text-align:center;background-color:var(--light)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--blue)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:15px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:12px 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-of-type{display:-webkit-box;overflow:hidden;-webkit-line-clamp:1;-webkit-box-orient:vertical;font-size:14px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-of-type{margin-bottom:30px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--green);font-size:18px;font-weight:600}@media screen and (max-width:991px) and (min-width:768px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width:767px) and (min-width:577px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media screen and (max-width:576px){ul[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),e})(),l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-card"]],decls:16,vars:0,consts:[[1,"card"],[1,"material-icons"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"div"),a.Qb(2,"h3"),a.Gc(3,"Card1 "),a.Qb(4,"span"),a.Gc(5,"05 December 2020"),a.Pb(),a.Pb(),a.Qb(6,"p"),a.Gc(7," Lorem ipsum dolor sit amet, consectetur adipi Lrem ipsum dolor sit amet, consectetur adipi "),a.Pb(),a.Qb(8,"div"),a.Qb(9,"span",1),a.Gc(10," grade "),a.Pb(),a.Gc(11," 50 / 70 points "),a.Pb(),a.Pb(),a.Qb(12,"div"),a.Qb(13,"span",1),a.Gc(14," done "),a.Pb(),a.Gc(15," Solved "),a.Pb(),a.Pb())},styles:[".card[_ngcontent-%COMP%]{padding:12px 25px;border-radius:16px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fafafa;display:grid;grid-template-columns:auto 60px;grid-column-gap:30px;cursor:pointer}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   h3[_ngcontent-%COMP%]{color:var(--blue);display:flex;align-items:center;grid-column-gap:25px}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   h3[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:var(--dark)}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   p[_ngcontent-%COMP%]{display:-webkit-box;overflow:hidden;-webkit-line-clamp:1;-webkit-box-orient:vertical}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   div[_ngcontent-%COMP%]{opacity:.7;color:#207a04}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child   div[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:20px;height:20px;background-image:linear-gradient(0deg,#fd5900,#ffde00);border-radius:50%;color:#ffe59a;font-size:14px;display:inline-flex;justify-content:center;align-items:center;margin-right:5px}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{text-align:center;color:#207a04}.card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{border-radius:50%;font-size:20px;width:30px;height:30px;border:2px solid #207a04;background-color:rgba(50,213,9,.55);display:inline-flex;justify-content:center;align-items:center;margin-bottom:5px}"]}),e})(),m=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-cards"]],decls:11,vars:0,consts:[[1,"container"],[1,"main-title"],[1,"cards"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"h1",1),a.Gc(2,"Greetins"),a.Pb(),a.Lb(3,"app-available-cards"),a.Qb(4,"p"),a.Gc(5," Lorem ipsum dolor sit amet, consectetur adipi Lorem ipsum dolor sit amet, consectetur adipi "),a.Pb(),a.Qb(6,"div",2),a.Lb(7,"app-card"),a.Lb(8,"app-card"),a.Lb(9,"app-card"),a.Lb(10,"app-card"),a.Pb(),a.Pb())},directives:[s.a,l],styles:[".cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;grid-gap:20px;margin:50px}@media screen and (max-width:991px) and (min-width:768px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media screen and (max-width:767px) and (min-width:577px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}@media screen and (max-width:576px){.cards[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr)}}"]}),e})();var f=i("qe5e"),g=i("XNiG"),p=i("2Vo4"),h=i("1G5W"),b=i("Kj3r");i("pLZG");let v=(()=>{class e{constructor(e,t){this.zone=e,this.lang=t,this.message=new g.a,this.command=new g.a,this.commands={},this.context=new p.a(""),this.refreshGrammar=new p.a(!1),this.started=new p.a(!1),this._destroyed=new g.a,(window.SpeechRecognition||window.webkitSpeechRecognition)&&this.init()}init(){const e=window.SpeechRecognition||window.webkitSpeechRecognition;this.recognition=new e,this.recognition.lang=this.lang,this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.continuous=!0,this.recognition.onresult=e=>{let t={message:""},i="";if(e.results){const n=e.results[e.resultIndex];n.isFinal&&(n[0].confidence<.3?t={error:!0,message:"Cannot recognize"}:(i=n[0].transcript.trim().toLowerCase(),t={success:!0,message:i}))}this.zone.run(()=>{if(t.error)this.message.error(t);else{this.message.next(t);const e=this.getContextForWord(i);e?this.context.next(e):this.commands[this.context.value]&&this.commands[this.context.value][i]?this.command.next({context:this.context.value,command:i}):this.commands[""]&&this.commands[""][i]&&this.command.next({context:"",command:i})}})},this.recognition.onerror=e=>{this.zone.run(()=>{this.message.error(e)})},this.recognition.onstart=()=>{this.zone.run(()=>{this.started.next(!0)})},this.recognition.onend=()=>{this.zone.run(()=>{this.started.next(!1)})},this.refreshGrammar.pipe(Object(h.a)(this._destroyed),Object(b.a)(500)).subscribe(()=>{this.setGrammar()})}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}start(){!this.started.getValue()&&this.recognition&&this.recognition.start()}stop(){this.started.getValue()&&this.recognition&&this.recognition.stop()}declareContext(e){const t=e.map(e=>e.toLowerCase()).join("/");this.commands[t]||(this.commands[t]={}),this.refreshGrammar.next(!0)}declareCommand(e,t){const i=t.map(e=>e.toLowerCase()).join("/");this.commands[i]||(this.commands[i]={}),this.commands[i][e.toLowerCase()]=!0,this.refreshGrammar.next(!0)}setContext(e){const t=e.map(e=>e.toLowerCase()).join("/");this.context.next(t)}getContextForWord(e){const t=this.context.value?this.context.value+"/"+e:e;return this.commands[t]?t:this.commands[e]?e:null}setGrammar(){const e=window.SpeechGrammarList||window.webkitSpeechGrammarList;if(e&&this.recognition){const t={};Object.keys(this.commands).forEach(e=>{e.split("/").forEach(e=>{t[e]=!0}),Object.keys(this.commands[e]).forEach(e=>t[e]=!0)});const i="#JSGF V1.0; grammar Digits;\npublic <Digits> = ( <digit> ) + ;\n<digit> = ( zero | one | two | three | four | five | six | seven | eight | nine ); public <command> = "+Object.keys(t).join(" | ")+" ;",n=new e;n.addFromString(i,1),this.recognition.grammars=n}}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(a.z),a.Ub("SPEECH_LANG"))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},providers:[v],imports:[[n.c]]}),e})();var y=i("jhN1");function R(e,t){1&e&&(a.Qb(0,"span",7),a.Gc(1,"mic"),a.Pb())}function C(e,t){1&e&&(a.Qb(0,"span",8),a.Gc(1,"stop"),a.Pb())}function x(e,t){if(1&e&&(a.Qb(0,"h6"),a.Gc(1),a.Pb()),2&e){const e=a.bc();a.yb(1),a.Ic(" record will start automatically after ",e.startRecordAfter," sec... ")}}function S(e,t){if(1&e&&(a.Qb(0,"h6"),a.Gc(1),a.Pb()),2&e){const e=a.bc();a.yb(1),a.Ic(" record will end automatically after ",e.endRecordAfter," sec... ")}}function P(e,t){if(1&e&&(a.Qb(0,"audio",9),a.Lb(1,"source",10),a.Pb()),2&e){const e=a.bc();a.yb(1),a.ic("src",e.sanitize(e.url),a.zc)}}let M=(()=>{class e{constructor(e,t){this.speech=e,this.domSanitizer=t,this.message="",this.recording=!1,this.startRecordAfter=8,this.endRecordAfter=6,this.pureRecord=!1,this.speech.message.subscribe(e=>{this.message=e.message})}ngOnInit(){this.startRecordCountDown()}startRecordCountDown(){this.startRecordTimeout=setTimeout(()=>{this.initiateRecording(),clearInterval(this.startRecordInterval)},1e3*this.startRecordAfter),this.startRecordInterval=setInterval(()=>{this.startRecordAfter--},1e3)}endRecordCountDown(){this.endRecordTimeout=setTimeout(()=>{clearInterval(this.endRecordInterval),this.stopRecording()},1e3*this.endRecordAfter),this.endRecordInterval=setInterval(()=>{this.endRecordAfter--},1e3)}sanitize(e){return this.domSanitizer.bypassSecurityTrustUrl(e)}initiateRecording(){clearInterval(this.startRecordInterval),clearTimeout(this.startRecordTimeout),this.endRecordCountDown(),this.recording=!0,navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then(this.successCallback.bind(this),this.errorCallback.bind(this))}successCallback(e){this.record=new(0,f.StereoAudioRecorder)(e,{mimeType:"audio/wav",numberOfAudioChannels:1}),this.record.record()}stopRecording(){this.recording=!1,clearInterval(this.endRecordInterval),clearTimeout(this.endRecordTimeout),this.pureRecord=!0,this.record.stop(this.processRecording.bind(this))}processRecording(e){this.url=URL.createObjectURL(e)}errorCallback(e){this.error="Can not play audio in your browser"}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(v),a.Kb(y.b))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-speaking"]],decls:22,vars:6,consts:[[1,"container"],[1,"main-title"],[1,"btn",3,"disabled","click"],["class","material-icons mic",4,"ngIf"],["class","material-icons stop",4,"ngIf"],[4,"ngIf"],["controls","",4,"ngIf"],[1,"material-icons","mic"],[1,"material-icons","stop"],["controls",""],["type","audio/wav",3,"src"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"h1",1),a.Gc(2,"Greetings "),a.Qb(3,"span"),a.Gc(4,"A1"),a.Pb(),a.Pb(),a.Lb(5,"app-available-cards"),a.Qb(6,"p"),a.Gc(7," Lorem ipsum dolor sit amet, consectetur adipi Lorem ipsum dolor sit amet, consectetur adipi "),a.Pb(),a.Qb(8,"div"),a.Qb(9,"h3"),a.Gc(10,"1. Read The Following Question and record your answer .."),a.Pb(),a.Qb(11,"p"),a.Gc(12," Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque sed ligula laoreet erat blandit imperdiet non non tellus. Duis blandit nunc id arcu aliquet facilisis. Nullam non finibus magna. Nunc sollicitudin mattis varius. Vivamus pellentesque ipsum Pellentesque egestas justo sed scelerisque imperdiet. Phasellus hendrerit sed lorem eu tristique. Fusce sed ullamcorper mi, tempor ultrices neque. "),a.Pb(),a.Pb(),a.Qb(13,"h5"),a.Gc(14,"tap To record your answer"),a.Pb(),a.Qb(15,"button",2),a.Xb("click",function(){return t.recording?t.stopRecording():t.initiateRecording()}),a.Ec(16,R,2,0,"span",3),a.Ec(17,C,2,0,"span",4),a.Pb(),a.Ec(18,x,2,1,"h6",5),a.Ec(19,S,2,1,"h6",5),a.Lb(20,"hr"),a.Ec(21,P,2,1,"audio",6),a.Pb()),2&e&&(a.yb(15),a.ic("disabled",t.pureRecord),a.yb(1),a.ic("ngIf",!t.recording),a.yb(1),a.ic("ngIf",t.recording),a.yb(1),a.ic("ngIf",t.startRecordAfter>1&&!t.recording&&!t.pureRecord),a.yb(1),a.ic("ngIf",t.endRecordAfter>1&&t.recording),a.yb(2),a.ic("ngIf",t.url))},directives:[s.a,n.l],styles:["h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--dark);font-size:25px;margin-left:20px}div[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;font-size:18px;margin-top:60px}div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px}h5[_ngcontent-%COMP%]{color:var(--blue);opacity:.7;font-size:16px;margin-top:60px}h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{text-transform:capitalize}h6[_ngcontent-%COMP%]{color:var(--danger)}button[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin-top:20px}button[_ngcontent-%COMP%]{width:5rem;height:5rem;border-radius:8px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fafafa;display:flex;justify-content:center;align-items:center}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:40px}button[_ngcontent-%COMP%]   span.stop[_ngcontent-%COMP%]{color:var(--red)}"]}),e})();const k=[{path:"bundles",component:r.a,data:{role:"student"}},{path:"sections",component:d},{path:"sections/:section",component:u},{path:"sections/:section/:cardsCllection",component:m},{path:"sections/listening/:cardsCllection/:cardId",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-listening"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Qb(0,"p"),a.Gc(1,"listening works!"),a.Pb())},styles:[""]}),e})()},{path:"sections/reading/:cardsCllection/:cardId",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-reading"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Qb(0,"p"),a.Gc(1,"reading works!"),a.Pb())},styles:[""]}),e})()},{path:"sections/speaking/:cardsCllection/:cardId",component:M},{path:"sections/writing/:cardsCllection/:cardId",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-writing"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Qb(0,"p"),a.Gc(1,"writing works!"),a.Pb())},styles:[""]}),e})()}];let T=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[o.g.forChild(k)],o.g]}),e})(),L=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[n.c],c.b]}),e})(),O=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},providers:[{provide:"SPEECH_LANG",useValue:"de-de"}],imports:[[n.c,T,L,w]]}),e})()}}]);