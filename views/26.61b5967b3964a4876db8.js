(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{PkoY:function(t,e,n){"use strict";n.r(e),n.d(e,"TestsModule",function(){return yt});var i=n("ofXK"),s=n("tyNb");class o{}var c=n("Qd2v"),a=n("fXoL"),r=n("kuNW"),l=n("JdUQ"),b=n("WR8Z"),u=n("Ji6n"),d=n("3Pt+"),g=n("LuMj"),p=n("zFJ7");function f(t,e){if(1&t&&(a.Qb(0,"p",20),a.Gc(1),a.Pb()),2&t){const t=a.bc().$implicit;a.yb(1),a.Ic(" ",t.text," ")}}function m(t,e){1&t&&(a.Qb(0,"audio",22),a.Lb(1,"source",23),a.Gc(2," Your browser does not support the audio element. "),a.Pb())}function h(t,e){if(1&t&&(a.Qb(0,"div"),a.Ec(1,m,3,0,"audio",21),a.Pb()),2&t){const t=a.bc().$implicit;a.yb(1),a.ic("ngIf",t.audioPath)}}function Q(t,e){1&t&&(a.Ob(0),a.Qb(1,"span",31),a.Gc(2,"Corrected"),a.Pb(),a.Nb())}function P(t,e){1&t&&(a.Qb(0,"span",32),a.Gc(1,"Pending"),a.Pb())}function y(t,e){1&t&&(a.Ob(0),a.Qb(1,"span",31),a.Gc(2,"Right answer"),a.Pb(),a.Nb())}function v(t,e){1&t&&(a.Qb(0,"span",33),a.Gc(1,"Wrong answer"),a.Pb())}function I(t,e){if(1&t&&(a.Qb(0,"span",26),a.Gc(1," - Student answer: "),a.Ec(2,y,3,0,"ng-container",27),a.Ec(3,v,2,0,"ng-template",null,28,a.Fc),a.Pb()),2&t){const t=a.bc(2).$implicit,e=a.bc(3);var n;a.yb(2),a.ic("ngIf",null==(n=e.getQuestionData(t.id))?null:n.rightAnswer)("ngIfElse",e.wrong)}}function w(t,e){if(1&t&&(a.Qb(0,"div"),a.Lb(1,"p-checkbox",34,35),a.Pb()),2&t){const t=e.$implicit,n=a.bc(2).$implicit,i=a.bc(3);a.yb(1),a.jc("name",t.name),a.jc("value",t.id),a.jc("label",t.name),a.ic("ngModel",i.checkSelectedValues(n.id,t.id))("binary",!0)}}function x(t,e){if(1&t&&(a.Qb(0,"div"),a.Qb(1,"h2",24),a.Qb(2,"span",25),a.Gc(3),a.Pb(),a.Gc(4," Choose The most right answers .. "),a.Qb(5,"span",26),a.Gc(6),a.Pb(),a.Qb(7,"span",26),a.Gc(8," - System auto Correction: "),a.Ec(9,Q,3,0,"ng-container",27),a.Ec(10,P,2,0,"ng-template",null,28,a.Fc),a.Pb(),a.Ec(12,I,5,2,"span",29),a.Pb(),a.Qb(13,"p",30),a.Gc(14),a.Pb(),a.Ec(15,w,3,5,"div",19),a.Pb()),2&t){const t=a.vc(11),e=a.bc(),s=e.index,o=e.$implicit,c=a.bc(3);var n,i;a.yb(3),a.Hc(s+1),a.yb(3),a.Ic(" Question points: ",o.points,""),a.yb(3),a.ic("ngIf",null==(n=c.getQuestionData(o.id))?null:n.corrected)("ngIfElse",t),a.yb(3),a.ic("ngIf",null==(i=c.getQuestionData(o.id))?null:i.corrected),a.yb(2),a.Ic(" ",o.text," "),a.yb(1),a.ic("ngForOf",o.choices)}}function C(t,e){1&t&&(a.Ob(0),a.Qb(1,"span",31),a.Gc(2,"Corrected"),a.Pb(),a.Nb())}function S(t,e){1&t&&(a.Qb(0,"span",32),a.Gc(1,"Pending"),a.Pb())}function T(t,e){1&t&&(a.Ob(0),a.Qb(1,"span",31),a.Gc(2,"Right answer"),a.Pb(),a.Nb())}function M(t,e){1&t&&(a.Qb(0,"span",33),a.Gc(1,"Wrong answer"),a.Pb())}function G(t,e){if(1&t&&(a.Qb(0,"span",26),a.Gc(1," - Student answer: "),a.Ec(2,T,3,0,"ng-container",27),a.Ec(3,M,2,0,"ng-template",null,28,a.Fc),a.Pb()),2&t){const t=a.bc(2).$implicit,e=a.bc(3);var n;a.yb(2),a.ic("ngIf",null==(n=e.getQuestionData(t.id))?null:n.rightAnswer)("ngIfElse",e.wrong)}}function O(t,e){if(1&t&&(a.Qb(0,"div"),a.Lb(1,"p-radioButton",36),a.Pb()),2&t){const t=e.$implicit,i=a.bc(2).$implicit,s=a.bc(3);var n;a.yb(1),a.ic("ngModel",null==(n=s.getQuestionData(i.id))||null==n.choices[0]?null:n.choices[0].choiceSubmissionId)("binary",!0)("value",t.id)("label",t.name)}}function E(t,e){if(1&t&&(a.Qb(0,"div"),a.Qb(1,"h2",24),a.Qb(2,"span",25),a.Gc(3),a.Pb(),a.Gc(4," Choose The right answer .. "),a.Qb(5,"span",26),a.Gc(6),a.Pb(),a.Qb(7,"span",26),a.Gc(8," - System auto Correction: "),a.Ec(9,C,3,0,"ng-container",27),a.Ec(10,S,2,0,"ng-template",null,28,a.Fc),a.Pb(),a.Ec(12,G,5,2,"span",29),a.Pb(),a.Qb(13,"p",30),a.Gc(14),a.Pb(),a.Ec(15,O,2,4,"div",19),a.Pb()),2&t){const t=a.vc(11),e=a.bc(),s=e.index,o=e.$implicit,c=a.bc(3);var n,i;a.yb(3),a.Hc(s+1),a.yb(3),a.Ic("Points: ",o.points,""),a.yb(3),a.ic("ngIf",null==(n=c.getQuestionData(o.id))?null:n.corrected)("ngIfElse",t),a.yb(3),a.ic("ngIf",null==(i=c.getQuestionData(o.id))?null:i.corrected),a.yb(2),a.Ic(" ",o.text," "),a.yb(1),a.ic("ngForOf",o.choices)}}function k(t,e){1&t&&(a.Ob(0),a.Qb(1,"span",31),a.Gc(2,"Corrected"),a.Pb(),a.Nb())}function q(t,e){1&t&&(a.Qb(0,"span",32),a.Gc(1,"Pending"),a.Pb())}function D(t,e){1&t&&(a.Ob(0),a.Qb(1,"span",31),a.Gc(2,"Right answer"),a.Pb(),a.Nb())}function _(t,e){1&t&&(a.Qb(0,"span",33),a.Gc(1,"Wrong answer"),a.Pb())}function A(t,e){if(1&t&&(a.Qb(0,"span",26),a.Gc(1," - Student answer: "),a.Ec(2,D,3,0,"ng-container",27),a.Ec(3,_,2,0,"ng-template",null,28,a.Fc),a.Pb()),2&t){const t=a.bc(2).$implicit,e=a.bc(3);var n;a.yb(2),a.ic("ngIf",null==(n=e.getQuestionData(t.id))?null:n.rightAnswer)("ngIfElse",e.wrong)}}function F(t,e){if(1&t&&(a.Qb(0,"div"),a.Lb(1,"p-radioButton",37),a.Pb()),2&t){const t=e.$implicit,i=a.bc(2).$implicit,s=a.bc(3);var n;a.yb(1),a.ic("ngModel",null==(n=s.getQuestionData(i.id))?null:n.trueOrFalseSubmission)("value",t.value)("label",t.name)}}function L(t,e){if(1&t&&(a.Qb(0,"div"),a.Qb(1,"h2",24),a.Qb(2,"span",25),a.Gc(3),a.Pb(),a.Gc(4," Choose true or false .. "),a.Qb(5,"span",26),a.Gc(6),a.Pb(),a.Qb(7,"span",26),a.Gc(8," - System auto Correction: "),a.Ec(9,k,3,0,"ng-container",27),a.Ec(10,q,2,0,"ng-template",null,28,a.Fc),a.Pb(),a.Ec(12,A,5,2,"span",29),a.Pb(),a.Qb(13,"p",30),a.Gc(14),a.Pb(),a.Qb(15,"div"),a.Ec(16,F,2,3,"div",19),a.Pb(),a.Pb()),2&t){const t=a.vc(11),e=a.bc(),i=e.index,s=e.$implicit,o=a.bc(3);var n;a.yb(3),a.Hc(i+1),a.yb(3),a.Ic("Points: ",s.points,""),a.yb(3),a.ic("ngIf",null==(n=o.getQuestionData(s.id))?null:n.corrected)("ngIfElse",t),a.yb(3),a.ic("ngIf",o.getQuestionData(s.id).corrected),a.yb(2),a.Ic(" ",s.text," "),a.yb(2),a.ic("ngForOf",o.trueOrFalse)}}function $(t,e){if(1&t){const t=a.Rb();a.Qb(0,"input",40,35),a.Xb("ngModelChange",function(e){a.xc(t);const n=a.bc(3).$implicit;return a.bc(3).getQuestionData(n.id).answerText=e}),a.Pb()}if(2&t){const t=a.bc(3),e=t.index,n=t.$implicit,i=a.bc().index,s=a.bc(2);a.ic("name","missing-"+i+"-"+e)("ngModel",s.getQuestionData(n.id).answerText)("id","missing-"+i+"-"+e)}}function N(t,e){if(1&t&&(a.Ob(0),a.Gc(1),a.Ec(2,$,2,3,"input",39),a.Nb()),2&t){const t=e.$implicit,n=e.index,i=a.bc(2).$implicit,s=a.bc(3);a.yb(1),a.Ic(" ",t," "),a.yb(1),a.ic("ngIf",n!=s.returnQuestion(i.text).result.length-1)}}function z(t,e){if(1&t){const t=a.Rb();a.Qb(0,"input",52,35),a.Xb("keyup",function(){a.xc(t);const e=a.vc(1),n=a.bc().index,i=a.bc(3).$implicit;return a.bc(3).getWritingAnswer(i.id,e.value,n)}),a.Pb()}if(2&t){const t=a.bc(4),e=t.index,n=t.$implicit,i=a.bc().index,s=a.bc(2);a.ic("name","missing-"+i+"-"+e)("ngModel",s.getQuestionData(n.id).answerText)("id","fix-missing-"+i+"-"+e)}}function R(t,e){if(1&t&&(a.Ob(0),a.Gc(1),a.Ec(2,z,2,3,"input",51),a.Nb()),2&t){const t=e.$implicit,n=e.index,i=a.bc(3).$implicit,s=a.bc(3);a.yb(1),a.Ic(" ",t," "),a.yb(1),a.ic("ngIf",n!=s.returnQuestion(i.text).result.length-1)}}function H(t,e){if(1&t){const t=a.Rb();a.Qb(0,"div",41),a.Qb(1,"div",42),a.Qb(2,"div",43),a.Qb(3,"label",44),a.Gc(4,"Correction area"),a.Pb(),a.Lb(5,"br"),a.Ec(6,R,3,2,"ng-container",19),a.Pb(),a.Pb(),a.Qb(7,"div",42),a.Qb(8,"div",45),a.Qb(9,"label",46),a.Gc(10,"Points"),a.Pb(),a.Lb(11,"br"),a.Qb(12,"input",47,48),a.Xb("keyup",function(){a.xc(t);const e=a.vc(13),n=a.bc(2).$implicit;return a.bc(3).getQuestionPoints(n.id,e.value,n.points)}),a.Pb(),a.Pb(),a.Qb(14,"div",49),a.Qb(15,"p-checkbox",50),a.Xb("onChange",function(e){a.xc(t);const n=a.bc(2).$implicit;return a.bc(3).getRightanswerStatus(e,n.id)}),a.Pb(),a.Pb(),a.Pb(),a.Pb()}if(2&t){const t=a.bc(2).$implicit,e=a.bc(3);a.yb(6),a.ic("ngForOf",e.returnQuestion(t.text).result)}}function X(t,e){if(1&t&&(a.Qb(0,"div"),a.Qb(1,"h2",24),a.Qb(2,"span",25),a.Gc(3),a.Pb(),a.Gc(4," Complete the missing words .. "),a.Qb(5,"span",26),a.Gc(6),a.Pb(),a.Pb(),a.Qb(7,"p",30),a.Ec(8,N,3,2,"ng-container",19),a.Pb(),a.Ec(9,H,16,1,"div",38),a.Pb()),2&t){const t=a.bc(),e=t.index,n=t.$implicit,i=a.bc(3);a.yb(3),a.Hc(e+1),a.yb(3),a.Ic("Points: ",n.points,""),a.yb(2),a.ic("ngForOf",i.returnQuestion(n.text).result),a.yb(1),a.ic("ngIf",2==i.testInstance.status||4==i.testInstance.status)}}function Y(t,e){if(1&t&&(a.Qb(0,"div"),a.Qb(1,"h2",24),a.Qb(2,"span",25),a.Gc(3),a.Pb(),a.Gc(4),a.Qb(5,"span",26),a.Gc(6),a.Pb(),a.Pb(),a.Pb()),2&t){const t=a.bc(),e=t.index,n=t.$implicit;a.yb(3),a.Hc(e+1),a.yb(1),a.Ic(" ",n.text," "),a.yb(2),a.Ic("Points: ",n.points,"")}}function W(t,e){if(1&t&&(a.Qb(0,"div"),a.Ec(1,x,16,7,"div",17),a.Ec(2,E,16,7,"div",17),a.Ec(3,L,17,7,"div",17),a.Ec(4,X,10,4,"div",17),a.Ec(5,Y,7,3,"div",17),a.Pb()),2&t){const t=e.$implicit;a.yb(1),a.ic("ngIf",0==t.singleQuestionType),a.yb(1),a.ic("ngIf",2==t.singleQuestionType),a.yb(1),a.ic("ngIf",1==t.singleQuestionType),a.yb(1),a.ic("ngIf",3==t.singleQuestionType),a.yb(1),a.ic("ngIf",4==t.singleQuestionType)}}function j(t,e){if(1&t){const t=a.Rb();a.Qb(0,"div",41),a.Qb(1,"div",42),a.Qb(2,"div",43),a.Qb(3,"label",44),a.Gc(4,"Correction area"),a.Pb(),a.Lb(5,"br"),a.Qb(6,"textarea",54,55),a.Xb("keyup",function(){a.xc(t);const e=a.vc(7),n=a.bc(2).$implicit;return a.bc(2).getWritingAnswer(n.singleQuestions[0].id,e.value)}),a.Pb(),a.Pb(),a.Pb(),a.Qb(8,"div",42),a.Qb(9,"div",45),a.Qb(10,"label",46),a.Gc(11,"Points"),a.Pb(),a.Lb(12,"br"),a.Qb(13,"input",56,48),a.Xb("keyup",function(){a.xc(t);const e=a.vc(14),n=a.bc(2).$implicit;return a.bc(2).getQuestionPoints(n.singleQuestions[0].id,e.value,n.singleQuestions[0].points)}),a.Pb(),a.Pb(),a.Qb(15,"div",49),a.Qb(16,"p-checkbox",50,57),a.Xb("onChange",function(e){a.xc(t);const n=a.bc(2).$implicit;return a.bc(2).getRightanswerStatus(e,n.singleQuestions[0].id)}),a.Pb(),a.Pb(),a.Pb(),a.Pb()}if(2&t){const t=a.bc(2).$implicit,e=a.bc(2);a.yb(6),a.ic("rows",3)("ngModel",e.getQuestionData(t.singleQuestions[0].id).answerText)("cols",34),a.yb(7),a.ic("max",t.singleQuestions[0].points)}}function B(t,e){if(1&t&&(a.Qb(0,"div"),a.Lb(1,"textarea",53,35),a.Ec(3,j,18,4,"div",38),a.Pb()),2&t){const t=a.bc().$implicit,e=a.bc(2);a.yb(1),a.ic("rows",3)("ngModel",e.getQuestionData(t.singleQuestions[0].id).answerText)("cols",34),a.yb(2),a.ic("ngIf",2==e.testInstance.status||4==e.testInstance.status)}}function K(t,e){if(1&t&&(a.Qb(0,"div",14),a.Qb(1,"div",15),a.Gc(2),a.Pb(),a.Ec(3,f,2,1,"p",16),a.Ec(4,h,2,1,"div",17),a.Qb(5,"div",18),a.Ec(6,W,6,5,"div",19),a.Pb(),a.Ec(7,B,4,4,"div",17),a.Pb()),2&t){const t=e.$implicit,n=e.index;a.yb(2),a.Jc(" ",n+1,". ",t.header," "),a.yb(1),a.ic("ngIf",t.text),a.yb(1),a.ic("ngIf",t.audioPath),a.yb(2),a.ic("ngForOf",t.singleQuestions),a.yb(1),a.ic("ngIf",2==t.questionTypeId)}}function J(t,e){if(1&t){const t=a.Rb();a.Qb(0,"button",58),a.Xb("click",function(){return a.xc(t),a.bc(2).onSubmit()}),a.Gc(1," Submit "),a.Lb(2,"i",59),a.Pb()}}function V(t,e){if(1&t&&(a.Qb(0,"div",1),a.Qb(1,"div",2),a.Qb(2,"h1",3),a.Gc(3),a.Pb(),a.Pb(),a.Qb(4,"div",4),a.Qb(5,"div",5),a.Qb(6,"div",6),a.Qb(7,"div",7),a.Qb(8,"div",8),a.Gc(9),a.Qb(10,"span",9),a.Gc(11),a.cc(12,"date"),a.Pb(),a.Pb(),a.Pb(),a.Qb(13,"div",10),a.Qb(14,"div",11),a.Ec(15,K,8,6,"div",12),a.Pb(),a.Ec(16,J,3,0,"button",13),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&t){const t=a.bc();a.yb(3),a.Hc(t.testInstance.test.name),a.yb(6),a.Ic(" ",t.testInstance.lessonInstance," "),a.yb(2),a.Hc(a.dc(12,5,t.testInstance.createdDate)),a.yb(4),a.ic("ngForOf",t.testInstance.test.questions),a.yb(1),a.ic("ngIf","correct"==t.status)}}let U=(()=>{class t{constructor(t,e,n,i,s){this.studentTestsService=t,this.activatedRoute=e,this.alertService=n,this.teacherService=i,this.router=s,this.singleQuestionSubmission=[],this.studentAnswers=[],this.allTestQuestions=[],this.selectedQuetionType=new Object,this.testInstanceSubmition=new Object,this.answers=[],this.editMode=!1,this.trueOrFalse=[],this.singleAnswers=[],this.trueFalse=[],this.writingQuestion=[],this.completeAnswer=[],this.notSubmitted=!0,this.trueOrFalse=[{name:"true",value:!0},{name:"false",value:!1}]}ngOnInit(){this.getTestInstanceId(),this.getTestInstancesById(),this.getTestInstanceByTeacher()}getTestInstanceId(){this.testInstanceId=this.activatedRoute.snapshot.params.id,this.status=this.activatedRoute.snapshot.params.status}getTestInstancesById(){this.studentTestsService.GetTestInstanceById(this.testInstanceId).subscribe(t=>{this.testInstance=t.data;for(let e of this.testInstance.test.questions)for(let t of e.singleQuestions)this.allTestQuestions.push(t);for(let e of this.allTestQuestions)if(e.singleQuestionType==c.b.Writing||e.singleQuestionType==c.b.Complete){let t=new o;t.id=e.id,t.rightAnswer=!1,t.correctionText=e.text,this.singleQuestionSubmission.push(t)}})}checkSelectedValues(t,e){let n;return this.studentAnswers.find(e=>e.singleQuestionId===t)&&(n=this.studentAnswers.find(e=>e.singleQuestionId===t).choices.map(t=>t.choiceSubmissionId).indexOf(e)>-1),n}getTestInstanceByTeacher(){this.teacherService.getSingleQuestionsByInstanceId(this.testInstanceId).subscribe(t=>{this.studentAnswers=t.data})}getQuestionData(t){return this.studentAnswers.find(e=>e.singleQuestionId===t)?this.studentAnswers.find(e=>e.singleQuestionId===t):{answerText:"",choices:[]}}getWritingAnswer(t,e,n){if(this.allTestQuestions.find(e=>e.id===t).singleQuestionType==c.b.Writing)this.singleQuestionSubmission.find(e=>e.id===t).correctionText=e;else{let i=this.allTestQuestions.find(e=>e.id===t).text,s=this.returnQuestion(i);for(let o=0;o<s.missingWords;o++)s.result[n]+="["+e+"]",this.singleQuestionSubmission.find(e=>e.id===t).correctionText=s.result[o];this.singleQuestionSubmission.find(e=>e.id===t).correctionText+=s.result[s.result.length-1]}}getQuestionPoints(t,e,n){parseInt(e)<=n?this.singleQuestionSubmission.find(e=>e.id===t).points=parseInt(e):this.alertService.newAlert("error","Points can't be more than "+n)}getRightanswerStatus(t,e){1==t.checked&&(this.singleQuestionSubmission.find(t=>t.id===e).rightAnswer=!0)}onSubmit(){let t={singleQuestionSubmission:this.singleQuestionSubmission};for(let e of t.singleQuestionSubmission)e.id=this.studentAnswers.find(t=>t.singleQuestionId===e.id).id;this.teacherService.putTestCorrection(t).subscribe(t=>{this.alertService.newAlert("success","Submitted Successfully"),this.router.navigate(["teacher/tests"])})}returnQuestion(t){let e=(t=t.replace(/\[(\w+)/g,"!******!").replace(/]+/g,"")).split("!******!");return{missingWords:e.length-1,result:e}}}return t.\u0275fac=function(e){return new(e||t)(a.Kb(r.a),a.Kb(s.a),a.Kb(l.a),a.Kb(b.a),a.Kb(s.c))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-correct-test"]],decls:1,vars:1,consts:[["class","Progress container",4,"ngIf"],[1,"Progress","container"],[1,"page-title"],[1,"text-primary","font-weight-bold"],[1,"lesson-Q"],[1,"card"],[1,"card-body","p-0"],[1,"Q-title","pt-3","text-white","position-relative","rounded-top"],[1,"lesson-address","my-auto","position-absolute","ml-4","font-weight-bold"],[1,"date","ml-3"],[1,"p-3","question","m-0"],[1,"questions-in-quiz"],["class","single-main-question",4,"ngFor","ngForOf"],["class","d-inline-block mr-2 btn adler-btn mt-4",3,"click",4,"ngIf"],[1,"single-main-question"],[1,"question-header"],["class","question-pargraph",4,"ngIf"],[4,"ngIf"],[1,"single-choice-answers"],[4,"ngFor","ngForOf"],[1,"question-pargraph"],["controls","","controlsList","nodownload",4,"ngIf"],["controls","","controlsList","nodownload"],["src","question.audioPath","type","audio/mpeg"],[1,"question-head"],[1,"single-question-count"],[1,"question-points","ml-3"],[4,"ngIf","ngIfElse"],["notCorrected",""],["class","question-points ml-3",4,"ngIf"],[1,"single-question-text-wrapper"],[1,"corrected"],[1,"pending"],[1,"text-danger"],["disabled","disabled",1,"align-middle","d-block","text-secondary",3,"ngModel","binary","name","value","label"],["input",""],["disabled","disabled",1,"align-middle","text-secondary",3,"ngModel","binary","value","label"],["disabled","disabled",1,"align-middle","text-secondary",3,"ngModel","value","label"],["class","correction-area",4,"ngIf"],["disabled","disabled","type","text","class","missig-word-input",3,"name","ngModel","id","ngModelChange",4,"ngIf"],["disabled","disabled","type","text",1,"missig-word-input",3,"name","ngModel","id","ngModelChange"],[1,"correction-area"],[1,"row"],[1,"col-md-12"],[1,"correction-label","text-secondary","mt-3"],[1,"col-md-4"],[1,"text-secondary","mt-3"],["required","","type","text","name","question","id","writingQuestion","aria-describedby","question","placeholder","Points",1,"form-control","adler-form-control",2,"width","100%",3,"keyup"],["QuestionTextField",""],[1,"col-md-2"],["name","rightAnswer","value","true","label","Right Answer",1,"right-answer","align-middle","d-block","text-secondary",3,"onChange"],["type","text","class","missig-word-input",3,"name","ngModel","id","keyup",4,"ngIf"],["type","text",1,"missig-word-input",3,"name","ngModel","id","keyup"],["disabled","disabled","pInputTextarea","","autoResize","autoResize","placeholder","Your Answer..",1,"rounded","p-3","ml-1","col",3,"rows","ngModel","cols"],["pInputTextarea","","autoResize","autoResize","placeholder","Your Answer..",1,"rounded","p-3","ml-1","col",3,"rows","ngModel","cols","keyup"],["CorrectionInputTextArea",""],["required","","type","text","name","question","id","writingQuestion","aria-describedby","question","placeholder","Points",1,"form-control","adler-form-control",2,"width","100%",3,"max","keyup"],["checkBoxStatus",""],[1,"d-inline-block","mr-2","btn","adler-btn","mt-4",3,"click"],[1,"fas","fa-arrow-alt-right"]],template:function(t,e){1&t&&a.Ec(0,V,17,7,"div",0),2&t&&a.ic("ngIf",e.testInstance)},directives:[i.l,i.k,u.a,d.o,d.r,g.a,d.b,p.a],pipes:[i.e],styles:[".Q-title[_ngcontent-%COMP%]{background-color:#2c3e90!important;height:58px}.date[_ngcontent-%COMP%]{opacity:.7;font-size:12px}.Ends-after-address[_ngcontent-%COMP%]{right:5px}.question[_ngcontent-%COMP%]{background-color:#f4f8fc}.Q-head[_ngcontent-%COMP%]{font-family:Montserrat;font-size:1rem;font-weight:700;text-align:left}.question-points[_ngcontent-%COMP%]{color:#7a7a7a;line-height:4.3;opacity:.7}.Answer-sec[_ngcontent-%COMP%]{border-radius:16px;font-family:Montserrat;font-size:14px}.answerArea[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 1px 4px 0 rgba(0,0,0,.16);border:1px solid var(--dark-blue-grey-16);background-color:#fff}.lesson-Q[_ngcontent-%COMP%]{margin-bottom:30px;margin-top:20px}.questions-in-quiz[_ngcontent-%COMP%]{padding-top:1rem;width:100%}.single-main-question[_ngcontent-%COMP%]{border:1px solid #ddd;padding:1.5rem 1rem 1rem;margin-bottom:1.2rem;box-shadow:0 0 5px #ddd;border-radius:8px}.single-main-question[_ngcontent-%COMP%]   .question-header[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#111;margin-bottom:.5rem}.single-main-question[_ngcontent-%COMP%]   .question-pargraph[_ngcontent-%COMP%]{font-weight:1 rem;font-weight:500}.single-main-question[_ngcontent-%COMP%]   .question-head[_ngcontent-%COMP%]{font-family:Montserrat;font-size:1rem;font-weight:700;text-align:left;margin-top:1rem}.single-main-question[_ngcontent-%COMP%]   .question-points[_ngcontent-%COMP%]{font-size:.6rem;color:#999}.single-main-question[_ngcontent-%COMP%]   .single-question-count[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:100%;width:25px;height:25px;text-align:center;display:inline-block;line-height:1.5}.single-main-question[_ngcontent-%COMP%]   .single-question-text-wrapper[_ngcontent-%COMP%]{margin-top:.6rem}.single-main-question[_ngcontent-%COMP%]   .missig-word-input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #ddd;outline:none;width:110px;margin-left:5px;margin-right:5px}.corrected[_ngcontent-%COMP%]{color:#27ae60}.pending[_ngcontent-%COMP%]{color:#e67e22}.correction-area[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;border-radius:8px;padding:10px;box-shadow:0 0 5px #ddd}.correction-area[_ngcontent-%COMP%]   .correction-label[_ngcontent-%COMP%]{position:absolute;top:-41px;font-size:14px;background-color:#2c3e90;color:#fff!important;padding:2px 10px;border-radius:8px}.correction-area[_ngcontent-%COMP%]   .right-answer[_ngcontent-%COMP%]{margin-top:43px}"]}),t})();var Z=n("FqdU"),tt=n("izWX"),et=n("7o2P"),nt=n("arFO"),it=n("rEr+"),st=n("7zfz"),ot=n("xlun");function ct(t,e){1&t&&(a.Qb(0,"tr"),a.Qb(1,"th",13),a.Gc(2," Student Name "),a.Lb(3,"p-sortIcon",14),a.Pb(),a.Qb(4,"th",15),a.Gc(5," Test Name "),a.Lb(6,"p-sortIcon",16),a.Pb(),a.Qb(7,"th",17),a.Gc(8," Group Serial "),a.Lb(9,"p-sortIcon",18),a.Pb(),a.Qb(10,"th",19),a.Gc(11," Submission Date "),a.Lb(12,"p-sortIcon",20),a.Pb(),a.Qb(13,"th",21),a.Gc(14," Status "),a.Lb(15,"p-sortIcon",22),a.Pb(),a.Qb(16,"th"),a.Gc(17,"Action"),a.Pb(),a.Pb())}const at=function(t){return["/teacher/tests/correct-test/",t,"correct"]};function rt(t,e){if(1&t&&(a.Qb(0,"a",27),a.Lb(1,"span",28),a.Pb()),2&t){const t=a.bc().$implicit;a.ic("routerLink",a.mc(1,at,t.id))}}function lt(t,e){1&t&&a.Lb(0,"span",29)}const bt=function(t){return["/teacher/tests/correct-test/",t,"view"]};function ut(t,e){if(1&t&&(a.Qb(0,"a",30),a.Lb(1,"span",31),a.Pb()),2&t){const t=a.bc().$implicit;a.ic("routerLink",a.mc(1,bt,t.id))}}const dt=function(t,e,n,i,s){return{closed:t,pending:e,solved:n,corrected:i,missed:s}};function gt(t,e){if(1&t&&(a.Qb(0,"tr"),a.Qb(1,"td"),a.Gc(2),a.Pb(),a.Qb(3,"td"),a.Gc(4),a.Pb(),a.Qb(5,"td"),a.Gc(6),a.Pb(),a.Qb(7,"td"),a.Gc(8),a.cc(9,"date"),a.Pb(),a.Qb(10,"td"),a.Qb(11,"span",23),a.Gc(12),a.Pb(),a.Pb(),a.Qb(13,"td"),a.Ec(14,rt,2,3,"a",24),a.Ec(15,lt,1,0,"span",25),a.Ec(16,ut,2,3,"a",26),a.Pb(),a.Pb()),2&t){const t=e.$implicit,n=a.bc();a.yb(2),a.Hc(t.studentName),a.yb(2),a.Hc(t.testName),a.yb(2),a.Hc(t.groupSerial),a.yb(2),a.Hc(a.dc(9,9,t.submissionDate)),a.yb(3),a.ic("ngClass",a.qc(11,dt,0==t.status,1==t.status,2==t.status,4==t.status,3==t.status)),a.yb(1),a.Hc(n.getTestStatus(t.status)),a.yb(2),a.ic("ngIf",2==t.status&&1==t.manualCorrection),a.yb(1),a.ic("ngIf",0==t.manualCorrection),a.yb(1),a.ic("ngIf",2!=t.status)}}function pt(t,e){1&t&&(a.Qb(0,"tr"),a.Qb(1,"td"),a.Gc(2,"No records found"),a.Pb(),a.Pb()),2&t&&(a.yb(1),a.zb("colspan",3))}const ft=function(){return["studentName","level","groupInstance","lesson","studentStatus"]},mt=[{path:"",component:(()=>{class t{constructor(t,e){this.teacherService=t,this.commonService=e,this.selectedItems=[],this.testsList=[],this.corrected=!1,this.groupInstancesDropDown=[],this.testTypes=[{label:"Test Type",value:null},{label:"Quiz",value:tt.a.Quiz},{label:"Sublevel Test",value:tt.a.SubLevel},{label:"Final Test",value:tt.a.Final},{label:"Placement Test",value:tt.a.Placement}],this.quizStatus=[{label:"Pending",value:Z.a.Pending},{label:"Solved",value:Z.a.Solved},{label:"Closed",value:Z.a.Closed},{label:"Corrected",value:Z.a.Corrected},{label:"Missed",value:Z.a.Missed}],this.groupInstancesDropDown.push({label:"Group Instance Id",value:null}),this.getAllGroupInstances(),this.selectedTestStatus=Z.a.Pending}ngOnInit(){this.getTestInstancesList(this.selectedTestStatus)}getAllGroupInstances(){this.commonService.getAllGroupInstances().subscribe(t=>{for(let e of t.data)this.groupInstancesDropDown.push({label:e.id,value:parseInt(e.id)})})}getTestInstancesList(t,e,n){this.teacherService.getTestInstancesList(t,e,n).subscribe(t=>{this.testsList=t.data,this.testsList=[{studentName:"Yahya",testName:"Quiz A1.1",groupSerial:12,submissionDate:(new Date).getFullYear(),status:0,manualCorrection:!0},{studentName:"Yahya",testName:"Quiz A1.1",groupSerial:12,submissionDate:(new Date).getFullYear(),status:1,manualCorrection:!0},{studentName:"Yahya",testName:"Quiz A1.1",groupSerial:12,submissionDate:(new Date).getFullYear(),status:2,manualCorrection:!0},{studentName:"Yahya",testName:"Quiz A1.1",groupSerial:12,submissionDate:(new Date).getFullYear(),status:3,manualCorrection:!0},{studentName:"Yahya",testName:"Quiz A1.1",groupSerial:12,submissionDate:(new Date).getFullYear(),status:4,manualCorrection:!0}]})}filter(t){this.getTestInstancesList(this.selectedTestStatus,this.selectedGroupInstance,this.selectedTestType)}getTestStatus(t){switch(t){case Z.a.Pending:this.testStatus="Pending";break;case Z.a.Corrected:this.testStatus="Corrected";break;case Z.a.Solved:this.testStatus="Solved";break;case Z.a.Missed:this.testStatus="Missed";break;case Z.a.Closed:this.testStatus="Closed";break;default:this.testStatus="Pending"}return this.testStatus}}return t.\u0275fac=function(e){return new(e||t)(a.Kb(b.a),a.Kb(et.a))},t.\u0275cmp=a.Eb({type:t,selectors:[["app-tests-list"]],decls:20,vars:15,consts:[[1,"container","mb-5"],[1,"d-flex","mb-5","mt-5","align-items-end"],[1,"d-flex","flex-column","mr-5"],["for",""],[3,"options","ngModel","ngModelChange","onChange"],[1,"d-flex","flex-column","mr-3"],["for","d-flex"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","studentName"],["field","studentName"],["pSortableColumn","testName"],["field","testName"],["pSortableColumn","groupSerial"],["field","groupSerial"],["pSortableColumn","submissionDate"],["field","submissionDate"],["pSortableColumn","status"],["field","status"],[1,"status-box",3,"ngClass"],["title","Correct","class","mr-2 mr-3 text-success",3,"routerLink",4,"ngIf"],["pTooltip","Automatic correction is running...","class"," auto-correction-label p-button-icon pi pi-fast-forward font-weight-bold mr-2 ",4,"ngIf"],["title","View","class","mr-2 mr-3 text-success",3,"routerLink",4,"ngIf"],["title","Correct",1,"mr-2","mr-3","text-success",3,"routerLink"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],["pTooltip","Automatic correction is running...",1,"auto-correction-label","p-button-icon","pi","pi-fast-forward","font-weight-bold","mr-2"],["title","View",1,"mr-2","mr-3","text-success",3,"routerLink"],[1,"p-button-icon","pi","pi-eye","font-weight-bold"]],template:function(t,e){1&t&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Qb(3,"label",3),a.Gc(4,"Test Status"),a.Pb(),a.Qb(5,"p-dropdown",4),a.Xb("ngModelChange",function(t){return e.selectedTestStatus=t})("onChange",function(t){return e.filter(t)}),a.Pb(),a.Pb(),a.Qb(6,"div",2),a.Qb(7,"label",3),a.Gc(8,"Test Type"),a.Pb(),a.Qb(9,"p-dropdown",4),a.Xb("ngModelChange",function(t){return e.selectedTestType=t})("onChange",function(t){return e.filter(t)}),a.Pb(),a.Pb(),a.Qb(10,"div",5),a.Qb(11,"label",6),a.Gc(12,"Group Instance Id"),a.Pb(),a.Qb(13,"p-dropdown",4),a.Xb("ngModelChange",function(t){return e.selectedGroupInstance=t})("onChange",function(t){return e.filter(t)}),a.Pb(),a.Pb(),a.Pb(),a.Qb(14,"div",7),a.Qb(15,"p-table",8,9),a.Xb("selectionChange",function(t){return e.selectedItems=t}),a.Ec(17,ct,18,0,"ng-template",10),a.Ec(18,gt,17,17,"ng-template",11),a.Ec(19,pt,3,1,"ng-template",12),a.Pb(),a.Pb(),a.Pb()),2&t&&(a.yb(5),a.ic("options",e.quizStatus)("ngModel",e.selectedTestStatus),a.yb(4),a.ic("options",e.testTypes)("ngModel",e.selectedTestType),a.yb(4),a.ic("options",e.groupInstancesDropDown)("ngModel",e.selectedGroupInstance),a.yb(2),a.ic("responsive",!0)("value",e.testsList)("rows",10)("paginator",!0)("globalFilterFields",a.lc(14,ft))("selection",e.selectedItems)("rowHover",!0)("showCurrentPageReport",!0))},directives:[nt.a,d.o,d.r,it.d,st.i,it.c,it.b,i.j,i.l,s.f,ot.a],pipes:[i.e],styles:[".status-box[_ngcontent-%COMP%]{font-size:10px;font-weight:700;padding:5px 10px;border-radius:5px;color:#fff;width:75px;text-align:center;display:inline-block}.closed[_ngcontent-%COMP%]{background-color:#34495e}.pending[_ngcontent-%COMP%]{background-color:#e67e22}.solved[_ngcontent-%COMP%]{background-color:#3498db}.corrected[_ngcontent-%COMP%]{background-color:#27ae60}.missed[_ngcontent-%COMP%]{background-color:#c0392b}.auto-correction-label[_ngcontent-%COMP%]{color:#e67e22}"]}),t})()},{path:"correct-test/:id/:status",component:U}];let ht=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},imports:[[s.g.forChild(mt)],s.g]}),t})();var Qt=n("PCNd"),Pt=n("Iq3c");let yt=(()=>{class t{}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)},providers:[Pt.a],imports:[[i.c,Qt.a,ht]]}),t})()}}]);