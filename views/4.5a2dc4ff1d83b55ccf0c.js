(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"4lzg":function(t,e,n){"use strict";n.d(e,"a",function(){return k});class r{}class i{}var o=n("fXoL"),s=n("5iNH"),a=n("dJ3e"),l=n("tyNb"),h=n("ofXK"),c=n("3Pt+"),f=n("zFJ7");function u(t,e){if(1&t&&(o.Qb(0,"span"),o.Qb(1,"span",25),o.Gc(2),o.Pb(),o.Qb(3,"span"),o.Gc(4," / "),o.Pb(),o.Qb(5,"span",26),o.Gc(6),o.Pb(),o.Pb()),2&t){const t=o.bc();o.yb(2),o.Ic(" ",t.homeworkInstance.points,""),o.yb(4),o.Ic(" ",null==t.homeworkInstance||null==t.homeworkInstance.homework?null:t.homeworkInstance.homework.points," Points")}}function d(t,e){if(1&t&&(o.Qb(0,"span"),o.Qb(1,"span",26),o.Gc(2),o.Pb(),o.Pb()),2&t){const t=o.bc();o.yb(2),o.Ic(" Homework Points : ",null==t.homeworkInstance||null==t.homeworkInstance.homework?null:t.homeworkInstance.homework.points," ")}}function g(t,e){if(1&t){const t=o.Rb();o.Qb(0,"textarea",27),o.Xb("ngModelChange",function(e){return o.xc(t),o.bc().homeWorkSubmission.text=e}),o.Gc(1,"                  "),o.Pb()}if(2&t){const t=o.bc();o.ic("ngModel",t.homeWorkSubmission.text)("rows",10)("cols",34)("disabled","Corrected"===t.homeworkInstance.status||"Solved"===t.homeworkInstance.status)}}function p(t,e){1&t&&(o.Qb(0,"span"),o.Gc(1," Your homework is pending correction... "),o.Pb())}function b(t,e){if(1&t&&(o.Qb(0,"span",28),o.Gc(1),o.Pb()),2&t){const t=e.$implicit;o.ic("ngClass",t.class),o.yb(1),o.Hc(t.char)}}function m(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div"),o.Qb(1,"button",29),o.Xb("click",function(){return o.xc(t),o.bc().submitHomeWork(1)}),o.Gc(2," Save "),o.Pb(),o.Qb(3,"button",30),o.Xb("click",function(){return o.xc(t),o.bc().submitHomeWork(2)}),o.Gc(4," Submit "),o.Lb(5,"i",31),o.Pb(),o.Pb()}}function v(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div"),o.Qb(1,"div",32),o.Qb(2,"span",33),o.Gc(3,"Teacher Comments :"),o.Pb(),o.Qb(4,"span"),o.Gc(5),o.Pb(),o.Pb(),o.Qb(6,"div",34),o.Qb(7,"div",18),o.Qb(8,"textarea",35),o.Xb("ngModelChange",function(e){return o.xc(t),o.bc().homeworkInstance.comment=e}),o.Pb(),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=o.bc();o.yb(5),o.Jc("Bonus Points : \xa0",null==t.homeworkInstance?null:t.homeworkInstance.bonusPoints,"/ ",null==t.homeworkInstance||null==t.homeworkInstance.homework?null:t.homeworkInstance.homework.bonusPoints," Points"),o.yb(3),o.ic("rows",5)("cols",34)("ngModel",t.homeworkInstance.comment)}}const w=n("v2jn");let k=(()=>{class t{constructor(t,e,n,o,s){this.studentHomeworkService=t,this.authService=e,this.alertService=n,this.router=o,this.activatedRoute=s,this.homeworkInstance=new i,this.homeWorkSubmission=new r,this.correctionText=[]}ngOnInit(){this.authService.userData$.subscribe(t=>{this.userData=t}),this.getHomeworkId(),this.gitHomeworkInstancesById()}getHomeworkId(){this.homeworkId=this.activatedRoute.snapshot.params.homework_ID}diffText(){this.homeworkInstance.text&&this.homeworkInstance.solution&&w.diffWords(this.homeworkInstance.text,this.homeworkInstance.solution).forEach(t=>{this.correctionText.push({char:t.value,status:t.added?3:t.removed?2:1,class:t.added?"added":t.removed?"removed":"neutral"})})}gitHomeworkInstancesById(){this.studentHomeworkService.GetHomeworkSubmitionById(this.homeworkId).subscribe(t=>{this.homeworkInstance=t,this.homeWorkSubmission.text=this.homeworkInstance.text,this.diffText()})}submitHomeWork(t){if(!this.homeWorkSubmission.text)return this.alertService.newAlert("error","Please Write you answer first");this.homeWorkSubmission.studentId=this.userData.id,this.homeWorkSubmission.id=this.homeworkInstance.id,this.homeWorkSubmission.status=1===t?1:2,this.studentHomeworkService.SubmitHomeWorkForStudent(this.homeWorkSubmission).subscribe(t=>{this.alertService.newAlert("success","Homework submitted successfully"),this.router.navigate(["student/homework"])})}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(s.a),o.Kb(a.c),o.Kb(a.a),o.Kb(l.c),o.Kb(l.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-homework-details"]],decls:40,vars:17,consts:[[1,"Progress","container"],[1,"page-title"],[1,"text-primary","font-weight-bold","mt-4","mb-4"],[1,"lesson-Q"],[1,"card"],[1,"card-body","p-0"],[1,"Q-title","pt-3","text-white","position-relative","rounded-top"],[1,"lesson-address","my-auto","position-absolute","ml-4","font-weight-bold"],[1,"date","ml-3"],[1,"due-date-address","position-absolute","mr-1","my-auto","font-weight-bold"],[1,"d-inline",2,"opacity","0.7","font-size","12px"],[1,"due-date","mx-3",2,"font-size","14px"],[1,"row","p-3","question","m-0","justify-content-center"],[1,"Answer-sec","shadow","bg-white","col-md-8","col","pb-2"],[1,"Q-head","pt-3","pb-2"],[1,"A-instructions","d-flex","justify-content-between",2,"font-size","12px","opacity","0.7"],[4,"ngIf"],[1,"row","mt-3"],[1,"col"],["autocomplete","off","pInputTextarea","","autoResize","autoResize","placeholder","Write Your Answer ..","class","rounded p-3 ml-1 col",3,"ngModel","rows","cols","disabled","ngModelChange",4,"ngIf"],[1,"diff-wrapper","p-3","mb-3","border","text-center"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"info-flag","d-flex","justify-content-end","text-black-50"],[1,"fas","fa-info-circle"],[1,"fas","fa-flag","ml-2"],[1,"text-success","font-weight-bold"],[1,"font-weight-bold"],["autocomplete","off","pInputTextarea","","autoResize","autoResize","placeholder","Write Your Answer ..",1,"rounded","p-3","ml-1","col",3,"ngModel","rows","cols","disabled","ngModelChange"],[3,"ngClass"],[1,"btn","btn-outline-secondary","mr-3","px-5","rounded-pill",3,"click"],["type","submit",1,"btn","adler-btn","my-3","px-5","rounded-pill",3,"click"],[1,"fa","fa-arrow-right","ml-3"],[1,"A-instructions","d-flex","justify-content-between","mt-4",2,"font-size","12px"],[1,"Q-head","h2"],[1,"row","mt-2"],["autocomplete","off","disabled","true","pInputTextarea","","autoResize","autoResize",1,"rounded","p-3","ml-1","col","mb-3",3,"rows","cols","ngModel","ngModelChange"]],template:function(t,e){1&t&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"h1",2),o.Gc(3),o.Pb(),o.Pb(),o.Qb(4,"div",3),o.Qb(5,"div",4),o.Qb(6,"div",5),o.Qb(7,"div",6),o.Qb(8,"div",7),o.Gc(9),o.Qb(10,"span",8),o.Gc(11),o.cc(12,"date"),o.Pb(),o.Pb(),o.Qb(13,"div",9),o.Qb(14,"p",10),o.Gc(15," Due date "),o.Pb(),o.Qb(16,"span",11),o.Gc(17),o.cc(18,"date"),o.Pb(),o.Pb(),o.Pb(),o.Qb(19,"div",12),o.Qb(20,"div",13),o.Qb(21,"div"),o.Qb(22,"h2",14),o.Gc(23),o.Pb(),o.Qb(24,"div",15),o.Ec(25,u,7,2,"span",16),o.Ec(26,d,3,1,"span",16),o.Qb(27,"span"),o.Gc(28),o.Pb(),o.Pb(),o.Qb(29,"div",17),o.Qb(30,"div",18),o.Ec(31,g,2,4,"textarea",19),o.Qb(32,"div",20),o.Ec(33,p,2,0,"span",16),o.Ec(34,b,2,2,"span",21),o.Pb(),o.Pb(),o.Pb(),o.Qb(35,"div",22),o.Lb(36,"i",23),o.Lb(37,"i",24),o.Pb(),o.Ec(38,m,6,0,"div",16),o.Pb(),o.Ec(39,v,9,5,"div",16),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb(),o.Pb()),2&t&&(o.yb(3),o.Ic(" Home work for Lesson ",null==e.homeworkInstance||null==e.homeworkInstance.homework||null==e.homeworkInstance.homework.lessonInstance?null:e.homeworkInstance.homework.lessonInstance.serial," "),o.yb(6),o.Ic(" ",null==e.homeworkInstance||null==e.homeworkInstance.homework||null==e.homeworkInstance.homework.lessonInstance?null:e.homeworkInstance.homework.lessonInstance.lessonDefinition," "),o.yb(2),o.Hc(o.dc(12,13,null==e.homeworkInstance||null==e.homeworkInstance.homework?null:e.homeworkInstance.homework.createdDate)),o.yb(6),o.Hc(o.dc(18,15,null==e.homeworkInstance?null:e.homeworkInstance.dueDate)),o.yb(6),o.Ic(" ",null==e.homeworkInstance||null==e.homeworkInstance.homework?null:e.homeworkInstance.homework.text," "),o.yb(2),o.ic("ngIf","Corrected"===e.homeworkInstance.status),o.yb(1),o.ic("ngIf","Corrected"!==e.homeworkInstance.status),o.yb(2),o.Ic("Minimum no. of characters is ",null==e.homeworkInstance||null==e.homeworkInstance.homework?null:e.homeworkInstance.homework.minCharacters," "),o.yb(3),o.ic("ngIf","Corrected"!==e.homeworkInstance.status),o.yb(2),o.ic("ngIf","Solved"===e.homeworkInstance.status),o.yb(1),o.ic("ngForOf",e.correctionText),o.yb(4),o.ic("ngIf","Corrected"!==e.homeworkInstance.status&&"Solved"!==e.homeworkInstance.status),o.yb(1),o.ic("ngIf","Corrected"==e.homeworkInstance.status))},directives:[h.m,h.l,c.b,f.a,c.o,c.r,h.k],pipes:[h.f],styles:[".Q-title[_ngcontent-%COMP%]{background-color:#2c3e90!important;height:58px}.date[_ngcontent-%COMP%]{opacity:.7;font-size:12px}.due-date-address[_ngcontent-%COMP%]{right:5px}.question[_ngcontent-%COMP%]{background-color:#f4f8fc}.Q-head[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;text-align:left}.Answer-sec[_ngcontent-%COMP%], .Q-head[_ngcontent-%COMP%]{font-family:Montserrat}.Answer-sec[_ngcontent-%COMP%]{border-radius:16px;font-size:14px}.diff-wrapper[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.0784313725490196)}.diff-wrapper[_ngcontent-%COMP%]   .removed[_ngcontent-%COMP%]{text-decoration:line-through;color:var(--red)}.diff-wrapper[_ngcontent-%COMP%]   .added[_ngcontent-%COMP%]{color:var(--green)}"]}),t})()},Ji5O:function(t,e,n){!function(t){"use strict";var e=function(){function t(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}return t.prototype.toString=function(){for(var t,e=["@@ -"+(0===this.length1?this.start1+",0":1===this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1===this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],n=0;n<this.diffs.length;n++){switch(this.diffs[n][0]){case 1:t="+";break;case-1:t="-";break;case 0:t=" "}e[n+1]=t+encodeURI(this.diffs[n][1])+"\n"}return e.join("").replace(/%20/g," ")},t}(),n=function(){function t(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32,this.whitespaceRegex=new RegExp("/s/"),this.linebreakRegex=new RegExp("/[\r\n]/"),this.blanklineEndRegex=new RegExp("/\n\r?\n$/"),this.blanklineStartRegex=new RegExp("/^\r?\n\r?\n/")}return t.prototype.diff_main=function(t,e,n,r){void 0===r&&(r=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=r;if(null==t||null==e)throw new Error("Null input. (diff_main)");if(t===e)return t?[[0,t]]:[];void 0===n&&(n=!0);var o=n,s=this.diff_commonPrefix(t,e),a=t.substring(0,s);t=t.substring(s),e=e.substring(s),s=this.diff_commonSuffix(t,e);var l=t.substring(t.length-s);t=t.substring(0,t.length-s),e=e.substring(0,e.length-s);var h=this.diff_compute_(t,e,o,i);return a&&h.unshift([0,a]),l&&h.push([0,l]),this.diff_cleanupMerge(h),h},t.prototype.diff_cleanupSemantic=function(t){for(var e=!1,n=[],r=0,i=null,o=0,s=0,a=0,l=0,h=0;o<t.length;)0===t[o][0]?(n[r++]=o,s=l,a=h,l=0,h=0,i=t[o][1]):(1===t[o][0]?l+=t[o][1].length:h+=t[o][1].length,i&&i.length<=Math.max(s,a)&&i.length<=Math.max(l,h)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,o=--r>0?n[r-1]:-1,s=0,a=0,l=0,h=0,i=null,e=!0)),o++;for(e&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),o=1;o<t.length;){if(-1===t[o-1][0]&&1===t[o][0]){var c=t[o-1][1],f=t[o][1],u=this.diff_commonOverlap_(c,f),d=this.diff_commonOverlap_(f,c);u>=d?(u>=c.length/2||u>=f.length/2)&&(t.splice(o,0,[0,f.substring(0,u)]),t[o-1][1]=c.substring(0,c.length-u),t[o+1][1]=f.substring(u),o++):(d>=c.length/2||d>=f.length/2)&&(t.splice(o,0,[0,c.substring(0,d)]),t[o-1][0]=1,t[o-1][1]=f.substring(0,f.length-d),t[o+1][0]=-1,t[o+1][1]=c.substring(d),o++),o++}o++}},t.prototype.diff_cleanupEfficiency=function(t){for(var e=!1,n=[],r=0,i=null,o=0,s=!1,a=!1,l=!1,h=!1;o<t.length;)0===t[o][0]?(t[o][1].length<this.Diff_EditCost&&(l||h)?(n[r++]=o,s=l,a=h,i=t[o][1]):(r=0,i=null),l=h=!1):(-1===t[o][0]?h=!0:l=!0,i&&(s&&a&&l&&h||i.length<this.Diff_EditCost/2&&(s?1:0)+(a?1:0)+(l?1:0)+(h?1:0)==3)&&(t.splice(n[r-1],0,[-1,i]),t[n[r-1]+1][0]=1,r--,i=null,s&&a?(l=h=!0,r=0):(o=--r>0?n[r-1]:-1,l=h=!1),e=!0)),o++;e&&this.diff_cleanupMerge(t)},t.prototype.diff_prettyHtml=function(t){for(var e=[],n=/&/g,r=/</g,i=/>/g,o=/\n/g,s=0;s<t.length;s++){var a=t[s][0],l=t[s][1].replace(n,"&amp;").replace(r,"&lt;").replace(i,"&gt;").replace(o,"&para;<br>");switch(a){case 1:e[s]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case-1:e[s]='<del style="background:#ffe6e6;">'+l+"</del>";break;case 0:e[s]="<span>"+l+"</span>"}}return e.join("")},t.prototype.diff_levenshtein=function(t){for(var e=0,n=0,r=0,i=0,o=t;i<o.length;i++){var s=o[i],a=s[1];switch(s[0]){case 1:n+=a.length;break;case-1:r+=a.length;break;case 0:e+=Math.max(n,r),n=0,r=0}}return e+Math.max(n,r)},t.prototype.patch_make=function(t,n,r){var i,o;if("string"==typeof t&&"string"==typeof n&&void 0===r)(o=this.diff_main(i=t,n,!0)).length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(t&&"object"==typeof t&&void 0===n&&void 0===r)i=this.diff_text1(o=t);else if("string"==typeof t&&n&&"object"==typeof n&&void 0===r)i=t,o=n;else{if("string"!=typeof t||"string"!=typeof n||!r||"object"!=typeof r)throw new Error("Unknown call format to patch_make.");i=t,o=r}if(0===o.length)return[];for(var s=[],a=new e,l=0,h=0,c=0,f=i,u=i,d=0;d<o.length;d++){var g=o[d][0],p=o[d][1];switch(l||0===g||(a.start1=h,a.start2=c),g){case 1:a.diffs[l++]=o[d],a.length2+=p.length,u=u.substring(0,c)+p+u.substring(c);break;case-1:a.length1+=p.length,a.diffs[l++]=o[d],u=u.substring(0,c)+u.substring(c+p.length);break;case 0:p.length<=2*this.Patch_Margin&&l&&o.length!==d+1?(a.diffs[l++]=o[d],a.length1+=p.length,a.length2+=p.length):p.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(a,f),s.push(a),a=new e,l=0,f=u,h=c)}1!==g&&(h+=p.length),-1!==g&&(c+=p.length)}return l&&(this.patch_addContext_(a,f),s.push(a)),s},t.prototype.patch_apply=function(t,e){if(0===t.length)return[e,[]];t=this.patch_deepCopy(t);var n=this.patch_addPadding(t);e=n+e+n,this.patch_splitMax(t);for(var r=0,i=[],o=0;o<t.length;o++){var s,a=t[o].start2+r,l=this.diff_text1(t[o].diffs),h=void 0,c=-1;if(l.length>this.Match_MaxBits?-1!==(h=this.match_main(e,l.substring(0,this.Match_MaxBits),a))&&(-1===(c=this.match_main(e,l.substring(l.length-this.Match_MaxBits),a+l.length-this.Match_MaxBits))||h>=c)&&(h=-1):h=this.match_main(e,l,a),-1===h)i[o]=!1,r-=t[o].length2-t[o].length1;else if(i[o]=!0,r=h-a,l===(s=e.substring(h,-1===c?h+l.length:c+this.Match_MaxBits)))e=e.substring(0,h)+this.diff_text2(t[o].diffs)+e.substring(h+l.length);else{var f=this.diff_main(l,s,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(f)/l.length>this.Patch_DeleteThreshold)i[o]=!1;else{this.diff_cleanupSemanticLossless(f);for(var u=0,d=void 0,g=0,p=t[o].diffs;g<p.length;g++){var b=p[g];0!==b[0]&&(d=this.diff_xIndex(f,u)),1===b[0]?e=e.substring(0,h+d)+b[1]+e.substring(h+d):-1===b[0]&&(e=e.substring(0,h+d)+e.substring(h+this.diff_xIndex(f,u+b[1].length))),-1!==b[0]&&(u+=b[1].length)}}}}return[e=e.substring(n.length,e.length-n.length),i]},t.prototype.patch_toText=function(t){for(var e=[],n=0;n<t.length;n++)e[n]=t[n];return e.join("")},t.prototype.patch_fromText=function(t){var n=[];if(!t)return n;for(var r=t.split("\n"),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var s=r[i].match(o);if(!s)throw new Error("Invalid patch string: "+r[i]);var a=new e;for(n.push(a),a.start1=parseInt(s[1],10),""===s[2]?(a.start1--,a.length1=1):"0"===s[2]?a.length1=0:(a.start1--,a.length1=parseInt(s[2],10)),a.start2=parseInt(s[3],10),""===s[4]?(a.start2--,a.length2=1):"0"===s[4]?a.length2=0:(a.start2--,a.length2=parseInt(s[4],10)),i++;i<r.length;){var l=r[i].charAt(0),h=void 0;try{h=decodeURI(r[i].substring(1))}catch(c){throw new Error("Illegal escape in patch_fromText: "+h)}if("-"===l)a.diffs.push([-1,h]);else if("+"===l)a.diffs.push([1,h]);else if(" "===l)a.diffs.push([0,h]);else{if("@"===l)break;if(""!==l)throw new Error('Invalid patch mode "'+l+'" in: '+h)}i++}}return n},t.prototype.diff_commonPrefix=function(t,e){if(!t||!e||t.charAt(0)!==e.charAt(0))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(o,i)===e.substring(o,i)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_commonSuffix=function(t,e){if(!t||!e||t.charAt(t.length-1)!==e.charAt(e.length-1))return 0;for(var n=0,r=Math.min(t.length,e.length),i=r,o=0;n<i;)t.substring(t.length-i,t.length-o)===e.substring(e.length-i,e.length-o)?o=n=i:r=i,i=Math.floor((r-n)/2+n);return i},t.prototype.diff_cleanupMerge=function(t){t.push([0,""]);for(var e,n=0,r=0,i=0,o="",s="";n<t.length;)switch(t[n][0]){case 1:i++,s+=t[n][1],n++;break;case-1:r++,o+=t[n][1],n++;break;case 0:r+i>1?(0!==r&&0!==i&&(0!==(e=this.diff_commonPrefix(s,o))&&(n-r-i>0&&0===t[n-r-i-1][0]?t[n-r-i-1][1]+=s.substring(0,e):(t.splice(0,0,[0,s.substring(0,e)]),n++),s=s.substring(e),o=o.substring(e)),0!==(e=this.diff_commonSuffix(s,o))&&(t[n][1]=s.substring(s.length-e)+t[n][1],s=s.substring(0,s.length-e),o=o.substring(0,o.length-e))),0===r?t.splice(n-i,r+i,[1,s]):0===i?t.splice(n-r,r+i,[-1,o]):t.splice(n-r-i,r+i,[-1,o],[1,s]),n=n-r-i+(r?1:0)+(i?1:0)+1):0!==n&&0===t[n-1][0]?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,o="",s=""}""===t[t.length-1][1]&&t.pop();var a=!1;for(n=1;n<t.length-1;)0===t[n-1][0]&&0===t[n+1][0]&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),a=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),a=!0)),n++;a&&this.diff_cleanupMerge(t)},t.prototype.diff_text1=function(t){for(var e=[],n=0;n<t.length;n++)1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},t.prototype.diff_text2=function(t){for(var e=[],n=0;n<t.length;n++)-1!==t[n][0]&&(e[n]=t[n][1]);return e.join("")},t.prototype.diff_lineMode=function(t,e){var n=this.diff_linesToChars_(t,e),r=this.diff_main(n.chars1,n.chars2,!1);return this.diff_charsToLines_(r,n.lineArray),r},t.prototype.diff_compute_=function(t,e,n,r){var i;if(!t)return[[1,e]];if(!e)return[[-1,t]];var o=t.length>e.length?t:e,s=t.length>e.length?e:t,a=o.indexOf(s);if(-1!==a)return i=[[1,o.substring(0,a)],[0,s],[1,o.substring(a+s.length)]],t.length>e.length&&(i[0][0]=i[2][0]=-1),i;if(1===s.length)return[[-1,t],[1,e]];var l=this.diff_halfMatch_(t,e);if(l){var h=l[1],c=l[3],f=l[4],u=this.diff_main(l[0],l[2],n,r),d=this.diff_main(h,c,n,r);return u.concat([[0,f]],d)}return n&&t.length>100&&e.length>100?this.diff_lineMode_(t,e,r):this.diff_bisect_(t,e,r)},t.prototype.diff_lineMode_=function(t,e,n){var r=this.diff_linesToChars_(t,e),i=r.lineArray,o=this.diff_main(t=r.chars1,e=r.chars2,!1,n);this.diff_charsToLines_(o,i),this.diff_cleanupSemantic(o),o.push([0,""]);for(var s=0,a=0,l=0,h="",c="";s<o.length;){switch(o[s][0]){case 1:l++,c+=o[s][1];break;case-1:a++,h+=o[s][1];break;case 0:if(a>=1&&l>=1){o.splice(s-a-l,a+l),s=s-a-l;for(var f=this.diff_main(h,c,!1,n),u=f.length-1;u>=0;u--)o.splice(s,0,f[u]);s+=f.length}l=0,a=0,h="",c=""}s++}return o.pop(),o},t.prototype.diff_bisect_=function(t,e,n){for(var r=t.length,i=e.length,o=Math.ceil((r+i)/2),s=o,a=2*o,l=new Array(a),h=new Array(a),c=0;c<a;c++)l[c]=-1,h[c]=-1;l[s+1]=0,h[s+1]=0;for(var f=r-i,u=f%2!=0,d=0,g=0,p=0,b=0,m=0;m<o&&!((new Date).getTime()>n);m++){for(var v=-m+d;v<=m-g;v+=2){for(var w=s+v,k=void 0,_=(k=v===-m||v!==m&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-v;k<r&&_<i&&t.charAt(k)===e.charAt(_);)k++,_++;if(l[w]=k,k>r)g+=2;else if(_>i)d+=2;else if(u&&(x=s+f-v)>=0&&x<a&&-1!==h[x]&&k>=(I=r-h[x]))return this.diff_bisectSplit_(t,e,k,_,n)}for(var y=-m+p;y<=m-b;y+=2){for(var x=s+y,I=void 0,P=(I=y===-m||y!==m&&h[x-1]<h[x+1]?h[x+1]:h[x-1]+1)-y;I<r&&P<i&&t.charAt(r-I-1)===e.charAt(i-P-1);)I++,P++;if(h[x]=I,I>r)b+=2;else if(P>i)p+=2;else if(!u&&(w=s+f-y)>=0&&w<a&&-1!==l[w]&&(_=s+(k=l[w])-w,k>=(I=r-I)))return this.diff_bisectSplit_(t,e,k,_,n)}}return[[-1,t],[1,e]]},t.prototype.diff_bisectSplit_=function(t,e,n,r,i){var o=t.substring(0,n),s=e.substring(0,r),a=t.substring(n),l=e.substring(r),h=this.diff_main(o,s,!1,i),c=this.diff_main(a,l,!1,i);return h.concat(c)},t.prototype.diff_linesToChars_=function(t,e){var n=[],r={};return n[0]="",{chars1:this.diff_linesToCharsMunge_(t,n,r),chars2:this.diff_linesToCharsMunge_(e,n,r),lineArray:n}},t.prototype.diff_linesToCharsMunge_=function(t,e,n){for(var r="",i=0,o=-1,s=e.length;o<t.length-1;){-1===(o=t.indexOf("\n",i))&&(o=t.length-1);var a=t.substring(i,o+1);i=o+1,(n.hasOwnProperty?n.hasOwnProperty(a):void 0!==n[a])?r+=String.fromCharCode(n[a]):(r+=String.fromCharCode(s),n[a]=s,e[s++]=a)}return r},t.prototype.diff_charsToLines_=function(t,e){for(var n=0,r=t;n<r.length;n++){for(var i=r[n],o=i[1],s=[],a=0;a<o.length;a++)s[a]=e[o.charCodeAt(a)];i[1]=s.join("")}},t.prototype.diff_commonOverlap_=function(t,e){var n=t.length,r=e.length;if(0===n||0===r)return 0;n>r?t=t.substring(n-r):n<r&&(e=e.substring(0,n));var i=Math.min(n,r);if(t===e)return i;for(var o=0,s=1;;){var a=t.substring(i-s),l=e.indexOf(a);if(-1===l)return o;s+=l,0!==l&&t.substring(i-s)!==e.substring(0,s)||(o=s,s++)}},t.prototype.diff_halfMatch_=function(t,e){if(this.Diff_Timeout<=0)return null;var n=t.length>e.length?t:e,r=t.length>e.length?e:t;if(n.length<4||2*r.length<n.length)return null;var i,o,s,a,l,h=this.diff_halfMatchI_(n,r,Math.ceil(n.length/4),this),c=this.diff_halfMatchI_(n,r,Math.ceil(n.length/2),this);return h||c?(i=c?h&&h[4].length>c[4].length?h:c:h,t.length>e.length?(o=i[0],s=i[1],a=i[2],l=i[3]):(a=i[0],l=i[1],o=i[2],s=i[3]),[o,s,a,l,i[4]]):null},t.prototype.diff_halfMatchI_=function(t,e,n,r){for(var i,o,s,a,l=t.substring(n,n+Math.floor(t.length/4)),h=-1,c="";-1!==(h=e.indexOf(l,h+1));){var f=r.diff_commonPrefix(t.substring(n),e.substring(h)),u=r.diff_commonSuffix(t.substring(0,n),e.substring(0,h));c.length<u+f&&(c=e.substring(h-u,h)+e.substring(h,h+f),i=t.substring(0,n-u),o=t.substring(n+f),s=e.substring(0,h-u),a=e.substring(h+f))}return 2*c.length>=t.length?[i,o,s,a,c]:null},t.prototype.diff_cleanupSemanticLossless=function(t){function e(t,e){if(!t||!e)return 6;var n=new RegExp("/[^a-zA-Z0-9]/"),r=t.charAt(t.length-1),i=e.charAt(0),o=r.match(n),s=i.match(n),a=o&&r.match(this.whitespaceRegex_),l=s&&i.match(this.whitespaceRegex_),h=a&&r.match(this.linebreakRegex_),c=l&&i.match(this.linebreakRegex_),f=h&&t.match(this.blanklineEndRegex_),u=c&&e.match(this.blanklineStartRegex_);return f||u?5:h||c?4:o&&!a&&l?3:a||l?2:o||s?1:0}for(var n=1;n<t.length-1;){if(0===t[n-1][0]&&0===t[n+1][0]){var r=t[n-1][1],i=t[n][1],o=t[n+1][1],s=this.diff_commonSuffix(r,i);if(s){var a=i.substring(i.length-s);r=r.substring(0,r.length-s),i=a+i.substring(0,i.length-s),o=a+o}for(var l=r,h=i,c=o,f=e(r,i)+e(i,o);i.charAt(0)===o.charAt(0);){r+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var u=e(r,i)+e(i,o);u>=f&&(f=u,l=r,h=i,c=o)}t[n-1][1]!==l&&(l?t[n-1][1]=l:(t.splice(n-1,1),n--),t[n][1]=h,c?t[n+1][1]=c:(t.splice(n+1,1),n--))}n++}},t.prototype.diff_xIndex=function(t,e){var n,r=0,i=0,o=0,s=0;for(n=0;n<t.length&&(1!==t[n][0]&&(r+=t[n][1].length),-1!==t[n][0]&&(i+=t[n][1].length),!(r>e));n++)o=r,s=i;return t.length!==n&&-1===t[n][0]?s:s+(e-o)},t.prototype.diff_toDelta=function(t){for(var e=[],n=0;n<t.length;n++)switch(t[n][0]){case 1:e[n]="+"+encodeURI(t[n][1]);break;case-1:e[n]="-"+t[n][1].length;break;case 0:e[n]="="+t[n][1].length}return e.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(t,e){for(var n=[],r=0,i=0,o=0,s=e.split(/\t/g);o<s.length;o++){var a=s[o],l=a.substring(1);switch(a.charAt(0)){case"+":try{n[r++]=[1,decodeURI(l)]}catch(f){throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var h=parseInt(l,10);if(isNaN(h)||h<0)throw new Error("Invalid number in diff_fromDelta: "+l);var c=t.substring(i,i+=h);"="===a.charAt(0)?n[r++]=[0,c]:n[r++]=[-1,c];break;default:if(a)throw new Error("Invalid diff operation in diff_fromDelta: "+a)}}if(i!==t.length)throw new Error("Delta length ("+i+") does not equal source text length ("+t.length+").");return n},t.prototype.match_main=function(t,e,n){if(null==t||null==e||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,t.length)),t===e?0:t.length?t.substring(n,n+e.length)===e?n:this.match_bitap_(t,e,n):-1},t.prototype.match_bitap_=function(t,e,n){if(e.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(e),i=this;function o(t,r){var o=t/e.length,s=Math.abs(n-r);return i.Match_Distance?o+s/i.Match_Distance:s?1:o}var s=this.Match_Threshold,a=t.indexOf(e,n);-1!==a&&(s=Math.min(o(0,a),s),-1!==(a=t.lastIndexOf(e,n+e.length))&&(s=Math.min(o(0,a),s)));var l,h,c=1<<e.length-1;a=-1;for(var f,u=e.length+t.length,d=0;d<e.length;d++){for(l=0,h=u;l<h;)o(d,n+h)<=s?l=h:u=h,h=Math.floor((u-l)/2+l);u=h;var g=Math.max(1,n-h+1),p=Math.min(n+h,t.length)+e.length,b=Array(p+2);b[p+1]=(1<<d)-1;for(var m=p;m>=g;m--){var v=r[t.charAt(m-1)];if(b[m]=0===d?(b[m+1]<<1|1)&v:(b[m+1]<<1|1)&v|(f[m+1]|f[m])<<1|1|f[m+1],b[m]&c){var w=o(d,m-1);if(w<=s){if(s=w,!((a=m-1)>n))break;g=Math.max(1,2*n-a)}}}if(o(d+1,n)>s)break;f=b}return a},t.prototype.match_alphabet_=function(t){for(var e={},n=0;n<t.length;n++)e[t.charAt(n)]=0;for(n=0;n<t.length;n++)e[t.charAt(n)]|=1<<t.length-n-1;return e},t.prototype.patch_addContext_=function(t,e){if(0!==e.length){for(var n=e.substring(t.start2,t.start2+t.length1),r=0;e.indexOf(n)!==e.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)n=e.substring(t.start2-(r+=this.Patch_Margin),t.start2+t.length1+r);var i=e.substring(t.start2-(r+=this.Patch_Margin),t.start2);i&&t.diffs.unshift([0,i]);var o=e.substring(t.start2+t.length1,t.start2+t.length1+r);o&&t.diffs.push([0,o]),t.start1-=i.length,t.start2-=i.length,t.length1+=i.length+o.length,t.length2+=i.length+o.length}},t.prototype.patch_deepCopy=function(t){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=new e;o.diffs=[];for(var s=0;s<i.diffs.length;s++)o.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,n[r]=o}return n},t.prototype.patch_addPadding=function(t){for(var e=this.Patch_Margin,n="",r=1;r<=e;r++)n+=String.fromCharCode(r);for(var i=0,o=t;i<o.length;i++){var s=o[i];s.start1+=e,s.start2+=e}var a=t[0],l=a.diffs;if(0===l.length||0!==l[0][0])l.unshift([0,n]),a.start1-=e,a.start2-=e,a.length1+=e,a.length2+=e;else if(e>l[0][1].length){var h=e-l[0][1].length;l[0][1]=n.substring(l[0][1].length)+l[0][1],a.start1-=h,a.start2-=h,a.length1+=h,a.length2+=h}return 0===(l=(a=t[t.length-1]).diffs).length||0!==l[l.length-1][0]?(l.push([0,n]),a.length1+=e,a.length2+=e):e>l[l.length-1][1].length&&(l[l.length-1][1]+=n.substring(0,h=e-l[l.length-1][1].length),a.length1+=h,a.length2+=h),n},t.prototype.patch_splitMax=function(t){for(var n=this.Match_MaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=n)){var i=t[r];t.splice(r--,1);for(var o=i.start1,s=i.start2,a="";0!==i.diffs.length;){var l=new e,h=!0;for(l.start1=o-a.length,l.start2=s-a.length,""!==a&&(l.length1=l.length2=a.length,l.diffs.push([0,a]));0!==i.diffs.length&&l.length1<n-this.Patch_Margin;){var c=i.diffs[0][0],f=i.diffs[0][1];1===c?(l.length2+=f.length,s+=f.length,l.diffs.push(i.diffs.shift()),h=!1):-1===c&&1===l.diffs.length&&0===l.diffs[0][0]&&f.length>2*n?(l.length1+=f.length,o+=f.length,h=!1,l.diffs.push([c,f]),i.diffs.shift()):(f=f.substring(0,n-l.length1-this.Patch_Margin),l.length1+=f.length,o+=f.length,0===c?(l.length2+=f.length,s+=f.length):h=!1,l.diffs.push([c,f]),f===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(f.length))}a=(a=this.diff_text2(l.diffs)).substring(a.length-this.Patch_Margin);var u=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==u&&(l.length1+=u.length,l.length2+=u.length,0!==l.diffs.length&&0===l.diffs[l.diffs.length-1][0]?l.diffs[l.diffs.length-1][1]+=u:l.diffs.push([0,u])),h||t.splice(++r,0,l)}}},t}();t.PatchOperation=e,t.DiffMatchPatch=n,Object.defineProperty(t,"__esModule",{value:!0})}(e)},"pr+G":function(t,e,n){"use strict";n.r(e),n.d(e,"HomeworkModule",function(){return I});var r=n("ofXK"),i=n("4lzg"),o=n("fXoL"),s=n("5iNH"),a=n("JdUQ"),l=n("tyNb"),h=n("dJ3e"),c=n("xqMB"),f=n("arFO"),u=n("3Pt+"),d=n("xlun");const g=function(){return{Corrected:"status-Corrected fa-check",Missed:"status-Missed fa-times",Solved:"status-Solved fa-check-circle",Pending:"status-Pending fa-question"}},p=function(){return{Corrected:"status-Corrected-bg ",Missed:"status-Missed",Solved:"status-Solved ",Pending:"status-Pending "}};function b(t,e){if(1&t){const t=o.Rb();o.Qb(0,"div",8),o.Xb("click",function(){o.xc(t);const n=e.$implicit;return o.bc().redirectToHomesubmtion(n)}),o.Qb(1,"div",9),o.Qb(2,"div",10),o.Qb(3,"div",11),o.Gc(4),o.Pb(),o.Qb(5,"div",12),o.Gc(6),o.cc(7,"date"),o.Pb(),o.Qb(8,"div",13),o.Gc(9),o.cc(10,"date"),o.Pb(),o.Pb(),o.Qb(11,"div",14),o.Gc(12),o.Pb(),o.Qb(13,"div",15),o.Qb(14,"div",16),o.Lb(15,"i",17),o.Pb(),o.Qb(16,"div",18),o.Gc(17),o.Pb(),o.Pb(),o.Pb(),o.Qb(18,"div",19),o.Lb(19,"div",20),o.Qb(20,"div",21),o.Gc(21),o.Pb(),o.Pb(),o.Pb()}if(2&t){const t=e.$implicit;o.yb(4),o.Ic(" ",t.homework.lessonInstance.lessonDefinition," "),o.yb(2),o.Ic(" ",o.dc(7,9,t.homework.createdDate)," "),o.yb(3),o.Ic(" Due Date:",o.dc(10,11,t.dueDate)," "),o.yb(3),o.Ic(" ",t.homework.text," "),o.yb(5),o.Jc(" ",t.points," / ",t.homework.points," points "),o.yb(2),o.ic("ngClass",o.lc(13,g)[t.status]),o.yb(1),o.ic("ngClass",o.lc(14,p)[t.status]),o.yb(1),o.Ic(" ",t.status," ")}}function m(t,e){if(1&t&&(o.Qb(0,"div",22),o.Gc(1),o.Pb()),2&t){const t=o.bc();o.yb(1),o.Ic(" ",t.msg," ")}}const v=[{path:"",component:(()=>{class t{constructor(t,e,n,r,i){this.studentHomeworkService=t,this.alertService=e,this.router=n,this.authService=r,this.profileService=i,this.homeworkInstances=[],this.groupInstances=[],this.groupInstanceOptions=[],this.msg="loading ..."}ngOnInit(){this.authService.userData$.subscribe(t=>{this.studentId=t.id,this.getGroupIntancesOfStudentById(this.studentId)})}getGroupIntancesOfStudentById(t){this.profileService.GetAllLastByStudent(t).subscribe(t=>{this.groupInstances=t.data,this.groupInstances.forEach(t=>{let e={label:t.serial,value:t.groupInstanceId};t.isCurrent&&(e.label+=" (Current)",this.selectedGroupInstanceOption=e.value,this.getHomeworkInstances(this.selectedGroupInstanceOption)),this.groupInstanceOptions.push(e)})})}getHomeworkInstances(t){this.studentHomeworkService.GetHomeworkForStudent(this.studentId,t).subscribe(t=>{if(!t.length)return this.alertService.newAlert("error","No Homework found"),this.router.navigate(["student/homework"]);this.homeworkInstances=t,0===this.homeworkInstances.length&&(this.msg="No homeworks found ..")},t=>{this.msg="No homeworks found .."})}redirectToHomesubmtion(t){"Draft"!=t.status&&"Pending"!=t.status&&"Corrected"!=t.status&&"Solved"!=t.status||this.router.navigate(["student/homework/details",t.id])}}return t.\u0275fac=function(e){return new(e||t)(o.Kb(s.a),o.Kb(a.a),o.Kb(l.c),o.Kb(h.c),o.Kb(c.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-homework"]],decls:9,vars:4,consts:[[1,"rounded","pt-4","row","d-flex","flex-wrap","justify-content-center","flex-column","text-center"],[1,"mb-5","mt-4"],["for","groupInstance"],[1,"mr-3"],["id","groupInstance",3,"options","ngModel","ngModelChange","onChange"],[1,"d-flex","flex-row","flex-wrap","justify-content-center"],["class","lesson-instance-card border d-flex p-3 mb-3 mx-2","pTooltip","This Homework's points will be considered within the final grade.","tooltipPosition","right","showDelay","250","hideDelay","500",3,"click",4,"ngFor","ngForOf"],["class","mt-5 mb-3",4,"ngIf"],["pTooltip","This Homework's points will be considered within the final grade.","tooltipPosition","right","showDelay","250","hideDelay","500",1,"lesson-instance-card","border","d-flex","p-3","mb-3","mx-2",3,"click"],[1,"lesson-details","mr-4"],[1,"position-relative","d-flex","justify-content-around"],[1,"text-secondary","font-weight-bold"],[1,"ml-1","mr-4"],[1,"text-primary","mb-1"],[1,""],[1,"d-flex","justify-content-start"],[1,"points-tag","rounded-circle","d-flex","align-items-center","justify-content-center"],[1,"pi","pi-star",2,"font-size","10px"],[1,"ml-3"],[1,"lesson-status","m-auto","text-center"],[1,"lesson-status-icon","text-center","rounded-circle","m-auto","fas",2,"font-size","18px",3,"ngClass"],[1,"lesson-statu-text","mt-2",3,"ngClass"],[1,"mt-5","mb-3"]],template:function(t,e){1&t&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"label",2),o.Qb(3,"span",3),o.Gc(4,"Select A Group Instance"),o.Pb(),o.Qb(5,"p-dropdown",4),o.Xb("ngModelChange",function(t){return e.selectedGroupInstanceOption=t})("onChange",function(){return e.getHomeworkInstances(e.selectedGroupInstanceOption)}),o.Pb(),o.Pb(),o.Pb(),o.Qb(6,"div",5),o.Ec(7,b,22,15,"div",6),o.Ec(8,m,2,1,"div",7),o.Pb(),o.Pb()),2&t&&(o.yb(5),o.ic("options",e.groupInstanceOptions)("ngModel",e.selectedGroupInstanceOption),o.yb(2),o.ic("ngForOf",e.homeworkInstances),o.yb(1),o.ic("ngIf",!e.homeworkInstances||!e.homeworkInstances.length))},directives:[f.a,u.o,u.r,r.l,r.m,d.a,r.k],pipes:[r.f],styles:[".lesson-instance-card[_ngcontent-%COMP%]{cursor:pointer;border-radius:16px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fafafa}.points-tag[_ngcontent-%COMP%]{height:20px;width:20px;background-image:linear-gradient(0deg,#fd5900,#ffde00);color:#fff}.lesson-status-icon[_ngcontent-%COMP%]{height:40px;width:40px;line-height:35px;font-weight:700;border:3px solid!important}.lesson-status[_ngcontent-%COMP%]   .status-Corrected[_ngcontent-%COMP%]{border-color:#207a04!important;background-color:rgba(50,213,9,.55);color:#207a04}.status-Corrected-bg[_ngcontent-%COMP%]{color:#207a04;background-color:none}.lesson-status[_ngcontent-%COMP%]   .status-Missed[_ngcontent-%COMP%]{border-color:#f33!important;color:#f33}.lesson-status[_ngcontent-%COMP%]   .status-Solved[_ngcontent-%COMP%]{border-color:#2c3e90!important;color:#2c3e90}.lesson-status[_ngcontent-%COMP%]   .status-Pending[_ngcontent-%COMP%]{border-color:#d9a600!important;color:#d9a600}"]}),t})()},{path:"details/:homework_ID",component:i.a}];let w=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(e){return new(e||t)},imports:[[l.g.forChild(v),r.c],l.g]}),t})();var k=n("PCNd"),_=n("Ji5O");let y=(()=>{class t{constructor(){this.dmp=new _.DiffMatchPatch}computeLineDiff(t,e){return this.dmp.diff_lineMode(t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Gb({token:t,factory:t.\u0275fac}),t})(),x=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(e){return new(e||t)},providers:[y],imports:[[r.c]]}),t})(),I=(()=>{class t{}return t.\u0275mod=o.Ib({type:t}),t.\u0275inj=o.Hb({factory:function(e){return new(e||t)},imports:[[r.c,w,k.a,x]]}),t})()},v2jn:function(t,e,n){!function(t){"use strict";function e(){}function n(t,e,n,r,i){for(var o=0,s=e.length,a=0,l=0;o<s;o++){var h=e[o];if(h.removed){if(h.value=t.join(r.slice(l,l+h.count)),l+=h.count,o&&e[o-1].added){var c=e[o-1];e[o-1]=e[o],e[o]=c}}else{if(!h.added&&i){var f=n.slice(a,a+h.count);f=f.map(function(t,e){var n=r[l+e];return n.length>t.length?n:t}),h.value=t.join(f)}else h.value=t.join(n.slice(a,a+h.count));a+=h.count,h.added||(l+=h.count)}}var u=e[s-1];return s>1&&"string"==typeof u.value&&(u.added||u.removed)&&t.equals("",u.value)&&(e[s-2].value+=u.value,e.pop()),e}function r(t){return{newPos:t.newPos,components:t.components.slice(0)}}e.prototype={diff:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.callback;"function"==typeof i&&(o=i,i={}),this.options=i;var s=this;function a(t){return o?(setTimeout(function(){o(void 0,t)},0),!0):t}t=this.castInput(t),e=this.castInput(e),t=this.removeEmpty(this.tokenize(t));var l=(e=this.removeEmpty(this.tokenize(e))).length,h=t.length,c=1,f=l+h,u=[{newPos:-1,components:[]}],d=this.extractCommon(u[0],e,t,0);if(u[0].newPos+1>=l&&d+1>=h)return a([{value:this.join(e),count:e.length}]);function g(){for(var i=-1*c;i<=c;i+=2){var o=void 0,f=u[i-1],d=u[i+1],g=(d?d.newPos:0)-i;f&&(u[i-1]=void 0);var p=f&&f.newPos+1<l,b=d&&0<=g&&g<h;if(p||b){if(!p||b&&f.newPos<d.newPos?(o=r(d),s.pushComponent(o.components,void 0,!0)):((o=f).newPos++,s.pushComponent(o.components,!0,void 0)),g=s.extractCommon(o,e,t,i),o.newPos+1>=l&&g+1>=h)return a(n(s,o.components,e,t,s.useLongestToken));u[i]=o}else u[i]=void 0}c++}if(o)!function t(){setTimeout(function(){if(c>f)return o();g()||t()},0)}();else for(;c<=f;){var p=g();if(p)return p}},pushComponent:function(t,e,n){var r=t[t.length-1];r&&r.added===e&&r.removed===n?t[t.length-1]={count:r.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,r){for(var i=e.length,o=n.length,s=t.newPos,a=s-r,l=0;s+1<i&&a+1<o&&this.equals(e[s+1],n[a+1]);)s++,a++,l++;return l&&t.components.push({count:l}),t.newPos=s,a},equals:function(t,e){return this.options.comparator?this.options.comparator(t,e):t===e||this.options.ignoreCase&&t.toLowerCase()===e.toLowerCase()},removeEmpty:function(t){for(var e=[],n=0;n<t.length;n++)t[n]&&e.push(t[n]);return e},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};var i=new e;function o(t,e){if("function"==typeof t)e.callback=t;else if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var s=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,a=/\S/,l=new e;l.equals=function(t,e){return this.options.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e||this.options.ignoreWhitespace&&!a.test(t)&&!a.test(e)},l.tokenize=function(t){for(var e=t.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<e.length-1;n++)!e[n+1]&&e[n+2]&&s.test(e[n])&&s.test(e[n+2])&&(e[n]+=e[n+2],e.splice(n+1,2),n--);return e};var h=new e;function c(t,e,n){return h.diff(t,e,n)}h.tokenize=function(t){var e=[],n=t.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};var f=new e;f.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var u=new e;function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}u.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};var b=Object.prototype.toString,m=new e;function v(t,e,n,r,i){var o,s;for(e=e||[],n=n||[],r&&(t=r(i,t)),o=0;o<e.length;o+=1)if(e[o]===t)return n[o];if("[object Array]"===b.call(t)){for(e.push(t),s=new Array(t.length),n.push(s),o=0;o<t.length;o+=1)s[o]=v(t[o],e,n,r,i);return e.pop(),n.pop(),s}if(t&&t.toJSON&&(t=t.toJSON()),"object"===d(t)&&null!==t){e.push(t),n.push(s={});var a,l=[];for(a in t)t.hasOwnProperty(a)&&l.push(a);for(l.sort(),o=0;o<l.length;o+=1)s[a=l[o]]=v(t[a],e,n,r,a);e.pop(),n.pop()}else s=t;return s}m.useLongestToken=!0,m.tokenize=h.tokenize,m.castInput=function(t){var e=this.options,n=e.undefinedReplacement,r=e.stringifyReplacer,i=void 0===r?function(t,e){return void 0===e?n:e}:r;return"string"==typeof t?t:JSON.stringify(v(t,null,null,i),i,"  ")},m.equals=function(t,n){return e.prototype.equals.call(m,t.replace(/,([\r\n])/g,"$1"),n.replace(/,([\r\n])/g,"$1"))};var w=new e;function k(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.split(/\r\n|[\n\v\f\r\x85]/),r=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],o=0;function s(){var t={};for(i.push(t);o<n.length;){var r=n[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(r))break;var s=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(r);s&&(t.index=s[1]),o++}for(a(t),a(t),t.hunks=[];o<n.length;){var h=n[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(h))break;if(/^@@/.test(h))t.hunks.push(l());else{if(h&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(h));o++}}}function a(t){var e=/^(---|\+\+\+)\s+(.*)$/.exec(n[o]);if(e){var r="---"===e[1]?"old":"new",i=e[2].split("\t",2),s=i[0].replace(/\\\\/g,"\\");/^".*"$/.test(s)&&(s=s.substr(1,s.length-2)),t[r+"FileName"]=s,t[r+"Header"]=(i[1]||"").trim(),o++}}function l(){var t=o,i=n[o++].split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),s={oldStart:+i[1],oldLines:void 0===i[2]?1:+i[2],newStart:+i[3],newLines:void 0===i[4]?1:+i[4],lines:[],linedelimiters:[]};0===s.oldLines&&(s.oldStart+=1),0===s.newLines&&(s.newStart+=1);for(var a=0,l=0;o<n.length&&!(0===n[o].indexOf("--- ")&&o+2<n.length&&0===n[o+1].indexOf("+++ ")&&0===n[o+2].indexOf("@@"));o++){var h=0==n[o].length&&o!=n.length-1?" ":n[o][0];if("+"!==h&&"-"!==h&&" "!==h&&"\\"!==h)break;s.lines.push(n[o]),s.linedelimiters.push(r[o]||"\n"),"+"===h?a++:"-"===h?l++:" "===h&&(a++,l++)}if(a||1!==s.newLines||(s.newLines=0),l||1!==s.oldLines||(s.oldLines=0),e.strict){if(a!==s.newLines)throw new Error("Added line count did not match for hunk at line "+(t+1));if(l!==s.oldLines)throw new Error("Removed line count did not match for hunk at line "+(t+1))}return s}for(;o<n.length;)s();return i}function _(t,e,n){var r=!0,i=!1,o=!1,s=1;return function a(){if(r&&!o){if(i?s++:r=!1,t+s<=n)return s;o=!0}if(!i)return o||(r=!0),e<=t-s?-s++:(i=!0,a())}}function y(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e&&(e=k(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var r,i,o=t.split(/\r\n|[\n\v\f\r\x85]/),s=t.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=e.hunks,l=n.compareLine||function(t,e,n,r){return e===r},h=0,c=n.fuzzFactor||0,f=0,u=0;function d(t,e){for(var n=0;n<t.lines.length;n++){var r=t.lines[n],i=r.length>0?r[0]:" ",s=r.length>0?r.substr(1):r;if(" "===i||"-"===i){if(!l(e+1,o[e],i,s)&&++h>c)return!1;e++}}return!0}for(var g=0;g<a.length;g++){for(var p=a[g],b=0,m=u+p.oldStart-1,v=_(m,f,o.length-p.oldLines);void 0!==b;b=v())if(d(p,m+b)){p.offset=u+=b;break}if(void 0===b)return!1;f=p.offset+p.oldStart+p.oldLines}for(var w=0,y=0;y<a.length;y++){var x=a[y],I=x.oldStart+x.offset+w-1;w+=x.newLines-x.oldLines;for(var P=0;P<x.lines.length;P++){var M=x.lines[P],S=M.length>0?M[0]:" ",C=M.length>0?M.substr(1):M,L=x.linedelimiters[P];if(" "===S)I++;else if("-"===S)o.splice(I,1),s.splice(I,1);else if("+"===S)o.splice(I,0,C),s.splice(I,0,L),I++;else if("\\"===S){var O=x.lines[P-1]?x.lines[P-1][0]:null;"+"===O?r=!0:"-"===O&&(i=!0)}}}if(r)for(;!o[o.length-1];)o.pop(),s.pop();else i&&(o.push(""),s.push("\n"));for(var Q=0;Q<o.length-1;Q++)o[Q]=o[Q]+s[Q];return o.join("")}function x(t,e,n,r,i,o,s){s||(s={}),void 0===s.context&&(s.context=4);var a=c(n,r,s);function l(t){return t.map(function(t){return" "+t})}a.push({value:"",lines:[]});for(var h=[],f=0,u=0,d=[],p=1,b=1,m=function(t){var e=a[t],i=e.lines||e.value.replace(/\n$/,"").split("\n");if(e.lines=i,e.added||e.removed){var o;if(!f){var c=a[t-1];f=p,u=b,c&&(d=s.context>0?l(c.lines.slice(-s.context)):[],f-=d.length,u-=d.length)}(o=d).push.apply(o,g(i.map(function(t){return(e.added?"+":"-")+t}))),e.added?b+=i.length:p+=i.length}else{if(f)if(i.length<=2*s.context&&t<a.length-2){var m;(m=d).push.apply(m,g(l(i)))}else{var v,w=Math.min(i.length,s.context);(v=d).push.apply(v,g(l(i.slice(0,w))));var k={oldStart:f,oldLines:p-f+w,newStart:u,newLines:b-u+w,lines:d};if(t>=a.length-2&&i.length<=s.context){var _=/\n$/.test(n),y=/\n$/.test(r),x=0==i.length&&d.length>k.oldLines;!_&&x&&n.length>0&&d.splice(k.oldLines,0,"\\ No newline at end of file"),(_||x)&&y||d.push("\\ No newline at end of file")}h.push(k),f=0,u=0,d=[]}p+=i.length,b+=i.length}},v=0;v<a.length;v++)m(v);return{oldFileName:t,newFileName:e,oldHeader:i,newHeader:o,hunks:h}}function I(t,e,n,r,i,o,s){return function(t){var e=[];t.oldFileName==t.newFileName&&e.push("Index: "+t.oldFileName),e.push("==================================================================="),e.push("--- "+t.oldFileName+(void 0===t.oldHeader?"":"\t"+t.oldHeader)),e.push("+++ "+t.newFileName+(void 0===t.newHeader?"":"\t"+t.newHeader));for(var n=0;n<t.hunks.length;n++){var r=t.hunks[n];0===r.oldLines&&(r.oldStart-=1),0===r.newLines&&(r.newStart-=1),e.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),e.push.apply(e,r.lines)}return e.join("\n")+"\n"}(x(t,e,n,r,i,o,s))}function P(t,e){if(e.length>t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function M(t){var e=R(t.lines),n=e.oldLines,r=e.newLines;void 0!==n?t.oldLines=n:delete t.oldLines,void 0!==r?t.newLines=r:delete t.newLines}function S(t,e){if("string"==typeof t){if(/^@@/m.test(t)||/^Index:/m.test(t))return k(t)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return x(void 0,void 0,e,t)}return t}function C(t){return t.newFileName&&t.newFileName!==t.oldFileName}function L(t,e,n){return e===n?e:(t.conflict=!0,{mine:e,theirs:n})}function O(t,e){return t.oldStart<e.oldStart&&t.oldStart+t.oldLines<e.oldStart}function Q(t,e){return{oldStart:t.oldStart,oldLines:t.oldLines,newStart:t.newStart+e,newLines:t.newLines,lines:t.lines}}function H(t,e,n,r,i){var o={offset:e,lines:n,index:0},s={offset:r,lines:i,index:0};for(D(t,o,s),D(t,s,o);o.index<o.lines.length&&s.index<s.lines.length;){var a=o.lines[o.index],l=s.lines[s.index];if("-"!==a[0]&&"+"!==a[0]||"-"!==l[0]&&"+"!==l[0])if("+"===a[0]&&" "===l[0]){var h;(h=t.lines).push.apply(h,g(F(o)))}else if("+"===l[0]&&" "===a[0]){var c;(c=t.lines).push.apply(c,g(F(s)))}else"-"===a[0]&&" "===l[0]?E(t,o,s):"-"===l[0]&&" "===a[0]?E(t,s,o,!0):a===l?(t.lines.push(a),o.index++,s.index++):N(t,F(o),F(s));else A(t,o,s)}T(t,o),T(t,s),M(t)}function A(t,e,n){var r,i,o=F(e),s=F(n);if(j(o)&&j(s)){var a,l;if(P(o,s)&&G(n,o,o.length-s.length))return void(a=t.lines).push.apply(a,g(o));if(P(s,o)&&G(e,s,s.length-o.length))return void(l=t.lines).push.apply(l,g(s))}else if((r=o).length===(i=s).length&&P(r,i)){var h;return void(h=t.lines).push.apply(h,g(o))}N(t,o,s)}function E(t,e,n,r){var i,o=F(e),s=function(t,e){for(var n=[],r=[],i=0,o=!1,s=!1;i<e.length&&t.index<t.lines.length;){var a=t.lines[t.index],l=e[i];if("+"===l[0])break;if(o=o||" "!==a[0],r.push(l),i++,"+"===a[0])for(s=!0;"+"===a[0];)n.push(a),a=t.lines[++t.index];l.substr(1)===a.substr(1)?(n.push(a),t.index++):s=!0}if("+"===(e[i]||"")[0]&&o&&(s=!0),s)return n;for(;i<e.length;)r.push(e[i++]);return{merged:r,changes:n}}(n,o);s.merged?(i=t.lines).push.apply(i,g(s.merged)):N(t,r?s:o,r?o:s)}function N(t,e,n){t.conflict=!0,t.lines.push({conflict:!0,mine:e,theirs:n})}function D(t,e,n){for(;e.offset<n.offset&&e.index<e.lines.length;){var r=e.lines[e.index++];t.lines.push(r),e.offset++}}function T(t,e){for(;e.index<e.lines.length;){var n=e.lines[e.index++];t.lines.push(n)}}function F(t){for(var e=[],n=t.lines[t.index][0];t.index<t.lines.length;){var r=t.lines[t.index];if("-"===n&&"+"===r[0]&&(n="+"),n!==r[0])break;e.push(r),t.index++}return e}function j(t){return t.reduce(function(t,e){return t&&"-"===e[0]},!0)}function G(t,e,n){for(var r=0;r<n;r++){var i=e[e.length-n+r].substr(1);if(t.lines[t.index+r]!==" "+i)return!1}return t.index+=n,!0}function R(t){var e=0,n=0;return t.forEach(function(t){if("string"!=typeof t){var r=R(t.mine),i=R(t.theirs);void 0!==e&&(r.oldLines===i.oldLines?e+=r.oldLines:e=void 0),void 0!==n&&(r.newLines===i.newLines?n+=r.newLines:n=void 0)}else void 0===n||"+"!==t[0]&&" "!==t[0]||n++,void 0===e||"-"!==t[0]&&" "!==t[0]||e++}),{oldLines:e,newLines:n}}w.tokenize=function(t){return t.slice()},w.join=w.removeEmpty=function(t){return t},t.Diff=e,t.applyPatch=y,t.applyPatches=function(t,e){"string"==typeof t&&(t=k(t));var n=0;!function r(){var i=t[n++];if(!i)return e.complete();e.loadFile(i,function(t,n){if(t)return e.complete(t);var o=y(n,i,e);e.patched(i,o,function(t){if(t)return e.complete(t);r()})})}()},t.canonicalize=v,t.convertChangesToDMP=function(t){for(var e,n=[],r=0;r<t.length;r++)n.push([(e=t[r]).added?1:e.removed?-1:0,e.value]);return n},t.convertChangesToXML=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];r.added?e.push("<ins>"):r.removed&&e.push("<del>"),e.push(r.value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")),r.added?e.push("</ins>"):r.removed&&e.push("</del>")}return e.join("")},t.createPatch=function(t,e,n,r,i,o){return I(t,t,e,n,r,i,o)},t.createTwoFilesPatch=I,t.diffArrays=function(t,e,n){return w.diff(t,e,n)},t.diffChars=function(t,e,n){return i.diff(t,e,n)},t.diffCss=function(t,e,n){return u.diff(t,e,n)},t.diffJson=function(t,e,n){return m.diff(t,e,n)},t.diffLines=c,t.diffSentences=function(t,e,n){return f.diff(t,e,n)},t.diffTrimmedLines=function(t,e,n){var r=o(n,{ignoreWhitespace:!0});return h.diff(t,e,r)},t.diffWords=function(t,e,n){return n=o(n,{ignoreWhitespace:!0}),l.diff(t,e,n)},t.diffWordsWithSpace=function(t,e,n){return l.diff(t,e,n)},t.merge=function(t,e,n){t=S(t,n),e=S(e,n);var r={};(t.index||e.index)&&(r.index=t.index||e.index),(t.newFileName||e.newFileName)&&(C(t)?C(e)?(r.oldFileName=L(r,t.oldFileName,e.oldFileName),r.newFileName=L(r,t.newFileName,e.newFileName),r.oldHeader=L(r,t.oldHeader,e.oldHeader),r.newHeader=L(r,t.newHeader,e.newHeader)):(r.oldFileName=t.oldFileName,r.newFileName=t.newFileName,r.oldHeader=t.oldHeader,r.newHeader=t.newHeader):(r.oldFileName=e.oldFileName||t.oldFileName,r.newFileName=e.newFileName||t.newFileName,r.oldHeader=e.oldHeader||t.oldHeader,r.newHeader=e.newHeader||t.newHeader)),r.hunks=[];for(var i=0,o=0,s=0,a=0;i<t.hunks.length||o<e.hunks.length;){var l=t.hunks[i]||{oldStart:1/0},h=e.hunks[o]||{oldStart:1/0};if(O(l,h))r.hunks.push(Q(l,s)),i++,a+=l.newLines-l.oldLines;else if(O(h,l))r.hunks.push(Q(h,a)),o++,s+=h.newLines-h.oldLines;else{var c={oldStart:Math.min(l.oldStart,h.oldStart),oldLines:0,newStart:Math.min(l.newStart+s,h.oldStart+a),newLines:0,lines:[]};H(c,l.oldStart,l.lines,h.oldStart,h.lines),o++,i++,r.hunks.push(c)}}return r},t.parsePatch=k,t.structuredPatch=x,Object.defineProperty(t,"__esModule",{value:!0})}(e)}}]);