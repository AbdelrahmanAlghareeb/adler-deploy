(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{PkoY:function(t,e,n){"use strict";n.r(e),n.d(e,"TestsModule",function(){return vt});var i=n("ofXK"),s=n("tyNb");class o{}var c=n("Qd2v"),r=n("fXoL"),a=n("kuNW"),b=n("JdUQ"),l=n("WR8Z"),u=n("Ji6n"),d=n("3Pt+"),g=n("LuMj"),p=n("zFJ7");function f(t,e){if(1&t&&(r.Qb(0,"p",20),r.Gc(1),r.Pb()),2&t){const t=r.bc().$implicit;r.yb(1),r.Ic(" ",t.text," ")}}function m(t,e){1&t&&(r.Qb(0,"audio",22),r.Lb(1,"source",23),r.Gc(2," Your browser does not support the audio element. "),r.Pb())}function h(t,e){if(1&t&&(r.Qb(0,"div"),r.Ec(1,m,3,0,"audio",21),r.Pb()),2&t){const t=r.bc().$implicit;r.yb(1),r.ic("ngIf",t.audioPath)}}function Q(t,e){1&t&&(r.Ob(0),r.Qb(1,"span",31),r.Gc(2,"Corrected"),r.Pb(),r.Nb())}function P(t,e){1&t&&(r.Qb(0,"span",32),r.Gc(1,"Pending"),r.Pb())}function y(t,e){1&t&&(r.Ob(0),r.Qb(1,"span",31),r.Gc(2,"Right answer"),r.Pb(),r.Nb())}function v(t,e){1&t&&(r.Qb(0,"span",33),r.Gc(1,"Wrong answer"),r.Pb())}function I(t,e){if(1&t&&(r.Qb(0,"span",26),r.Gc(1," - Student answer: "),r.Ec(2,y,3,0,"ng-container",27),r.Ec(3,v,2,0,"ng-template",null,28,r.Fc),r.Pb()),2&t){const t=r.bc(2).$implicit,e=r.bc(3);var n;r.yb(2),r.ic("ngIf",null==(n=e.getQuestionData(t.id))?null:n.rightAnswer)("ngIfElse",e.wrong)}}function x(t,e){if(1&t&&(r.Qb(0,"div"),r.Lb(1,"p-checkbox",34,35),r.Pb()),2&t){const t=e.$implicit,n=r.bc(2).$implicit,i=r.bc(3);r.yb(1),r.jc("name",t.name),r.jc("value",t.id),r.jc("label",t.name),r.ic("ngModel",i.checkSelectedValues(n.id,t.id))("binary",!0)}}function w(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",24),r.Qb(2,"span",25),r.Gc(3),r.Pb(),r.Gc(4," Choose The most right answers .. "),r.Qb(5,"span",26),r.Gc(6),r.Pb(),r.Qb(7,"span",26),r.Gc(8," - System auto Correction: "),r.Ec(9,Q,3,0,"ng-container",27),r.Ec(10,P,2,0,"ng-template",null,28,r.Fc),r.Pb(),r.Ec(12,I,5,2,"span",29),r.Pb(),r.Qb(13,"p",30),r.Gc(14),r.Pb(),r.Ec(15,x,3,5,"div",19),r.Pb()),2&t){const t=r.vc(11),e=r.bc(),s=e.index,o=e.$implicit,c=r.bc(3);var n,i;r.yb(3),r.Hc(s+1),r.yb(3),r.Ic(" Question points: ",o.points,""),r.yb(3),r.ic("ngIf",null==(n=c.getQuestionData(o.id))?null:n.corrected)("ngIfElse",t),r.yb(3),r.ic("ngIf",null==(i=c.getQuestionData(o.id))?null:i.corrected),r.yb(2),r.Ic(" ",o.text," "),r.yb(1),r.ic("ngForOf",o.choices)}}function C(t,e){1&t&&(r.Ob(0),r.Qb(1,"span",31),r.Gc(2,"Corrected"),r.Pb(),r.Nb())}function S(t,e){1&t&&(r.Qb(0,"span",32),r.Gc(1,"Pending"),r.Pb())}function T(t,e){1&t&&(r.Ob(0),r.Qb(1,"span",31),r.Gc(2,"Right answer"),r.Pb(),r.Nb())}function G(t,e){1&t&&(r.Qb(0,"span",33),r.Gc(1,"Wrong answer"),r.Pb())}function M(t,e){if(1&t&&(r.Qb(0,"span",26),r.Gc(1," - Student answer: "),r.Ec(2,T,3,0,"ng-container",27),r.Ec(3,G,2,0,"ng-template",null,28,r.Fc),r.Pb()),2&t){const t=r.bc(2).$implicit,e=r.bc(3);var n;r.yb(2),r.ic("ngIf",null==(n=e.getQuestionData(t.id))?null:n.rightAnswer)("ngIfElse",e.wrong)}}function O(t,e){if(1&t&&(r.Qb(0,"div"),r.Lb(1,"p-radioButton",36),r.Pb()),2&t){const t=e.$implicit,i=r.bc(2).$implicit,s=r.bc(3);var n;r.yb(1),r.ic("ngModel",null==(n=s.getQuestionData(i.id))||null==n.choices[0]?null:n.choices[0].choiceSubmissionId)("binary",!0)("value",t.id)("label",t.name)}}function E(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",24),r.Qb(2,"span",25),r.Gc(3),r.Pb(),r.Gc(4," Choose The right answer .. "),r.Qb(5,"span",26),r.Gc(6),r.Pb(),r.Qb(7,"span",26),r.Gc(8," - System auto Correction: "),r.Ec(9,C,3,0,"ng-container",27),r.Ec(10,S,2,0,"ng-template",null,28,r.Fc),r.Pb(),r.Ec(12,M,5,2,"span",29),r.Pb(),r.Qb(13,"p",30),r.Gc(14),r.Pb(),r.Ec(15,O,2,4,"div",19),r.Pb()),2&t){const t=r.vc(11),e=r.bc(),s=e.index,o=e.$implicit,c=r.bc(3);var n,i;r.yb(3),r.Hc(s+1),r.yb(3),r.Ic("Points: ",o.points,""),r.yb(3),r.ic("ngIf",null==(n=c.getQuestionData(o.id))?null:n.corrected)("ngIfElse",t),r.yb(3),r.ic("ngIf",null==(i=c.getQuestionData(o.id))?null:i.corrected),r.yb(2),r.Ic(" ",o.text," "),r.yb(1),r.ic("ngForOf",o.choices)}}function k(t,e){1&t&&(r.Ob(0),r.Qb(1,"span",31),r.Gc(2,"Corrected"),r.Pb(),r.Nb())}function q(t,e){1&t&&(r.Qb(0,"span",32),r.Gc(1,"Pending"),r.Pb())}function _(t,e){1&t&&(r.Ob(0),r.Qb(1,"span",31),r.Gc(2,"Right answer"),r.Pb(),r.Nb())}function $(t,e){1&t&&(r.Qb(0,"span",33),r.Gc(1,"Wrong answer"),r.Pb())}function L(t,e){if(1&t&&(r.Qb(0,"span",26),r.Gc(1," - Student answer: "),r.Ec(2,_,3,0,"ng-container",27),r.Ec(3,$,2,0,"ng-template",null,28,r.Fc),r.Pb()),2&t){const t=r.bc(2).$implicit,e=r.bc(3);var n;r.yb(2),r.ic("ngIf",null==(n=e.getQuestionData(t.id))?null:n.rightAnswer)("ngIfElse",e.wrong)}}function A(t,e){if(1&t&&(r.Qb(0,"div"),r.Lb(1,"p-radioButton",37),r.Pb()),2&t){const t=e.$implicit,i=r.bc(2).$implicit,s=r.bc(3);var n;r.yb(1),r.ic("ngModel",null==(n=s.getQuestionData(i.id))?null:n.trueOrFalseSubmission)("value",t.value)("label",t.name)}}function F(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",24),r.Qb(2,"span",25),r.Gc(3),r.Pb(),r.Gc(4," Choose true or false .. "),r.Qb(5,"span",26),r.Gc(6),r.Pb(),r.Qb(7,"span",26),r.Gc(8," - System auto Correction: "),r.Ec(9,k,3,0,"ng-container",27),r.Ec(10,q,2,0,"ng-template",null,28,r.Fc),r.Pb(),r.Ec(12,L,5,2,"span",29),r.Pb(),r.Qb(13,"p",30),r.Gc(14),r.Pb(),r.Qb(15,"div"),r.Ec(16,A,2,3,"div",19),r.Pb(),r.Pb()),2&t){const t=r.vc(11),e=r.bc(),i=e.index,s=e.$implicit,o=r.bc(3);var n;r.yb(3),r.Hc(i+1),r.yb(3),r.Ic("Points: ",s.points,""),r.yb(3),r.ic("ngIf",null==(n=o.getQuestionData(s.id))?null:n.corrected)("ngIfElse",t),r.yb(3),r.ic("ngIf",o.getQuestionData(s.id).corrected),r.yb(2),r.Ic(" ",s.text," "),r.yb(2),r.ic("ngForOf",o.trueOrFalse)}}function D(t,e){if(1&t){const t=r.Rb();r.Qb(0,"input",40,35),r.Xb("ngModelChange",function(e){r.xc(t);const n=r.bc(3).$implicit;return r.bc(3).getQuestionData(n.id).answerText=e}),r.Pb()}if(2&t){const t=r.bc(3),e=t.index,n=t.$implicit,i=r.bc().index,s=r.bc(2);r.ic("name","missing-"+i+"-"+e)("ngModel",s.getQuestionData(n.id).answerText)("id","missing-"+i+"-"+e)}}function R(t,e){if(1&t&&(r.Ob(0),r.Gc(1),r.Ec(2,D,2,3,"input",39),r.Nb()),2&t){const t=e.$implicit,n=e.index,i=r.bc(2).$implicit,s=r.bc(3);r.yb(1),r.Ic(" ",t," "),r.yb(1),r.ic("ngIf",n!=s.returnQuestion(i.text).result.length-1)}}function z(t,e){if(1&t){const t=r.Rb();r.Qb(0,"input",52,35),r.Xb("keyup",function(){r.xc(t);const e=r.vc(1),n=r.bc().index,i=r.bc(3).$implicit;return r.bc(3).getWritingAnswer(i.id,e.value,n)}),r.Pb()}if(2&t){const t=r.bc(4),e=t.index,n=t.$implicit,i=r.bc().index,s=r.bc(2);r.ic("name","missing-"+i+"-"+e)("ngModel",s.getQuestionData(n.id).answerText)("id","fix-missing-"+i+"-"+e)}}function N(t,e){if(1&t&&(r.Ob(0),r.Gc(1),r.Ec(2,z,2,3,"input",51),r.Nb()),2&t){const t=e.$implicit,n=e.index,i=r.bc(3).$implicit,s=r.bc(3);r.yb(1),r.Ic(" ",t," "),r.yb(1),r.ic("ngIf",n!=s.returnQuestion(i.text).result.length-1)}}function H(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",41),r.Qb(1,"div",42),r.Qb(2,"div",43),r.Qb(3,"label",44),r.Gc(4,"Correction area"),r.Pb(),r.Lb(5,"br"),r.Ec(6,N,3,2,"ng-container",19),r.Pb(),r.Pb(),r.Qb(7,"div",42),r.Qb(8,"div",45),r.Qb(9,"label",46),r.Gc(10,"Points"),r.Pb(),r.Lb(11,"br"),r.Qb(12,"input",47,48),r.Xb("keyup",function(){r.xc(t);const e=r.vc(13),n=r.bc(2).$implicit;return r.bc(3).getQuestionPoints(n.id,e.value,n.points)}),r.Pb(),r.Pb(),r.Qb(14,"div",49),r.Qb(15,"p-checkbox",50),r.Xb("onChange",function(e){r.xc(t);const n=r.bc(2).$implicit;return r.bc(3).getRightanswerStatus(e,n.id)}),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.bc(2).$implicit,e=r.bc(3);r.yb(6),r.ic("ngForOf",e.returnQuestion(t.text).result)}}function X(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",24),r.Qb(2,"span",25),r.Gc(3),r.Pb(),r.Gc(4," Complete the missing words .. "),r.Qb(5,"span",26),r.Gc(6),r.Pb(),r.Pb(),r.Qb(7,"p",30),r.Ec(8,R,3,2,"ng-container",19),r.Pb(),r.Ec(9,H,16,1,"div",38),r.Pb()),2&t){const t=r.bc(),e=t.index,n=t.$implicit,i=r.bc(3);r.yb(3),r.Hc(e+1),r.yb(3),r.Ic("Points: ",n.points,""),r.yb(2),r.ic("ngForOf",i.returnQuestion(n.text).result),r.yb(1),r.ic("ngIf",2==i.testInstance.status||4==i.testInstance.status)}}function W(t,e){if(1&t&&(r.Qb(0,"div"),r.Qb(1,"h2",24),r.Qb(2,"span",25),r.Gc(3),r.Pb(),r.Gc(4),r.Qb(5,"span",26),r.Gc(6),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.bc(),e=t.index,n=t.$implicit;r.yb(3),r.Hc(e+1),r.yb(1),r.Ic(" ",n.text," "),r.yb(2),r.Ic("Points: ",n.points,"")}}function B(t,e){if(1&t&&(r.Qb(0,"div"),r.Ec(1,w,16,7,"div",17),r.Ec(2,E,16,7,"div",17),r.Ec(3,F,17,7,"div",17),r.Ec(4,X,10,4,"div",17),r.Ec(5,W,7,3,"div",17),r.Pb()),2&t){const t=e.$implicit;r.yb(1),r.ic("ngIf",0==t.singleQuestionType),r.yb(1),r.ic("ngIf",2==t.singleQuestionType),r.yb(1),r.ic("ngIf",1==t.singleQuestionType),r.yb(1),r.ic("ngIf",3==t.singleQuestionType),r.yb(1),r.ic("ngIf",4==t.singleQuestionType)}}function K(t,e){if(1&t){const t=r.Rb();r.Qb(0,"div",41),r.Qb(1,"div",42),r.Qb(2,"div",43),r.Qb(3,"label",44),r.Gc(4,"Correction area"),r.Pb(),r.Lb(5,"br"),r.Qb(6,"textarea",54,55),r.Xb("keyup",function(){r.xc(t);const e=r.vc(7),n=r.bc(2).$implicit;return r.bc(2).getWritingAnswer(n.singleQuestions[0].id,e.value)}),r.Pb(),r.Pb(),r.Pb(),r.Qb(8,"div",42),r.Qb(9,"div",45),r.Qb(10,"label",46),r.Gc(11,"Points"),r.Pb(),r.Lb(12,"br"),r.Qb(13,"input",56,48),r.Xb("keyup",function(){r.xc(t);const e=r.vc(14),n=r.bc(2).$implicit;return r.bc(2).getQuestionPoints(n.singleQuestions[0].id,e.value,n.singleQuestions[0].points)}),r.Pb(),r.Pb(),r.Qb(15,"div",49),r.Qb(16,"p-checkbox",50,57),r.Xb("onChange",function(e){r.xc(t);const n=r.bc(2).$implicit;return r.bc(2).getRightanswerStatus(e,n.singleQuestions[0].id)}),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=r.bc(2).$implicit,e=r.bc(2);r.yb(6),r.ic("rows",3)("ngModel",e.getQuestionData(t.singleQuestions[0].id).answerText)("cols",34),r.yb(7),r.ic("max",t.singleQuestions[0].points)}}function j(t,e){if(1&t&&(r.Qb(0,"div"),r.Lb(1,"textarea",53,35),r.Ec(3,K,18,4,"div",38),r.Pb()),2&t){const t=r.bc().$implicit,e=r.bc(2);r.yb(1),r.ic("rows",3)("ngModel",e.getQuestionData(t.singleQuestions[0].id).answerText)("cols",34),r.yb(2),r.ic("ngIf",2==e.testInstance.status||4==e.testInstance.status)}}function J(t,e){if(1&t&&(r.Qb(0,"div",14),r.Qb(1,"div",15),r.Gc(2),r.Pb(),r.Ec(3,f,2,1,"p",16),r.Ec(4,h,2,1,"div",17),r.Qb(5,"div",18),r.Ec(6,B,6,5,"div",19),r.Pb(),r.Ec(7,j,4,4,"div",17),r.Pb()),2&t){const t=e.$implicit,n=e.index;r.yb(2),r.Jc(" ",n+1,". ",t.header," "),r.yb(1),r.ic("ngIf",t.text),r.yb(1),r.ic("ngIf",t.audioPath),r.yb(2),r.ic("ngForOf",t.singleQuestions),r.yb(1),r.ic("ngIf",2==t.questionTypeId)}}function V(t,e){if(1&t){const t=r.Rb();r.Qb(0,"button",58),r.Xb("click",function(){return r.xc(t),r.bc(2).onSubmit()}),r.Gc(1," Submit "),r.Lb(2,"i",59),r.Pb()}}function Y(t,e){if(1&t&&(r.Qb(0,"div",1),r.Qb(1,"div",2),r.Qb(2,"h1",3),r.Gc(3),r.Pb(),r.Pb(),r.Qb(4,"div",4),r.Qb(5,"div",5),r.Qb(6,"div",6),r.Qb(7,"div",7),r.Qb(8,"div",8),r.Gc(9),r.Qb(10,"span",9),r.Gc(11),r.cc(12,"date"),r.Pb(),r.Pb(),r.Pb(),r.Qb(13,"div",10),r.Qb(14,"div",11),r.Ec(15,J,8,6,"div",12),r.Pb(),r.Ec(16,V,3,0,"button",13),r.Pb(),r.Pb(),r.Pb(),r.Pb(),r.Pb()),2&t){const t=r.bc();r.yb(3),r.Hc(t.testInstance.test.name),r.yb(6),r.Ic(" ",t.testInstance.lessonInstance," "),r.yb(2),r.Hc(r.dc(12,5,t.testInstance.createdDate)),r.yb(4),r.ic("ngForOf",t.testInstance.test.questions),r.yb(1),r.ic("ngIf","correct"==t.status)}}let U=(()=>{class t{constructor(t,e,n,i,s){this.studentTestsService=t,this.activatedRoute=e,this.alertService=n,this.teacherService=i,this.router=s,this.singleQuestionSubmission=[],this.studentAnswers=[],this.allTestQuestions=[],this.selectedQuetionType=new Object,this.testInstanceSubmition=new Object,this.answers=[],this.editMode=!1,this.trueOrFalse=[],this.singleAnswers=[],this.trueFalse=[],this.writingQuestion=[],this.completeAnswer=[],this.notSubmitted=!0,this.trueOrFalse=[{name:"true",value:!0},{name:"false",value:!1}]}ngOnInit(){this.getTestInstanceId(),this.getTestInstancesById(),this.getTestInstanceByTeacher()}getTestInstanceId(){this.testInstanceId=this.activatedRoute.snapshot.params.id,this.status=this.activatedRoute.snapshot.params.status}getTestInstancesById(){this.studentTestsService.GetTestInstanceById(this.testInstanceId).subscribe(t=>{this.testInstance=t.data;for(let e of this.testInstance.test.questions)for(let t of e.singleQuestions)this.allTestQuestions.push(t);for(let e of this.allTestQuestions)if(e.singleQuestionType==c.b.Writing||e.singleQuestionType==c.b.Complete){let t=new o;t.id=e.id,t.rightAnswer=!1,t.correctionText=e.text,this.singleQuestionSubmission.push(t)}})}checkSelectedValues(t,e){let n;return this.studentAnswers.find(e=>e.singleQuestionId===t)&&(n=this.studentAnswers.find(e=>e.singleQuestionId===t).choices.map(t=>t.choiceSubmissionId).indexOf(e)>-1),n}getTestInstanceByTeacher(){this.teacherService.getSingleQuestionsByInstanceId(this.testInstanceId).subscribe(t=>{this.studentAnswers=t.data})}getQuestionData(t){return this.studentAnswers.find(e=>e.singleQuestionId===t)?this.studentAnswers.find(e=>e.singleQuestionId===t):{answerText:"",choices:[]}}getWritingAnswer(t,e,n){if(this.allTestQuestions.find(e=>e.id===t).singleQuestionType==c.b.Writing)this.singleQuestionSubmission.find(e=>e.id===t).correctionText=e;else{let i=this.allTestQuestions.find(e=>e.id===t).text,s=this.returnQuestion(i);for(let o=0;o<s.missingWords;o++)s.result[n]+="["+e+"]",this.singleQuestionSubmission.find(e=>e.id===t).correctionText=s.result[o];this.singleQuestionSubmission.find(e=>e.id===t).correctionText+=s.result[s.result.length-1]}}getQuestionPoints(t,e,n){parseInt(e)<=n?this.singleQuestionSubmission.find(e=>e.id===t).points=parseInt(e):this.alertService.newAlert("error","Points can't be more than "+n)}getRightanswerStatus(t,e){1==t.checked&&(this.singleQuestionSubmission.find(t=>t.id===e).rightAnswer=!0)}onSubmit(){let t={singleQuestionSubmission:this.singleQuestionSubmission};for(let e of t.singleQuestionSubmission)e.id=this.studentAnswers.find(t=>t.singleQuestionId===e.id).id;this.teacherService.putTestCorrection(t).subscribe(t=>{this.alertService.newAlert("success","Submitted Successfully"),this.router.navigate(["teacher/tests"])})}returnQuestion(t){let e=(t=t.replace(/\[(\w+)/g,"!******!").replace(/]+/g,"")).split("!******!");return{missingWords:e.length-1,result:e}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(a.a),r.Kb(s.a),r.Kb(b.a),r.Kb(l.a),r.Kb(s.c))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-correct-test"]],decls:1,vars:1,consts:[["class","Progress container",4,"ngIf"],[1,"Progress","container"],[1,"page-title"],[1,"text-primary","font-weight-bold"],[1,"lesson-Q"],[1,"card"],[1,"card-body","p-0"],[1,"Q-title","pt-3","text-white","position-relative","rounded-top"],[1,"lesson-address","my-auto","position-absolute","ml-4","font-weight-bold"],[1,"date","ml-3"],[1,"p-3","question","m-0"],[1,"questions-in-quiz"],["class","single-main-question",4,"ngFor","ngForOf"],["class","d-inline-block mr-2 btn adler-btn mt-4",3,"click",4,"ngIf"],[1,"single-main-question"],[1,"question-header"],["class","question-pargraph",4,"ngIf"],[4,"ngIf"],[1,"single-choice-answers"],[4,"ngFor","ngForOf"],[1,"question-pargraph"],["controls","","controlsList","nodownload",4,"ngIf"],["controls","","controlsList","nodownload"],["src","question.audioPath","type","audio/mpeg"],[1,"question-head"],[1,"single-question-count"],[1,"question-points","ml-3"],[4,"ngIf","ngIfElse"],["notCorrected",""],["class","question-points ml-3",4,"ngIf"],[1,"single-question-text-wrapper"],[1,"corrected"],[1,"pending"],[1,"text-danger"],["disabled","disabled",1,"align-middle","d-block","text-secondary",3,"ngModel","binary","name","value","label"],["input",""],["disabled","disabled",1,"align-middle","text-secondary",3,"ngModel","binary","value","label"],["disabled","disabled",1,"align-middle","text-secondary",3,"ngModel","value","label"],["class","correction-area",4,"ngIf"],["disabled","disabled","type","text","class","missig-word-input",3,"name","ngModel","id","ngModelChange",4,"ngIf"],["disabled","disabled","type","text",1,"missig-word-input",3,"name","ngModel","id","ngModelChange"],[1,"correction-area"],[1,"row"],[1,"col-md-12"],[1,"correction-label","text-secondary","mt-3"],[1,"col-md-4"],[1,"text-secondary","mt-3"],["required","","type","text","name","question","id","writingQuestion","aria-describedby","question","placeholder","Points",1,"form-control","adler-form-control",2,"width","100%",3,"keyup"],["QuestionTextField",""],[1,"col-md-2"],["name","rightAnswer","value","true","label","Right Answer",1,"right-answer","align-middle","d-block","text-secondary",3,"onChange"],["type","text","class","missig-word-input",3,"name","ngModel","id","keyup",4,"ngIf"],["type","text",1,"missig-word-input",3,"name","ngModel","id","keyup"],["disabled","disabled","pInputTextarea","","autoResize","autoResize","placeholder","Your Answer..",1,"rounded","p-3","ml-1","col",3,"rows","ngModel","cols"],["pInputTextarea","","autoResize","autoResize","placeholder","Your Answer..",1,"rounded","p-3","ml-1","col",3,"rows","ngModel","cols","keyup"],["CorrectionInputTextArea",""],["required","","type","text","name","question","id","writingQuestion","aria-describedby","question","placeholder","Points",1,"form-control","adler-form-control",2,"width","100%",3,"max","keyup"],["checkBoxStatus",""],[1,"d-inline-block","mr-2","btn","adler-btn","mt-4",3,"click"],[1,"fas","fa-arrow-alt-right"]],template:function(t,e){1&t&&r.Ec(0,Y,17,7,"div",0),2&t&&r.ic("ngIf",e.testInstance)},directives:[i.l,i.k,u.a,d.o,d.r,g.a,d.b,p.a],pipes:[i.e],styles:[".Q-title[_ngcontent-%COMP%]{background-color:#2c3e90!important;height:58px}.date[_ngcontent-%COMP%]{opacity:.7;font-size:12px}.Ends-after-address[_ngcontent-%COMP%]{right:5px}.question[_ngcontent-%COMP%]{background-color:#f4f8fc}.Q-head[_ngcontent-%COMP%]{font-family:Montserrat;font-size:1rem;font-weight:700;text-align:left}.question-points[_ngcontent-%COMP%]{color:#7a7a7a;line-height:4.3;opacity:.7}.Answer-sec[_ngcontent-%COMP%]{border-radius:16px;font-family:Montserrat;font-size:14px}.answerArea[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 1px 4px 0 rgba(0,0,0,.16);border:1px solid var(--dark-blue-grey-16);background-color:#fff}.lesson-Q[_ngcontent-%COMP%]{margin-bottom:30px;margin-top:20px}.questions-in-quiz[_ngcontent-%COMP%]{padding-top:1rem;width:100%}.single-main-question[_ngcontent-%COMP%]{border:1px solid #ddd;padding:1.5rem 1rem 1rem;margin-bottom:1.2rem;box-shadow:0 0 5px #ddd;border-radius:8px}.single-main-question[_ngcontent-%COMP%]   .question-header[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#111;margin-bottom:.5rem}.single-main-question[_ngcontent-%COMP%]   .question-pargraph[_ngcontent-%COMP%]{font-weight:1 rem;font-weight:500}.single-main-question[_ngcontent-%COMP%]   .question-head[_ngcontent-%COMP%]{font-family:Montserrat;font-size:1rem;font-weight:700;text-align:left;margin-top:1rem}.single-main-question[_ngcontent-%COMP%]   .question-points[_ngcontent-%COMP%]{font-size:.6rem;color:#999}.single-main-question[_ngcontent-%COMP%]   .single-question-count[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:100%;width:25px;height:25px;text-align:center;display:inline-block;line-height:1.5}.single-main-question[_ngcontent-%COMP%]   .single-question-text-wrapper[_ngcontent-%COMP%]{margin-top:.6rem}.single-main-question[_ngcontent-%COMP%]   .missig-word-input[_ngcontent-%COMP%]{border:none;border-bottom:1px solid #ddd;outline:none;width:110px;margin-left:5px;margin-right:5px}.corrected[_ngcontent-%COMP%]{color:#27ae60}.pending[_ngcontent-%COMP%]{color:#e67e22}.correction-area[_ngcontent-%COMP%]{margin-top:20px;background-color:#fff;border-radius:8px;padding:10px;box-shadow:0 0 5px #ddd}.correction-area[_ngcontent-%COMP%]   .correction-label[_ngcontent-%COMP%]{position:absolute;top:-41px;font-size:14px;background-color:#2c3e90;color:#fff!important;padding:2px 10px;border-radius:8px}.correction-area[_ngcontent-%COMP%]   .right-answer[_ngcontent-%COMP%]{margin-top:43px}"]}),t})();var Z=n("FqdU"),tt=n("izWX"),et=n("7o2P"),nt=n("dJ3e"),it=n("arFO"),st=n("rEr+"),ot=n("7zfz"),ct=n("xlun");function rt(t,e){1&t&&(r.Qb(0,"tr"),r.Qb(1,"th",13),r.Gc(2," Student Name "),r.Lb(3,"p-sortIcon",14),r.Pb(),r.Qb(4,"th",15),r.Gc(5," Test Name "),r.Lb(6,"p-sortIcon",16),r.Pb(),r.Qb(7,"th",17),r.Gc(8," Group Serial "),r.Lb(9,"p-sortIcon",18),r.Pb(),r.Qb(10,"th",19),r.Gc(11," Submission Date "),r.Lb(12,"p-sortIcon",20),r.Pb(),r.Qb(13,"th",21),r.Gc(14," Status "),r.Lb(15,"p-sortIcon",22),r.Pb(),r.Qb(16,"th",21),r.Gc(17," Points "),r.Lb(18,"p-sortIcon",23),r.Pb(),r.Qb(19,"th"),r.Gc(20,"Action"),r.Pb(),r.Pb())}const at=function(t){return["/teacher/tests/correct-test/",t,"correct"]};function bt(t,e){if(1&t&&(r.Qb(0,"a",28),r.Lb(1,"span",29),r.Pb()),2&t){const t=r.bc().$implicit;r.ic("routerLink",r.mc(1,at,t.id))}}function lt(t,e){1&t&&r.Lb(0,"span",30)}const ut=function(t){return["/teacher/tests/correct-test/",t,"view"]};function dt(t,e){if(1&t&&(r.Qb(0,"a",31),r.Lb(1,"span",32),r.Pb()),2&t){const t=r.bc().$implicit;r.ic("routerLink",r.mc(1,ut,t.id))}}const gt=function(t,e,n,i,s){return{closed:t,pending:e,solved:n,corrected:i,missed:s}};function pt(t,e){if(1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.Gc(2),r.Pb(),r.Qb(3,"td"),r.Gc(4),r.Pb(),r.Qb(5,"td"),r.Gc(6),r.Pb(),r.Qb(7,"td"),r.Gc(8),r.cc(9,"date"),r.Pb(),r.Qb(10,"td"),r.Qb(11,"span",24),r.Gc(12),r.Pb(),r.Pb(),r.Qb(13,"td"),r.Gc(14),r.Pb(),r.Qb(15,"td"),r.Ec(16,bt,2,3,"a",25),r.Ec(17,lt,1,0,"span",26),r.Ec(18,dt,2,3,"a",27),r.Pb(),r.Pb()),2&t){const t=e.$implicit,n=r.bc();r.yb(2),r.Hc(t.studentName),r.yb(2),r.Hc(t.testName),r.yb(2),r.Hc(t.groupSerial),r.yb(2),r.Hc(r.dc(9,10,t.submissionDate)),r.yb(3),r.ic("ngClass",r.qc(12,gt,0==t.status,1==t.status,2==t.status,4==t.status,3==t.status)),r.yb(1),r.Hc(n.getTestStatus(t.status)),r.yb(2),r.Hc(4===t.status?t.points:"-"),r.yb(2),r.ic("ngIf",2==t.status&&1==t.manualCorrection),r.yb(1),r.ic("ngIf",0==t.manualCorrection&&t.status>1),r.yb(1),r.ic("ngIf",2!=t.status)}}function ft(t,e){1&t&&(r.Qb(0,"tr"),r.Qb(1,"td"),r.Gc(2,"No records found"),r.Pb(),r.Pb()),2&t&&(r.yb(1),r.zb("colspan",3))}const mt=function(){return["studentName","level","groupInstance","lesson","studentStatus"]},ht=[{path:"",component:(()=>{class t{constructor(t,e,n){this.teacherService=t,this.commonService=e,this.authSrvc=n,this.selectedItems=[],this.testsList=[],this.corrected=!1,this.groupInstancesDropDown=[],this.testTypes=[{label:"Test Type",value:null},{label:"Quiz",value:tt.a.Quiz},{label:"Sublevel Test",value:tt.a.SubLevel},{label:"Final Test",value:tt.a.Final},{label:"Placement Test",value:tt.a.Placement}],this.quizStatus=[{label:"Solved",value:Z.a.Solved},{label:"Corrected",value:Z.a.Corrected},{label:"Missed",value:Z.a.Missed},{label:"Pending",value:Z.a.Pending},{label:"Closed",value:Z.a.Closed}],this.groupInstancesDropDown.push({label:"Group Instance Id",value:null}),this.authSrvc.userData$.subscribe(t=>{this.getAllGroupInstances(t.id)}),this.selectedTestStatus=Z.a.Solved}ngOnInit(){this.getTestInstancesList(this.selectedTestStatus)}getAllGroupInstances(t){this.commonService.getAllGroupInstancesByTeacher(t).subscribe(t=>{for(let e of t.data)this.groupInstancesDropDown.push({label:e.serial||e.groupInstanceId,value:e.groupInstanceId})})}getTestInstancesList(t,e,n){this.teacherService.getTestInstancesList(t,e,n).subscribe(t=>{this.testsList=t.data})}filter(t){this.getTestInstancesList(this.selectedTestStatus,this.selectedGroupInstance,this.selectedTestType)}getTestStatus(t){switch(t){case Z.a.Pending:this.testStatus="Pending";break;case Z.a.Corrected:this.testStatus="Corrected";break;case Z.a.Solved:this.testStatus="Solved";break;case Z.a.Missed:this.testStatus="Missed";break;case Z.a.Closed:this.testStatus="Closed";break;default:this.testStatus="Pending"}return this.testStatus}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(l.a),r.Kb(et.a),r.Kb(nt.c))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-tests-list"]],decls:20,vars:15,consts:[[1,"container","mb-5"],[1,"d-flex","mb-5","mt-5","align-items-end"],[1,"d-flex","flex-column","mr-5"],["for",""],[3,"options","ngModel","ngModelChange","onChange"],[1,"d-flex","flex-column","mr-3"],["for","d-flex"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pSortableColumn","studentName"],["field","studentName"],["pSortableColumn","testName"],["field","testName"],["pSortableColumn","groupSerial"],["field","groupSerial"],["pSortableColumn","submissionDate"],["field","submissionDate"],["pSortableColumn","status"],["field","status"],["field","points"],[1,"status-box",3,"ngClass"],["title","Correct","class","mr-2 mr-3 text-success",3,"routerLink",4,"ngIf"],["pTooltip","Automatic correction is running...","class"," auto-correction-label p-button-icon pi pi-fast-forward font-weight-bold mr-2 ",4,"ngIf"],["title","View","class","mr-2 mr-3 text-success",3,"routerLink",4,"ngIf"],["title","Correct",1,"mr-2","mr-3","text-success",3,"routerLink"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],["pTooltip","Automatic correction is running...",1,"auto-correction-label","p-button-icon","pi","pi-fast-forward","font-weight-bold","mr-2"],["title","View",1,"mr-2","mr-3","text-success",3,"routerLink"],[1,"p-button-icon","pi","pi-eye","font-weight-bold"]],template:function(t,e){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"div",2),r.Qb(3,"label",3),r.Gc(4,"Test Status"),r.Pb(),r.Qb(5,"p-dropdown",4),r.Xb("ngModelChange",function(t){return e.selectedTestStatus=t})("onChange",function(t){return e.filter(t)}),r.Pb(),r.Pb(),r.Qb(6,"div",2),r.Qb(7,"label",3),r.Gc(8,"Test Type"),r.Pb(),r.Qb(9,"p-dropdown",4),r.Xb("ngModelChange",function(t){return e.selectedTestType=t})("onChange",function(t){return e.filter(t)}),r.Pb(),r.Pb(),r.Qb(10,"div",5),r.Qb(11,"label",6),r.Gc(12,"Group Instance Id"),r.Pb(),r.Qb(13,"p-dropdown",4),r.Xb("ngModelChange",function(t){return e.selectedGroupInstance=t})("onChange",function(t){return e.filter(t)}),r.Pb(),r.Pb(),r.Pb(),r.Qb(14,"div",7),r.Qb(15,"p-table",8,9),r.Xb("selectionChange",function(t){return e.selectedItems=t}),r.Ec(17,rt,21,0,"ng-template",10),r.Ec(18,pt,19,18,"ng-template",11),r.Ec(19,ft,3,1,"ng-template",12),r.Pb(),r.Pb(),r.Pb()),2&t&&(r.yb(5),r.ic("options",e.quizStatus)("ngModel",e.selectedTestStatus),r.yb(4),r.ic("options",e.testTypes)("ngModel",e.selectedTestType),r.yb(4),r.ic("options",e.groupInstancesDropDown)("ngModel",e.selectedGroupInstance),r.yb(2),r.ic("responsive",!0)("value",e.testsList)("rows",10)("paginator",!0)("globalFilterFields",r.lc(14,mt))("selection",e.selectedItems)("rowHover",!0)("showCurrentPageReport",!0))},directives:[it.a,d.o,d.r,st.d,ot.i,st.c,st.b,i.j,i.l,s.f,ct.a],pipes:[i.e],styles:[".status-box[_ngcontent-%COMP%]{font-size:10px;font-weight:700;padding:5px 10px;border-radius:5px;color:#fff;width:75px;text-align:center;display:inline-block}.closed[_ngcontent-%COMP%]{background-color:#34495e}.pending[_ngcontent-%COMP%]{background-color:#e67e22}.solved[_ngcontent-%COMP%]{background-color:#3498db}.corrected[_ngcontent-%COMP%]{background-color:#27ae60}.missed[_ngcontent-%COMP%]{background-color:#c0392b}.auto-correction-label[_ngcontent-%COMP%]{color:#e67e22}"]}),t})()},{path:"correct-test/:id/:status",component:U}];let Qt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[s.g.forChild(ht)],s.g]}),t})();var Pt=n("PCNd"),yt=n("Iq3c");let vt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[yt.a],imports:[[i.c,Pt.a,Qt]]}),t})()}}]);