(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"0S+P":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("tVjc"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.prefix="Pricing"}getAllPrices(){return this.http.get(`${i.a}/${this.prefix}/GetAll?PageNumber=1&PageSize=999`)}getAllPricesByPages(e,t){return this.http.get(`${i.a}/${this.prefix}/GetAll?PageNumber=${e}&PageSize=${t}`)}addPrice(e){return this.http.post(`${i.a}/${this.prefix}/Create`,e)}editPrice(e){return this.http.put(`${i.a}/${this.prefix}/update/?id=${e.id}`,e)}deletePrice(e){return this.http.delete(`${i.a}/${this.prefix}/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(o.Ub(s.b))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"6dlk":function(e,t,n){"use strict";n.r(t),n.d(t,"GroupsModule",function(){return Xn});var i=n("ofXK"),o=n("arFO"),s=n("hvoO"),r=n("RboQ"),c=n("cp0P"),a=n("fXoL"),l=n("vxfF"),d=n("nLfN"),b=n("8LU1"),u=n("XNiG"),p=n("quSY"),h=n("HDdC"),g=n("D0XW"),m=n("Y7HM");function f(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var P=n("eNwd"),v=n("VRyK"),y=n("1G5W"),C=n("JX91"),_=n("lJxs"),w=n("IzEk"),Q=n("vkgz"),S=n("eIep"),I=n("cH1L");function x(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function D(e,t){const n=t?"":"none";x(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function T(e,t){const n=e.style;n.position=t?"":"fixed",n.top=n.opacity=t?"":"0",n.left=t?"":"-999em"}function M(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function O(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}function F(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function L(e,t,n){const{top:i,bottom:o,left:s,right:r}=e;return n>=i&&n<=o&&t>=s&&t<=r}function k(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function H(e,t,n,i){const{top:o,right:s,bottom:r,left:c,width:a,height:l}=e,d=a*t,b=l*t;return i>o-b&&i<r+b&&n>c-d&&n<s+d}class A{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:F(e)})})}handleScroll(e){const t=e.target,n=this.positions.get(t);if(!n)return null;const i=t===this._document?t.documentElement:t,o=n.scrollPosition;let s,r;if(t===this._document){const e=this._viewportRuler.getViewportScrollPosition();s=e.top,r=e.left}else s=t.scrollTop,r=t.scrollLeft;const c=o.top-s,a=o.left-r;return this.positions.forEach((e,n)=>{e.clientRect&&t!==n&&i.contains(n)&&k(e.clientRect,c,a)}),o.top=s,o.left=r,{top:c,left:a}}}function R(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();t.removeAttribute("id");for(let o=0;o<n.length;o++)n[o].removeAttribute("id");return"canvas"===i?E(e,t):"input"!==i&&"select"!==i&&"textarea"!==i||q(e,t),N("canvas",e,t,E),N("input, textarea, select",e,t,q),t}function N(e,t,n,i){const o=t.querySelectorAll(e);if(o.length){const t=n.querySelectorAll(e);for(let e=0;e<o.length;e++)i(o[e],t[e])}}let G=0;function q(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${G++}`)}function E(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(i){}}const $=Object(d.e)({passive:!0}),z=Object(d.e)({passive:!1});class X{constructor(e,t,n,i,o,s){this._config=t,this._document=n,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new u.a,this._pointerMoveSubscription=p.a.EMPTY,this._pointerUpSubscription=p.a.EMPTY,this._scrollSubscription=p.a.EMPTY,this._resizeSubscription=p.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new u.a,this.started=new u.a,this.released=new u.a,this.ended=new u.a,this.entered=new u.a,this.exited=new u.a,this.dropped=new u.a,this.moved=this._moveEvents,this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const n=e.target;return!!n&&(n===t||t.contains(n))});!t||this._disabledHandles.has(t)||this.disabled||this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{e.preventDefault();const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const t=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),n=this._dropContainer;if(!t)return void this._endDragSequence(e);n&&(n.isDragging()||n.isReceiving())||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,t);else{const e=this._activeTransform;e.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:e,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e),this._parentPositions=new A(n,o),s.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=Object(b.b)(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(e=>D(e,t)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(e=>Object(b.c)(e)),this._handles.forEach(e=>D(e,this.disabled)),this._toggleNativeDragInteractions();const t=new Set;return this._disabledHandles.forEach(e=>{this._handles.indexOf(e)>-1&&t.add(e)}),this._disabledHandles=t,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=Object(b.c)(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,z),t.addEventListener("touchstart",this._pointerDown,$)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?Object(b.c)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&K(this._rootElement),K(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),D(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),D(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&K(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&K(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(e){U(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,n=e.parentNode,i=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment(""),r=this._getShadowRoot();n.insertBefore(s,e),T(e,!1),this._document.body.appendChild(n.replaceChild(o,e)),function(e,t){return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}(this._document,r).appendChild(i),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){t.stopPropagation();const n=this.isDragging(),i=U(t),o=!i&&0!==t.button,s=this._rootElement,r=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),n||o||r)return;this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{this._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=F(this._boundaryElement));const c=this._previewTemplate;this._pickupPositionInElement=c&&c.template&&!c.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const a=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:a.x,y:a.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){T(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(this._getPointerPositionOnPage(e)),s=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o}),t.drop(this,n,this._initialIndex,this._initialContainer,s,o),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:n,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,t,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._preview.style.transform=j(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y)}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,n=e?e.template:null;let i;if(n&&e){const t=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(n,e.context);o.detectChanges(),i=J(o,this._document),this._previewRef=o,e.matchSize?V(i,t):i.style.transform=j(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement;i=R(e),V(i,e.getBoundingClientRect())}return x(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),D(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(e=>i.classList.add(e)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=j(e.left,e.top);const t=function(e){const t=getComputedStyle(e),n=O(t,"transition-property"),i=n.find(e=>"transform"===e||"all"===e);if(!i)return 0;const o=n.indexOf(i),s=O(t,"transition-duration"),r=O(t,"transition-delay");return M(s[o])+M(r[o])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const n=t=>{(!t||t.target===this._preview&&"transform"===t.propertyName)&&(this._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=J(this._placeholderRef,this._document)):n=R(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t){const n=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,o=i?i.getBoundingClientRect():n,s=U(t)?t.targetTouches[0]:t,r=this._getViewportScrollPosition();return{x:o.left-n.left+(s.pageX-o.left-r.left),y:o.top-n.top+(s.pageY-o.top-r.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),n=U(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-t.left,o=n.pageY-t.top;if(this._ownerSVGElement){const e=this._ownerSVGElement.getScreenCTM();if(e){const t=this._ownerSVGElement.createSVGPoint();return t.x=i,t.y=o,t.matrixTransform(e.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,o=this._boundaryRect,s=this._previewRect,r=o.top+t,c=o.bottom-(s.height-t);n=B(n,o.left+e,o.right-(s.width-e)),i=B(i,r,c)}return{x:n,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:n}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(t-o.x),r=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=t>o.x?1:-1,o.x=t),r>this._config.pointerDirectionChangeThreshold&&(i.y=n>o.y?1:-1,o.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,D(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,z),e.removeEventListener("touchstart",this._pointerDown,$)}_applyRootElementTransform(e,t){const n=j(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const o=n.left-i.left,s=i.right-n.right,r=n.top-i.top,c=i.bottom-n.bottom;n.width>i.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,n.height>i.height?(r>0&&(t+=r),c>0&&(t-=c)):t=0,e===this._passiveTransform.x&&t===this._passiveTransform.y||this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:U(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&k(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Object(d.c)(this._rootElement)),this._cachedShadowRoot}}function j(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function B(e,t,n){return Math.max(t,Math.min(n,e))}function K(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function U(e){return"t"===e.type[0]}function J(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const i=t.createElement("div");return n.forEach(e=>i.appendChild(e)),i}function V(e,t){e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.transform=j(t.left,t.top)}function W(e,t,n){const i=Y(t,e.length-1),o=Y(n,e.length-1);if(i===o)return;const s=e[i],r=o<i?-1:1;for(let c=i;c!==o;c+=r)e[c]=e[c+r];e[o]=s}function Y(e,t){return Math.max(0,Math.min(t,e))}class Z{constructor(e,t,n,i,o){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new u.a,this.entered=new u.a,this.exited=new u.a,this.dropped=new u.a,this.sorted=new u.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=p.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new u.a,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(e=0,t=g.a){return(!Object(m.a)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=g.a),new h.a(n=>(n.add(t.schedule(f,e,{subscriber:n,counter:0,period:e})),n))}(0,P.a).pipe(Object(y.a)(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode;1===this._verticalScrollDirection?te(e,-2):2===this._verticalScrollDirection&&te(e,2),1===this._horizontalScrollDirection?ne(e,-2):2===this._horizontalScrollDirection&&ne(e,2)})},this.element=Object(b.c)(e),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new A(n,o)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const e=Object(b.c)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(e=>e._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(e,t,n,i){let o;this.start(),null==i?(o=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===o&&(o=this._getItemIndexFromPointerPosition(e,t,n))):o=i;const s=this._activeDraggables,r=s.indexOf(e),c=e.getPlaceholderElement();let a=s[o];if(a===e&&(a=s[o+1]),r>-1&&s.splice(r,1),a&&!this._dragDropRegistry.isDragging(a)){const t=a.getRootElement();t.parentElement.insertBefore(c,t),s.splice(o,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){const t=s[0].getRootElement();t.parentNode.insertBefore(c,t),s.unshift(e)}else Object(b.c)(this.element).appendChild(c),s.push(e);c.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,i,o,s){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:o,distance:s})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(e=>e.isDragging()).every(t=>-1===e.indexOf(t))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=Object(b.c)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?ee("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,i){if(this.sortingDisabled||!H(this._clientRect,.05,t,n))return;const o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,t,n,i);if(-1===s&&o.length>0)return;const r="horizontal"===this._orientation,c=ee(o,t=>t.drag===e),a=o[s],l=a.clientRect,d=c>s?1:-1,b=this._getItemOffsetPx(o[c].clientRect,l,d),u=this._getSiblingOffsetPx(c,o,d),p=o.slice();W(o,c,s),this.sorted.next({previousIndex:c,currentIndex:s,container:this,item:e}),o.forEach((t,n)=>{if(p[n]===t)return;const i=t.drag===e,o=i?b:u,s=i?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=o,r?(s.style.transform=`translate3d(${Math.round(t.offset)}px, 0, 0)`,k(t.clientRect,0,o)):(s.style.transform=`translate3d(0, ${Math.round(t.offset)}px, 0)`,k(t.clientRect,o,0))}),this._previousSwap.overlaps=L(l,t,n),this._previousSwap.drag=a.drag,this._previousSwap.delta=r?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,i=0,o=0;if(this._parentPositions.positions.forEach((s,r)=>{r!==this._document&&s.clientRect&&!n&&H(s.clientRect,.05,e,t)&&([i,o]=function(e,t,n,i){const o=ie(t,i),s=oe(t,n);let r=0,c=0;if(o){const t=e.scrollTop;1===o?t>0&&(r=1):e.scrollHeight-t>e.clientHeight&&(r=2)}if(s){const t=e.scrollLeft;1===s?t>0&&(c=1):e.scrollWidth-t>e.clientWidth&&(c=2)}return[r,c]}(r,s.clientRect,e,t),(i||o)&&(n=r))}),!i&&!o){const{width:s,height:r}=this._viewportRuler.getViewportSize(),c={width:s,height:r,top:0,right:s,bottom:r,left:0};i=ie(c,t),o=oe(c,e),n=window}!n||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=n,(i||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const e=Object(b.c)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,clientRect:F(t)}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const e=Object(b.c)(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{const t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,n){const i="horizontal"===this._orientation,o=t[e].clientRect,s=t[e+-1*n];let r=o[i?"width":"height"]*n;if(s){const e=i?"left":"top",t=i?"right":"bottom";-1===n?r-=s.clientRect[e]-o[t]:r+=o[e]-s.clientRect[t]}return r}_getItemOffsetPx(e,t,n){const i="horizontal"===this._orientation;let o=i?t.left-e.left:t.top-e.top;return-1===n&&(o+=i?t.width-e.width:t.height-e.height),o}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const o=n[n.length-1].clientRect;return i?e>=o.right:t>=o.bottom}{const o=n[0].clientRect;return i?e<=o.left:t<=o.top}}_getItemIndexFromPointerPosition(e,t,n,i){const o="horizontal"===this._orientation,s=ee(this._itemPositions,({drag:s,clientRect:r},c,a)=>{if(s===e)return a.length<2;if(i){const e=o?i.x:i.y;if(s===this._previousSwap.drag&&this._previousSwap.overlaps&&e===this._previousSwap.delta)return!1}return o?t>=Math.floor(r.left)&&t<Math.floor(r.right):n>=Math.floor(r.top)&&n<Math.floor(r.bottom)});return-1!==s&&this.sortPredicate(s,e,this)?s:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return L(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(i=>i._canReceive(e,t,n))}_canReceive(e,t,n){if(!L(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,n);if(!i)return!1;const o=Object(b.c)(this.element);return i===o||o.contains(i)}_startReceiving(e){const t=this._activeSiblings;t.has(e)||(t.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:e})=>{k(e,t.top,t.left)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=Object(d.c)(Object(b.c)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}}function ee(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function te(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function ne(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function ie(e,t){const{top:n,bottom:i,height:o}=e,s=.05*o;return t>=n-s&&t<=n+s?1:t>=i-s&&t<=i+s?2:0}function oe(e,t){const{left:n,right:i,width:o}=e,s=.05*o;return t>=n-s&&t<=n+s?1:t>=i-s&&t<=i+s?2:0}const se=Object(d.e)({passive:!1,capture:!0});let re=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new u.a,this.pointerUp=new u.a,this.scroll=new u.a,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.size&&e.preventDefault()},this._persistentTouchmoveListener=e=>{this._activeDragInstances.size&&(e.preventDefault(),this.pointerMove.next(e))},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,se)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,se)}startDragging(e,t){if(!this._activeDragInstances.has(e)&&(this._activeDragInstances.add(e),1===this._activeDragInstances.size)){const e=t.type.startsWith("touch");this._globalListeners.set(e?"touchend":"mouseup",{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:se}),e||this._globalListeners.set("mousemove",{handler:e=>this.pointerMove.next(e),options:se}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){this._activeDragInstances.delete(e),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances.has(e)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(a.z),a.Ub(i.e))},e.\u0275prov=Object(a.Gb)({factory:function(){return new e(Object(a.Ub)(a.z),Object(a.Ub)(i.e))},token:e,providedIn:"root"}),e})();const ce={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ae=(()=>{class e{constructor(e,t,n,i){this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(e,t=ce){return new X(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Z(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(i.e),a.Ub(a.z),a.Ub(l.g),a.Ub(re))},e.\u0275prov=Object(a.Gb)({factory:function(){return new e(Object(a.Ub)(i.e),Object(a.Ub)(a.z),Object(a.Ub)(l.g),Object(a.Ub)(re))},token:e,providedIn:"root"}),e})();const le=new a.q("CDK_DRAG_PARENT"),de=new a.q("CdkDropListGroup");let be=(()=>{class e{constructor(){this._items=new Set,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Object(b.b)(e)}ngOnDestroy(){this._items.clear()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=a.Fb({type:e,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"],features:[a.xb([{provide:de,useExisting:e}])]}),e})();const ue=new a.q("CDK_DRAG_CONFIG");let pe=0;const he=new a.q("CdkDropList");let ge=(()=>{class e{constructor(t,n,i,o,s,r,c){this.element=t,this._changeDetectorRef=i,this._scrollDispatcher=o,this._dir=s,this._group=r,this._destroyed=new u.a,this.connectedTo=[],this.id="cdk-drop-list-"+pe++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new a.n,this.entered=new a.n,this.exited=new a.n,this.sorted=new a.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,c&&this._assignDefaults(c),this._dropListRef.enterPredicate=(e,t)=>this.enterPredicate(e.data,t.data),this._dropListRef.sortPredicate=(e,t,n)=>this.sortPredicate(e,t.data,n.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),r&&r._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(e){this._dropListRef.disabled=this._disabled=Object(b.b)(e)}addItem(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((e,t)=>e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(Object(C.a)(this._dir.value),Object(y.a)(this._destroyed)).subscribe(e=>t.withDirection(e)),t.beforeStarted.subscribe(()=>{const n=Object(b.a)(this.connectedTo).map(t=>"string"==typeof t?e._dropLists.find(e=>e.id===t):t);if(this._group&&this._group._items.forEach(e=>{-1===n.indexOf(e)&&n.push(e)}),!this._scrollableParentsResolved){const e=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(e=>e.getElementRef().nativeElement);this._dropListRef.withScrollableParents(e),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=Object(b.b)(this.sortingDisabled),t.autoScrollDisabled=Object(b.b)(this.autoScrollDisabled),t.connectedTo(n.filter(e=>e&&e!==this).map(e=>e._dropListRef)).withOrientation(this.orientation)})}_handleEvents(e){e.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:this,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:this,item:e.item.data}),this._changeDetectorRef.markForCheck()}),e.sorted.subscribe(e=>{this.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:e.item.data})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),this._changeDetectorRef.markForCheck()})}_assignDefaults(e){const{lockAxis:t,draggingDisabled:n,sortingDisabled:i,listAutoScrollDisabled:o,listOrientation:s}=e;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=o&&o,this.orientation=s||"vertical",t&&(this.lockAxis=t)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(e=>e._dragRef))}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(a.l),a.Kb(ae),a.Kb(a.h),a.Kb(l.e),a.Kb(I.b,8),a.Kb(de,12),a.Kb(ue,8))},e.\u0275dir=a.Fb({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(a.zb("id",t.id),a.Cb("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[a.xb([{provide:de,useValue:void 0},{provide:he,useExisting:e}])]}),e._dropLists=[],e})();const me=new a.q("CdkDragHandle"),fe=new a.q("CdkDragPlaceholder"),Pe=new a.q("CdkDragPreview");let ve=(()=>{class e{constructor(e,t,n,i,o,s,r,c,l,d){this.element=e,this.dropContainer=t,this._ngZone=i,this._viewContainerRef=o,this._dir=r,this._changeDetectorRef=l,this._selfHandle=d,this._destroyed=new u.a,this.started=new a.n,this.released=new a.n,this.ended=new a.n,this.entered=new a.n,this.exited=new a.n,this.dropped=new a.n,this.moved=new h.a(e=>{const t=this._dragRef.moved.pipe(Object(_.a)(e=>({source:this,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}))).subscribe(e);return()=>{t.unsubscribe()}}),this._dragRef=c.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),t&&(this._dragRef._withDropContainer(t._dropListRef),t.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=Object(b.b)(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.onStable.pipe(Object(w.a)(1),Object(y.a)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._handles.changes.pipe(Object(C.a)(this._handles),Object(Q.a)(e=>{const t=e.filter(e=>e._parentDrag===this).map(e=>e.element);this._selfHandle&&this.rootElementSelector&&t.push(this.element),this._dragRef.withHandles(t)}),Object(S.a)(e=>Object(v.a)(...e.map(e=>e._stateChanges.pipe(Object(C.a)(e))))),Object(y.a)(this._destroyed)).subscribe(e=>{const t=this._dragRef,n=e.element.nativeElement;e.disabled?t.disableHandle(n):t.enableHandle(n)}),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})}ngOnChanges(e){const t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}_updateRootElement(){const e=this.element.nativeElement,t=this.rootElementSelector?ye(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?ye(this.element.nativeElement,e):Object(b.c)(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const t=this._dir,n=this.dragStartDelay,i=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,o=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof n&&n?n:Object(b.d)(n),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o),t&&e.withDirection(t.value)}})}_handleEvents(e){e.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(()=>{this.released.emit({source:this})}),e.ended.subscribe(e=>{this.ended.emit({source:this,distance:e.distance}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(e=>{this.entered.emit({container:e.container.data,item:this,currentIndex:e.currentIndex})}),e.exited.subscribe(e=>{this.exited.emit({container:e.container.data,item:this})}),e.dropped.subscribe(e=>{this.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:this,distance:e.distance})})}_assignDefaults(e){const{lockAxis:t,dragStartDelay:n,constrainPosition:i,previewClass:o,boundaryElement:s,draggingDisabled:r,rootElementSelector:c}=e;this.disabled=null!=r&&r,this.dragStartDelay=n||0,t&&(this.lockAxis=t),i&&(this.constrainPosition=i),o&&(this.previewClass=o),s&&(this.boundaryElement=s),c&&(this.rootElementSelector=c)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(a.l),a.Kb(he,12),a.Kb(i.e),a.Kb(a.z),a.Kb(a.O),a.Kb(ue,8),a.Kb(I.b,8),a.Kb(ae),a.Kb(a.h),a.Kb(me,10))},e.\u0275dir=a.Fb({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,n){var i;1&e&&(a.Db(n,Pe,!0),a.Db(n,fe,!0),a.Db(n,me,!0)),2&e&&(a.uc(i=a.Yb())&&(t._previewTemplate=i.first),a.uc(i=a.Yb())&&(t._placeholderTemplate=i.first),a.uc(i=a.Yb())&&(t._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&a.Cb("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[a.xb([{provide:le,useExisting:e}]),a.wb]}),e})();function ye(e,t){let n=e.parentElement;for(;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}let Ce=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},providers:[ae],imports:[l.b]}),e})();var _e=n("tyNb"),we=n("7zfz"),Qe=n("tVjc"),Se=n("tk/3");let Ie=(()=>{class e{constructor(e){this.http=e,this.prefix="GroupInstance"}saveAllGroupInstanceStudents(e,t){return this.http.put(`${Qe.a}/${this.prefix}/SaveAllGroupInstanceStudents?groupDefinitionId=${e}`,t,{headers:{"Content-Type":"application/json"}})}createGroupInstance(e){return this.http.post(`${Qe.a}/${this.prefix}/CreateGroupInstanceAutomatic?groupDefinitionId=${e}`,{})}removeGroupInstances(e,t){return this.http.delete(`${Qe.a}/${this.prefix}/RemoveGroupInstances?${t?"groupInstanceId":"groupDefinitionId"}=${null!=t?t:e}`,{})}removeStudentFromGroupInstances(e,t){return this.http.delete(`${Qe.a}/${this.prefix}/RemoveStudentGroupInstance?studentId=${e}&groupInstanceId=${t}`,{})}removeTeacherFromGroupInstance(e,t){return this.http.delete(`${Qe.a}/Teacher/RemoveTeacherFromGroupInstance?teacherId=${e}&groupInstanceId=${t}`,{})}activateGroupInstances(e){return this.http.post(`${Qe.a}/GroupDefinition/ActiveGroupInstances?Id=${e}`,{})}activeGroupInstance(e){return this.http.post(`${Qe.a}//GroupInstance/ActiveGroupInstance?GroupInstanceId=${e}`,{})}cancelGroupInstances(e){return this.http.delete(`${Qe.a}/GroupDefinition/CancelGroupInstances?groupDefinitionId=${e}`,{})}getTeachers(e){return this.http.post(`${Qe.a}/Teacher/GetAllTeachers?PageSize=999&?teacherName=${e}`,{})}getGroupDefinition(e){return this.http.get(`${Qe.a}/GroupDefinition/GetById?id=${e}`)}getGroupInstance(e){return this.http.get(`${Qe.a}/${this.prefix}/GetListByGroupDefinitionId?groupDefinitionId=${e}`)}getInterestedStudent(e){return this.http.get(`${Qe.a}/GroupDefinition/GetInterestedStudent?groupDefinitionId=${e}`)}getOverPaymentStudent(e){return this.http.get(`${Qe.a}/GroupDefinition/GetOverPaymentStudent?groupDefinitionId=${e}`)}addTeacher(e,t){return this.http.post(`${Qe.a}/${this.prefix}/AssignTeacherToGroupInstance?GroupInstanceId=${e}&TeacherId=${t}`,{})}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(Se.b))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xe=(()=>{class e{constructor(){}checkForValidity(e,t){return(null==e?void 0:e.length)<=(null==t?void 0:t.groupDefinition.groupCondition.numberOfSlots)&&this.numberOfSlotsWithPlacementTest(e)<=(null==t?void 0:t.groupDefinition.groupCondition.numberOfSlotsWithPlacementTest)&&this.checkForPromoCodeStrudents(e,t)}numberOfSlotsWithPlacementTest(e){let t=0;for(const n of e)n.isPlacementTest&&t++;return t}checkForPromoCodeStrudents(e,t){const n={};for(const i of e)i.promoCodeName&&(n[i.promoCodeName]?n[i.promoCodeName]++:n[i.promoCodeName]=1);for(const[i,o]of t.promoCodes.entries())for(const[e,t]of o.entries())o[e]=Object.assign(Object.assign({},o[e]),{eligible:n[o[e].promoCodeName]?n[o[e].promoCodeName]<=o[e].count:o[e].eligible=!0});return this.checkForValidRules(t.promoCodes,n)}checkForValidRules(e,t){const n=Object.keys(t).length;if(0===e.length&&n>0)return!1;if(!n)return!0;let i=!1;for(const o of e)if(o.length===n){if(o.every(e=>e.eligible&&t[e.promoCodeName])){i=!0;break}}else if(o.length>n&&o.every(e=>e.eligible)&&o.some(e=>t[e.promoCodeName])){i=!0;break}return i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var De=n("Gxio"),Te=n("IkIB"),Me=n("3Pt+"),Oe=n("jIHw");function Fe(e,t){if(1&e&&(a.Qb(0,"li"),a.Hc(1," Final Test "),a.Qb(2,"span"),a.Hc(3),a.cc(4,"date"),a.Pb(),a.Pb()),2&e){const e=a.bc();a.yb(3),a.Ic(a.dc(4,1,null==e.groupDefinitionData?null:e.groupDefinitionData.groupDefinition.finalTestDate))}}function Le(e,t){1&e&&(a.Ob(0),a.Hc(1,"Pending"),a.Nb())}function ke(e,t){1&e&&(a.Ob(0),a.Hc(1,"Running"),a.Nb())}function He(e,t){1&e&&(a.Ob(0),a.Hc(1,"Finished"),a.Nb())}function Ae(e,t){1&e&&(a.Ob(0),a.Hc(1,"Canceled"),a.Nb())}function Re(e,t){1&e&&(a.Ob(0),a.Hc(1,"New"),a.Nb())}function Ne(e,t){if(1&e&&(a.Ob(0),a.Hc(1," Created by "),a.Qb(2,"span"),a.Hc(3),a.Pb(),a.Nb()),2&e){const e=a.bc();a.yb(3),a.Ic(null==e.groupDefinitionData?null:e.groupDefinitionData.groupDefinition.createdByName)}}function Ge(e,t){if(1&e&&(a.Hc(0," Created by "),a.Qb(1,"span"),a.Hc(2),a.Pb()),2&e){const e=a.bc();a.yb(2),a.Ic(null==e.groupDefinitionData?null:e.groupDefinitionData.groupDefinition.createdBy)}}function qe(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",22),a.Xb("click",function(){return a.yc(e),a.bc().activateGroupInstances()}),a.Hc(1," Activate Round "),a.Pb()}}function Ee(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",23),a.Xb("click",function(){return a.yc(e),a.bc().checkForUnsavedData()}),a.Hc(1," Cancel Round "),a.Pb()}}function $e(e,t){1&e&&(a.Qb(0,"i",29),a.Hc(1,"content_paste"),a.Pb())}function ze(e,t){if(1&e&&(a.Qb(0,"span"),a.Hc(1),a.Pb()),2&e){const e=a.bc().$implicit;a.yb(1),a.Ic(e.promoCodeValue)}}function Xe(e,t){1&e&&a.Lb(0,"i",30)}function je(e,t){if(1&e&&(a.Qb(0,"li"),a.Qb(1,"div"),a.Lb(2,"img",26),a.Qb(3,"h4"),a.Hc(4),a.Pb(),a.Pb(),a.Qb(5,"div"),a.Fc(6,$e,2,0,"i",27),a.Fc(7,ze,2,1,"span",3),a.Fc(8,Xe,1,0,"i",28),a.Pb(),a.Pb()),2&e){const e=t.$implicit;a.yb(4),a.Ic(e.studentName),a.yb(2),a.ic("ngIf",e.isPlacementTest),a.yb(1),a.ic("ngIf",e.promoCodeValue),a.yb(1),a.ic("ngIf",!e.isEligible)}}function Be(e,t){if(1&e&&(a.Qb(0,"div",24),a.Qb(1,"div"),a.Qb(2,"h4"),a.Hc(3,"Overpayment Students"),a.Pb(),a.Qb(4,"h4"),a.Hc(5),a.Pb(),a.Pb(),a.Qb(6,"ul"),a.Fc(7,je,9,4,"li",25),a.Pb(),a.Pb()),2&e){const e=a.bc();a.yb(5),a.Jc("",null==e.overPaymentStudent?null:e.overPaymentStudent.length," Students"),a.yb(2),a.ic("ngForOf",e.overPaymentStudent)}}function Ke(e,t){1&e&&(a.Qb(0,"i",29),a.Hc(1,"content_paste"),a.Pb())}function Ue(e,t){if(1&e&&(a.Qb(0,"span"),a.Hc(1),a.Pb()),2&e){const e=a.bc().$implicit;a.yb(1),a.Ic(e.promoCodeValue)}}function Je(e,t){1&e&&a.Lb(0,"i",30)}function Ve(e,t){if(1&e&&(a.Qb(0,"li"),a.Qb(1,"div"),a.Lb(2,"img",26),a.Qb(3,"h4"),a.Hc(4),a.Pb(),a.Pb(),a.Qb(5,"div"),a.Fc(6,Ke,2,0,"i",27),a.Fc(7,Ue,2,1,"span",3),a.Fc(8,Je,1,0,"i",28),a.Pb(),a.Pb()),2&e){const e=t.$implicit;a.yb(4),a.Ic(e.studentName),a.yb(2),a.ic("ngIf",e.isPlacementTest),a.yb(1),a.ic("ngIf",e.promoCodeValue),a.yb(1),a.ic("ngIf",!e.isEligible)}}function We(e,t){if(1&e&&(a.Qb(0,"div",24),a.Qb(1,"div"),a.Qb(2,"h4"),a.Hc(3,"Interested Students"),a.Pb(),a.Qb(4,"h4"),a.Hc(5),a.Pb(),a.Pb(),a.Qb(6,"ul"),a.Fc(7,Ve,9,4,"li",25),a.Pb(),a.Pb()),2&e){const e=a.bc();a.yb(5),a.Jc("",null==e.interestedStudent?null:e.interestedStudent.length," Students"),a.yb(2),a.ic("ngForOf",e.interestedStudent)}}function Ye(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",31),a.Xb("click",function(){return a.yc(e),a.bc().createGroupInstance()}),a.Hc(1," Create Group Instance "),a.Pb()}}function Ze(e,t){if(1&e){const e=a.Rb();a.Qb(0,"span",38),a.Xb("click",function(){a.yc(e);const t=a.bc(2).$implicit;return a.bc().removeTeacherFromGroupInstance(t.teachers[0].teacherId,t.groupInstanceId)}),a.Hc(1,"remove"),a.Pb()}}function et(e,t){if(1&e&&(a.Ob(0),a.Qb(1,"div"),a.Hc(2),a.Fc(3,Ze,2,0,"span",37),a.Pb(),a.Nb()),2&e){const e=a.bc().$implicit;a.yb(2),a.Jc(" ",e.teachers[0].teacherFirstName+" "+e.teachers[0].teacherLastName," "),a.yb(1),a.ic("ngIf","Pending"===e.status)}}function tt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div"),a.Qb(1,"button",39),a.Xb("click",function(){a.yc(e);const t=a.bc().$implicit;return a.bc().activeGroupInstance(t.groupInstanceId)}),a.Hc(2," close "),a.Pb(),a.Pb()}}function nt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div"),a.Qb(1,"span",40),a.Xb("click",function(){a.yc(e);const t=a.bc().$implicit;return a.bc().activeGroupInstance(t.groupInstanceId)}),a.Hc(2,"check"),a.Pb(),a.Pb()}}function it(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div"),a.Qb(1,"span",41),a.Xb("click",function(){a.yc(e);const t=a.bc().$implicit;return a.bc().removeGroupInstances(t.groupInstanceId)}),a.Hc(2,"remove"),a.Pb(),a.Pb()}}function ot(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",43),a.Xb("click",function(){a.yc(e);const t=a.bc(2).$implicit,n=a.bc();return n.selectedGroupInstanceId=t.groupInstanceId,n.showConfirm()}),a.Qb(1,"span",29),a.Hc(2," person_add_alt_1 "),a.Pb(),a.Pb()}}function st(e,t){if(1&e&&a.Fc(0,ot,3,0,"div",42),2&e){const e=a.bc().$implicit;a.ic("ngIf","Pending"===e.status)}}function rt(e,t){1&e&&(a.Qb(0,"i",29),a.Hc(1,"content_paste"),a.Pb())}function ct(e,t){if(1&e&&(a.Qb(0,"span"),a.Hc(1),a.Pb()),2&e){const e=a.bc().$implicit;a.yb(1),a.Ic(e.promoCodeValue)}}function at(e,t){1&e&&a.Lb(0,"i",30)}function lt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"li",43),a.Xb("click",function(){a.yc(e);const t=a.bc().$implicit,n=a.bc().$implicit;return a.bc().removeStudentFromGroupInstances(n.groupInstanceId,t.studentId)}),a.Hc(1," remove from group "),a.Pb()}}function dt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"li",44),a.Qb(1,"div"),a.Lb(2,"img",26),a.Qb(3,"h4"),a.Hc(4),a.Pb(),a.Pb(),a.Qb(5,"div"),a.Fc(6,rt,2,0,"i",27),a.Fc(7,ct,2,1,"span",3),a.Fc(8,at,1,0,"i",28),a.Qb(9,"div",45),a.Lb(10,"i",46),a.Qb(11,"ul"),a.Fc(12,lt,2,0,"li",42),a.Qb(13,"li",43),a.Xb("click",function(){a.yc(e);const n=t.$implicit;return a.bc(2).goToProfile(n.studentId)}),a.Hc(14,"profile"),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit,n=a.bc().$implicit;a.yb(4),a.Ic(e.studentName),a.yb(2),a.ic("ngIf",e.isPlacementTest),a.yb(1),a.ic("ngIf",e.promoCodeValue),a.yb(1),a.ic("ngIf",!e.isEligible),a.yb(4),a.ic("ngIf","Pending"===n.status)}}function bt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",32),a.Qb(1,"div",33),a.Qb(2,"div"),a.Hc(3),a.Pb(),a.Qb(4,"div"),a.Hc(5),a.Pb(),a.Qb(6,"div"),a.Hc(7),a.Pb(),a.Qb(8,"div"),a.Hc(9),a.Pb(),a.Fc(10,et,4,2,"ng-container",4),a.Fc(11,tt,3,0,"div",3),a.Fc(12,nt,3,0,"div",3),a.Fc(13,it,3,0,"div",3),a.Fc(14,st,1,1,"ng-template",null,34,a.Gc),a.Pb(),a.Qb(16,"div",35),a.Xb("cdkDropListDropped",function(t){return a.yc(e),a.bc().drop(t)}),a.Qb(17,"ul"),a.Fc(18,dt,15,5,"li",36),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit,n=t.index,i=a.vc(15),o=a.bc();a.yb(3),a.Jc("Group ",n+1,""),a.yb(2),a.Jc("#",e.groupInstanceSerail,""),a.yb(1),a.Ab(e.status),a.yb(1),a.Jc(" ","SlotCompleted"===e.status?"Completed":e.status," "),a.yb(2),a.Jc("",e.students.length," Students"),a.yb(1),a.ic("ngIf",e.teachers[0])("ngIfElse",i),a.yb(1),a.ic("ngIf","Pending"!==e.status),a.yb(1),a.ic("ngIf","Pending"===e.status),a.yb(1),a.ic("ngIf","Pending"===e.status),a.yb(3),a.Cb("invalid",!o.checkForGroupValidityService.checkForValidity(e.students,o.groupDefinitionData)),a.ic("cdkDropListData",e.students),a.yb(2),a.ic("ngForOf",e.students)}}function ut(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",47),a.Xb("click",function(){return a.yc(e),a.bc().removeGroupInstances()}),a.Hc(1," Remove Group Round "),a.Pb()}}function pt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",48),a.Xb("click",function(){return a.yc(e),a.bc().saveAllGroupInstanceStudents()}),a.Hc(1," Save Changes "),a.Pb()}if(2&e){const e=a.bc();a.ic("disabled",!e.startEdits||e.invalidGroup)}}function ht(e,t){if(1&e&&(a.Qb(0,"div",58),a.Qb(1,"div"),a.Hc(2),a.Pb(),a.Pb()),2&e){const e=a.bc(3);a.yb(2),a.Jc(" ",e.selectedTeacher.fullName," ")}}function gt(e,t){if(1&e&&a.Fc(0,ht,3,1,"div",57),2&e){const e=a.bc(2);a.ic("ngIf",e.selectedTeacher)}}function mt(e,t){if(1&e&&(a.Qb(0,"div",59),a.Qb(1,"div"),a.Hc(2),a.Pb(),a.Pb()),2&e){const e=t.$implicit;a.yb(2),a.Jc(" ",e.fullName," ")}}function ft(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",49),a.Qb(1,"div",50),a.Qb(2,"h4"),a.Hc(3),a.Pb(),a.Qb(4,"p-dropdown",51),a.Xb("ngModelChange",function(t){return a.yc(e),a.bc().selectedTeacher=t}),a.Fc(5,gt,1,1,"ng-template",52),a.Fc(6,mt,3,1,"ng-template",53),a.Pb(),a.Pb(),a.Qb(7,"div",54),a.Qb(8,"div",55),a.Qb(9,"button",56),a.Xb("click",function(){a.yc(e);const t=a.bc();return t.addTeacher(t.selectedGroupInstanceId)}),a.Pb(),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=a.bc();a.yb(3),a.Jc("Add teacher to group instance: ",e.selectedGroupInstanceId,""),a.yb(1),a.ic("options",e.teachers)("ngModel",e.selectedTeacher)("filter",!0)("showClear",!0)}}function Pt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",49),a.Lb(1,"div",50),a.Qb(2,"div",54),a.Qb(3,"h4"),a.Hc(4,"Warning: You have unsaved grouping changes"),a.Pb(),a.Qb(5,"div",60),a.Qb(6,"div",61),a.Qb(7,"button",62),a.Xb("click",function(){return a.yc(e),a.bc().saveChangesOrDiscard("save")}),a.Pb(),a.Pb(),a.Qb(8,"div",63),a.Qb(9,"button",64),a.Xb("click",function(){return a.yc(e),a.bc().saveChangesOrDiscard()}),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb()}}function vt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div",49),a.Lb(1,"div",50),a.Qb(2,"div",54),a.Qb(3,"h4"),a.Hc(4,"Are you sure you want to cancel the whole round?"),a.Pb(),a.Qb(5,"div",60),a.Qb(6,"div",65),a.Qb(7,"button",66),a.Xb("click",function(){return a.yc(e),a.bc().hideCancelGroupInstancesToast()}),a.Pb(),a.Pb(),a.Qb(8,"div",65),a.Qb(9,"button",67),a.Xb("click",function(){return a.yc(e),a.bc().cancelGroupInstances()}),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb()}}const yt=window.jQuery;let Ct=(()=>{class e{constructor(e,t,n,i,o){this.activatedRoute=e,this.messageService=t,this.apiService=n,this.router=i,this.checkForGroupValidityService=o,this.groupInvalid=!1,this.startEdits=!1,this.promoCodeCombination="",this.invalidGroup=!1,this.unsavedChangesHelper={type:"",studentId:"",groupInstanceId:0,teacherId:""}}saveAndClosePromt(e){if(this.startEdits)return confirm("your changes need to be saved")}ngOnInit(){this.groupDefinitionId=+this.activatedRoute.snapshot.params.id,this.initData()}initData(){this.startEdits=!1,this.getTeachers(""),Object(c.a)([this.getGroupInstance(),this.getGroupDefinition(),this.getOverPaymentStudent(),this.getInterestedStudent()]).subscribe(e=>{this.groupInstance=e[0].data,this.groupDefinitionData=e[1].data,this.overPaymentStudent=e[2].data,this.interestedStudent=e[3].data,this.promoCodeCombination="";for(const[t,n]of this.groupDefinitionData.promoCodes.entries()){for(const[e,t]of n.entries())this.promoCodeCombination+=`${t.count}*${t.promoCodeName} ${e<n.length-1?"- ":""}`;t<this.groupDefinitionData.promoCodes.length-1&&(this.promoCodeCombination+=" Or ")}this.initUserMenuClick()})}initUserMenuClick(){yt(document).ready(function(){yt(".user-menu i").off("click"),yt(".user-menu i").click(function(){yt(this).parent().children("ul").toggle(),yt(this).parents("li").siblings().each(function(){yt(this).find("ul").hide()})})})}goToProfile(e){this.startEdits?(this.unsavedChangesHelper.studentId=e,this.unsavedChangesHelper.type="goToProfile",this.showWarning()):this.router.navigateByUrl("/supervisor/view-profile/"+e)}getTeachers(e){this.apiService.getTeachers(e).subscribe({next:e=>{this.teachers=e.data.map(e=>Object.assign({fullName:e.teacherFirstName+" "+e.teacherLastName},e))}})}getGroupDefinition(){return this.apiService.getGroupDefinition(this.groupDefinitionId)}getGroupInstance(){return this.apiService.getGroupInstance(this.groupDefinitionId)}getInterestedStudent(){return this.apiService.getInterestedStudent(this.groupDefinitionId)}getOverPaymentStudent(){return this.apiService.getOverPaymentStudent(this.groupDefinitionId)}removeGroupInstances(e){this.startEdits?(this.unsavedChangesHelper.groupInstanceId=e,this.unsavedChangesHelper.type="removeGroupInstances",this.showWarning()):this.apiService.removeGroupInstances(this.groupDefinitionId,e).subscribe(e=>{this.initData()})}removeStudentFromGroupInstances(e,t){this.startEdits?(this.unsavedChangesHelper.groupInstanceId=e,this.unsavedChangesHelper.studentId=t,this.unsavedChangesHelper.type="removeStudentFromGroupInstances",this.showWarning()):this.apiService.removeStudentFromGroupInstances(t,e).subscribe({next:e=>{this.initData()}})}removeTeacherFromGroupInstance(e,t){this.startEdits?(this.unsavedChangesHelper.groupInstanceId=t,this.unsavedChangesHelper.teacherId=e,this.unsavedChangesHelper.type="removeTeacherFromGroupInstance",this.showWarning()):this.apiService.removeTeacherFromGroupInstance(e,t).subscribe(e=>{this.initData()})}checkForUnsavedData(){this.startEdits?(this.unsavedChangesHelper.type="cancelGroupInstances",this.showWarning()):this.showCancelGroupInstancesToast()}cancelGroupInstances(){this.apiService.cancelGroupInstances(this.groupDefinitionId).subscribe(e=>{this.messageService.clear("CancelGroupInstances"),this.initData()})}saveAllGroupInstanceStudents(){this.apiService.saveAllGroupInstanceStudents(this.groupDefinitionId,this.groupInstance).subscribe({next:()=>{this.initData()}})}createGroupInstance(){this.startEdits?(this.unsavedChangesHelper.type="createGroupInstance",this.showWarning()):this.apiService.createGroupInstance(this.groupDefinitionId).subscribe(e=>{this.initData()})}activateGroupInstances(){this.startEdits?(this.unsavedChangesHelper.type="activateGroupInstances",this.showWarning()):this.apiService.activateGroupInstances(this.groupDefinitionId).subscribe(e=>{location.reload()})}activeGroupInstance(e){this.apiService.activeGroupInstance(e).subscribe(e=>{this.initData()})}addTeacher(){this.startEdits?(this.unsavedChangesHelper.type="addTeacher",this.messageService.clear("c"),this.showWarning()):this.apiService.addTeacher(this.selectedGroupInstanceId,this.selectedTeacher.teacherId).subscribe({next:e=>{this.messageService.clear("c"),this.initData()}})}saveChangesOrDiscard(e){this.startEdits=!1,e?this.apiService.saveAllGroupInstanceStudents(this.groupDefinitionId,this.groupInstance).subscribe({next:()=>this.chooseSuitableMethod()}):this.chooseSuitableMethod(),this.onRejectWarning()}chooseSuitableMethod(){switch(this.unsavedChangesHelper.type){case"removeStudentFromGroupInstances":this.removeStudentFromGroupInstances(this.unsavedChangesHelper.groupInstanceId,this.unsavedChangesHelper.studentId);break;case"removeTeacherFromGroupInstance":this.removeTeacherFromGroupInstance(this.unsavedChangesHelper.teacherId,this.unsavedChangesHelper.groupInstanceId);break;case"removeGroupInstances":this.removeGroupInstances(this.unsavedChangesHelper.groupInstanceId);break;case"goToProfile":this.goToProfile(this.unsavedChangesHelper.groupInstanceId);break;case"activateGroupInstances":this.activateGroupInstances();break;case"createGroupInstance":this.createGroupInstance();break;case"addTeacher":this.addTeacher();break;case"cancelGroupInstances":this.cancelGroupInstances()}}drop(e){this.startEdits=!0,setTimeout(()=>{this.invalidGroup=!!yt(".cdk-drop-list.example-list.invalid").length},200),this.initUserMenuClick(),e.previousContainer===e.container?W(e.container.data,e.previousIndex,e.currentIndex):function(e,t,n,i){const o=Y(n,e.length-1),s=Y(i,t.length);e.length&&t.splice(s,0,e.splice(o,1)[0])}(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}showConfirm(){this.onReject(),setTimeout(()=>{this.messageService.add({key:"c",sticky:!0,severity:"success"})},100)}onReject(){this.messageService.clear("c")}showWarning(){this.onRejectWarning(),setTimeout(()=>{this.messageService.add({key:"w",sticky:!0,severity:"warn"})},100)}onRejectWarning(){this.messageService.clear("w")}showCancelGroupInstancesToast(){this.hideCancelGroupInstancesToast(),setTimeout(()=>{this.messageService.add({key:"CancelGroupInstances",sticky:!0,severity:"warn"})},100)}hideCancelGroupInstancesToast(){this.messageService.clear("CancelGroupInstances")}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(_e.a),a.Kb(we.g),a.Kb(Ie),a.Kb(_e.c),a.Kb(xe))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-group-instance"]],hostBindings:function(e,t){1&e&&a.Xb("beforeunload",function(e){return t.saveAndClosePromt(e)},!1,a.xc)},decls:86,vars:34,consts:[[1,"text-primary","text-bold","mb-5"],[1,"text-dark"],[1,"group-info"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["createdBy",""],["class","btn btn-success",3,"click",4,"ngIf"],["disabled","","class","btn btn-danger",3,"click",4,"ngIf"],[1,"group-container"],[1,"group-container__side"],["class","group-container__side__section",4,"ngIf"],["class","btn btn-outline-secondary",3,"click",4,"ngIf"],[1,"group-container__body"],["cdkDropListGroup",""],["class","example-container",4,"ngFor","ngForOf"],[1,"controls"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],["class","btn btn-outline-secondary",3,"disabled","click",4,"ngIf"],["position","top-center","key","c",3,"baseZIndex","onClose"],["pTemplate","message"],["position","top-center","key","w",3,"baseZIndex","onClose","clickOutside"],["position","top-center","key","CancelGroupInstances",3,"baseZIndex","onClose","clickOutside"],[1,"btn","btn-success",3,"click"],["disabled","",1,"btn","btn-danger",3,"click"],[1,"group-container__side__section"],[4,"ngFor","ngForOf"],["src","https://preview.keenthemes.com/metronic-v4/theme/assets/pages/media/profile/profile_user.jpg","alt",""],["class","material-icons",4,"ngIf"],["class","fas fa-exclamation text-primary",4,"ngIf"],[1,"material-icons"],[1,"fas","fa-exclamation","text-primary"],[1,"btn","btn-outline-secondary",3,"click"],[1,"example-container"],[1,"group-header"],["addTeacher",""],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListDropped"],["cdkDrag","","class","example-box",4,"ngFor","ngForOf"],["class","material-icons remove",3,"click",4,"ngIf"],[1,"material-icons","remove",3,"click"],["disabled","",1,"btn","btn-outline-warning","material-icons",3,"click"],[1,"btn","btn-outline-success","material-icons",3,"click"],[1,"btn","btn-outline-danger","material-icons",3,"click"],[3,"click",4,"ngIf"],[3,"click"],["cdkDrag","",1,"example-box"],[1,"user-menu"],[1,"pi","pi-ellipsis-v"],[1,"btn","btn-outline-danger",3,"click"],[1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"p-flex","p-flex-column",2,"flex","1"],[1,"p-text-center"],["optionLabel","fullName","filterBy","fullName","placeholder","Select a Teacher",3,"options","ngModel","filter","showClear","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"p-grid","p-fluid"],[1,"p-col-6"],["type","button","pButton","","label","Add",1,"p-button-success",3,"click"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],[1,"country-item"],[1,"row"],[1,"col-12","my-2"],["type","button","pButton","","label","Save changes & continue",1,"p-button-success",3,"click"],[1,"col-12"],["type","button","pButton","","label","Discard changes & continue",1,"p-button-success",3,"click"],[1,"col-6"],["type","button","pButton","","label","No",1,"p-button-secondary",3,"click"],["type","button","pButton","","label","Yes",1,"p-button-success",3,"click"]],template:function(e,t){if(1&e&&(a.Qb(0,"h1",0),a.Hc(1," Group "),a.Qb(2,"span",1),a.Hc(3),a.Pb(),a.Pb(),a.Qb(4,"div",2),a.Qb(5,"ul"),a.Qb(6,"li"),a.Hc(7," SubLevel "),a.Qb(8,"span"),a.Hc(9),a.Pb(),a.Pb(),a.Qb(10,"li"),a.Hc(11," Time Slot "),a.Qb(12,"span"),a.Hc(13),a.Pb(),a.Pb(),a.Qb(14,"li"),a.Hc(15," Start Date "),a.Qb(16,"span"),a.Hc(17),a.cc(18,"date"),a.Pb(),a.Pb(),a.Qb(19,"li"),a.Hc(20," End Date "),a.Qb(21,"span"),a.Hc(22),a.cc(23,"date"),a.Pb(),a.Pb(),a.Fc(24,Fe,5,3,"li",3),a.Pb(),a.Qb(25,"ul"),a.Qb(26,"li"),a.Hc(27," Max instance "),a.Qb(28,"span"),a.Hc(29),a.Pb(),a.Pb(),a.Qb(30,"li"),a.Hc(31," Pricing "),a.Qb(32,"span"),a.Hc(33),a.Pb(),a.Pb(),a.Qb(34,"li"),a.Hc(35," Discount "),a.Qb(36,"span"),a.Hc(37),a.Pb(),a.Pb(),a.Qb(38,"li"),a.Hc(39," Status "),a.Qb(40,"span"),a.Fc(41,Le,2,0,"ng-container",3),a.Fc(42,ke,2,0,"ng-container",3),a.Fc(43,He,2,0,"ng-container",3),a.Fc(44,Ae,2,0,"ng-container",3),a.Fc(45,Re,2,0,"ng-container",3),a.Pb(),a.Pb(),a.Qb(46,"li"),a.Fc(47,Ne,4,1,"ng-container",4),a.Fc(48,Ge,3,1,"ng-template",null,5,a.Gc),a.Pb(),a.Pb(),a.Qb(50,"ul"),a.Qb(51,"li"),a.Qb(52,"span"),a.Hc(53,"Group"),a.Pb(),a.Pb(),a.Qb(54,"li"),a.Hc(55," No. of slots "),a.Qb(56,"span"),a.Hc(57),a.Pb(),a.Pb(),a.Qb(58,"li"),a.Hc(59," No. of placements test slots "),a.Qb(60,"span"),a.Hc(61),a.Pb(),a.Pb(),a.Qb(62,"li"),a.Hc(63," Promocode combinations "),a.Qb(64,"span"),a.Hc(65),a.Pb(),a.Pb(),a.Qb(66,"li"),a.Fc(67,qe,2,0,"button",6),a.Fc(68,Ee,2,0,"button",7),a.Pb(),a.Pb(),a.Pb(),a.Qb(69,"div",8),a.Qb(70,"div",9),a.Fc(71,Be,8,2,"div",10),a.Fc(72,We,8,2,"div",10),a.Fc(73,Ye,2,0,"button",11),a.Pb(),a.Qb(74,"div",12),a.Qb(75,"div",13),a.Fc(76,bt,19,15,"div",14),a.Pb(),a.Qb(77,"div",15),a.Fc(78,ut,2,0,"button",16),a.Fc(79,pt,2,1,"button",17),a.Pb(),a.Pb(),a.Pb(),a.Qb(80,"p-toast",18),a.Xb("onClose",function(){return t.onReject()}),a.Fc(81,ft,10,5,"ng-template",19),a.Pb(),a.Qb(82,"p-toast",20),a.Xb("onClose",function(){return t.onRejectWarning()})("clickOutside",function(){return t.onRejectWarning()}),a.Fc(83,Pt,10,0,"ng-template",19),a.Pb(),a.Qb(84,"p-toast",21),a.Xb("onClose",function(){return t.hideCancelGroupInstancesToast()})("clickOutside",function(){return t.hideCancelGroupInstancesToast()}),a.Fc(85,vt,10,0,"ng-template",19),a.Pb()),2&e){const e=a.vc(49);a.yb(3),a.Ic(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.serial),a.yb(6),a.Ic(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.sublevel.name),a.yb(4),a.Ic(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.timeSlot.name),a.yb(4),a.Ic(a.dc(18,30,null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.startDate)),a.yb(5),a.Ic(a.dc(23,32,null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.endDate)),a.yb(2),a.ic("ngIf",null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.finalTestDate),a.yb(5),a.Ic(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.maxInstances),a.yb(4),a.Jc("",null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.pricing.price," Euro"),a.yb(4),a.Jc("",null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.discount,"%"),a.yb(4),a.ic("ngIf",0===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(1),a.ic("ngIf",1===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(1),a.ic("ngIf",2===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(1),a.ic("ngIf",3===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(1),a.ic("ngIf",4===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(2),a.ic("ngIf",null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.createdByName)("ngIfElse",e),a.yb(10),a.Ic(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.groupCondition.numberOfSlots),a.yb(4),a.Ic(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.groupCondition.numberOfSlotsWithPlacementTest),a.yb(4),a.Ic(t.promoCodeCombination),a.yb(2),a.ic("ngIf",0===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(1),a.ic("ngIf",0===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(3),a.ic("ngIf",null==t.overPaymentStudent?null:t.overPaymentStudent.length),a.yb(1),a.ic("ngIf",null==t.interestedStudent?null:t.interestedStudent.length),a.yb(1),a.ic("ngIf",0===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(3),a.ic("ngForOf",t.groupInstance),a.yb(2),a.ic("ngIf",0===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(1),a.ic("ngIf",0===(null==t.groupDefinitionData?null:t.groupDefinitionData.groupDefinition.status)),a.yb(1),a.ic("baseZIndex",5e3),a.yb(2),a.ic("baseZIndex",5e3),a.yb(2),a.ic("baseZIndex",5e3)}},directives:[i.m,be,i.l,De.a,we.i,Te.a,ge,ve,o.a,Me.p,Me.s,Oe.b],pipes:[i.f],styles:[".stdudentLI[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.438rem 1rem;border-radius:8px;border:1px solid #2c3e90;background:#fff;cursor:move}.stdudentLI[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{position:relative}.stdudentLI[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;margin-left:6px;cursor:pointer}.stdudentLI[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;grid-template-columns:auto;top:100%;font-size:10px;padding:10px;z-index:9;white-space:nowrap;right:0;border-radius:5px;display:none}.stdudentLI[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.stdudentLI[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .stdudentLI[_ngcontent-%COMP%]:last-child, .stdudentLI[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0}.stdudentLI[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:140px}.stdudentLI[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;text-transform:uppercase}.stdudentLI[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{grid-column-gap:20px}.stdudentLI[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%]{width:25px;border-radius:5px}.stdudentLI[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{grid-column-gap:5px}.stdudentLI[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{color:#ff7b05;background-color:#fff80b;border-radius:50%;border:3px solid;font-size:8px;width:24px;height:24px;display:flex;justify-content:center;align-items:center;font-weight:600}h6[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#2c3e90;font-weight:600}.group-info[_ngcontent-%COMP%]{padding:25px;border-radius:8px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fafafa;display:grid;grid-template-columns:auto auto auto;justify-content:space-between;margin-bottom:15px}.group-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.group-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;display:grid;grid-template-columns:auto 180px;grid-column-gap:20px}.group-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.group-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;grid-column-gap:15px}.group-container__body[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]{padding:25px;border-radius:8px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fafafa}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;grid-column-gap:5px}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:15px;padding:3px 10px;display:flex;align-items:center;font-size:14px}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{color:#2c3e90;font-weight:600}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){color:#2c3e90;background:rgba(44,62,144,.27);border:1px solid rgba(44,62,144,.43)}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).SlotCompleted, .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).SlotCompleted{color:#207a04;background:rgba(32,122,4,.2);border:1px solid rgba(32,122,4,.43)}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).Pending, .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).Pending{color:#846500;background:rgba(217,166,0,.27);border:1px solid rgba(217,166,0,.54)}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).Finished, .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).Finished{color:#0f151d;background:rgba(15,21,29,.22);border:1px solid rgba(0,0,0,.38)}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).Running, .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).Running{color:#03a9f4;background:rgb(3 169 12.2%);border:1px solid #03a9f4}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).Canceld, .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3).Canceld{color:#7a0404;background:rgb(255 7 .35%);border:1px solid rgb(143 0 0)}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){font-weight:500}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){border-radius:8px;border:1px solid #2c3e90;background-color:#d6deff;font-weight:500;display:flex;align-items:center;grid-column-gap:5px}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5)   span[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5)   span[_ngcontent-%COMP%]{cursor:pointer}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5)   span.remove[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5)   span.remove[_ngcontent-%COMP%]{color:red}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]{position:relative;padding:20px 15px;list-style:none;border-radius:16px;border:2px solid #2c3e90;background-color:var(--white);transition:all .2s;margin:.5rem 0 20px}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list.invalid[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list.invalid[_ngcontent-%COMP%]{border-color:var(--danger)}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:50% auto;grid-gap:10px;padding:0;margin:0}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.438rem 1rem;border-radius:8px;border:1px solid #2c3e90;background:#fff;cursor:move}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{position:relative}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;margin-left:6px;cursor:pointer}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;grid-template-columns:auto;top:100%;font-size:10px;padding:10px;z-index:9;white-space:nowrap;right:0;border-radius:5px;display:none}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:140px}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;text-transform:uppercase}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child, .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{grid-column-gap:20px}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%]{width:25px;border-radius:5px}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child, .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{grid-column-gap:5px}.group-container__body[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .cdk-drop-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{color:#ff7b05;background-color:#fff80b;border-radius:50%;border:3px solid;font-size:8px;width:24px;height:24px;display:flex;justify-content:center;align-items:center;font-weight:600}.group-container__body__section[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]{margin-bottom:50px}.group-container__body__section[_ngcontent-%COMP%]:last-of-type, .group-container__side__section[_ngcontent-%COMP%]:last-of-type{margin-bottom:20px}.group-container__body__section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.group-container__body__section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.group-container__body__section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:first-child, .group-container__side__section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:first-child{color:#2c3e90}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.438rem 1rem;border-radius:8px;border:1px solid #2c3e90;background:#fff;cursor:move;cursor:auto;margin-top:10px}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{position:relative}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;margin-left:6px;cursor:pointer}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;grid-template-columns:auto;top:100%;font-size:10px;padding:10px;z-index:9;white-space:nowrap;right:0;border-radius:5px;display:none}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:140px}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;text-transform:uppercase}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child, .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{grid-column-gap:20px}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%]{width:25px;border-radius:5px}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child, .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{grid-column-gap:5px}.group-container__body__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%], .group-container__side__section[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{color:#ff7b05;background-color:#fff80b;border-radius:50%;border:3px solid;font-size:8px;width:24px;height:24px;display:flex;justify-content:center;align-items:center;font-weight:600}.group-container__body[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%], .group-container__side[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;justify-content:center;grid-column-gap:20px}.cdk-drag-preview[_ngcontent-%COMP%], li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);display:flex;justify-content:space-between;padding:.438rem 1rem;border-radius:8px;border:1px solid #2c3e90;background:#fff;cursor:move}.cdk-drag-preview[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%], li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]{position:relative}.cdk-drag-preview[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:15px;margin-left:6px;cursor:pointer}.cdk-drag-preview[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{position:absolute;grid-template-columns:auto;top:100%;font-size:10px;padding:10px;z-index:9;white-space:nowrap;right:0;border-radius:5px;display:none}.cdk-drag-preview[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer}.cdk-drag-preview[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, .cdk-drag-preview[_ngcontent-%COMP%]:last-child, li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   .user-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child, li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]:last-child{margin-bottom:0}.cdk-drag-preview[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:140px}.cdk-drag-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center;text-transform:uppercase}.cdk-drag-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child, li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{grid-column-gap:20px}.cdk-drag-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%], li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child   img[_ngcontent-%COMP%]{width:25px;border-radius:5px}.cdk-drag-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child, li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{grid-column-gap:5px}.cdk-drag-preview[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%], li.cdk-drag.example-box.cdk-drag-placeholder[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child   span[_ngcontent-%COMP%]{color:#ff7b05;background-color:#fff80b;border-radius:50%;border:3px solid;font-size:8px;width:24px;height:24px;display:flex;justify-content:center;align-items:center;font-weight:600}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .example-box[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}@media screen and (max-width:1199px) and (min-width:992px){.group-container__body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:12px}}@media screen and (max-width:991px) and (min-width:768px){.group-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%}.group-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #b4002b;padding-bottom:10px}.group-container[_ngcontent-%COMP%]{grid-template-columns:auto}.group-container__side[_ngcontent-%COMP%]{margin-bottom:15px}}@media screen and (max-width:767px) and (min-width:577px){.group-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%}.group-info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #b4002b;padding-bottom:10px}.group-container[_ngcontent-%COMP%]{grid-template-columns:auto}.group-container__side[_ngcontent-%COMP%]{margin-bottom:15px}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{display:grid;justify-content:space-between;grid-template-columns:auto auto auto;grid-gap:15px 0}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.group-container__body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto}}@media screen and (max-width:576px){h1[_ngcontent-%COMP%]{margin-top:0}.group-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%}.group-info[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-bottom:1px solid #b4002b;padding-bottom:10px;grid-template-columns:auto}.group-container[_ngcontent-%COMP%]{grid-template-columns:100%}.group-container__side[_ngcontent-%COMP%]{margin-bottom:15px;padding:12px}.group-container__body[_ngcontent-%COMP%]{padding:12px}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%]{display:grid;justify-content:space-between;grid-template-columns:auto auto;grid-gap:15px 0}.group-container__body[_ngcontent-%COMP%]   .group-header[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.group-container__body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:grid;grid-template-columns:100%}.group-container__body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex-wrap:wrap;grid-gap:10px 15px;justify-content:center}.group-container__body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex-wrap:wrap;grid-gap:10px 0;justify-content:center}}"]}),e})();var _t=n("BWbo");class wt{}var Qt=n("QmJQ"),St=n("J7/z"),It=n("dJ3e");let xt=(()=>{class e{constructor(e){this.http=e,this.prefix="GroupCondition"}GetGroupConditions(){return this.http.get(`${Qe.a}/${this.prefix}/GetAll?PageNumber=1&PageSize=999`)}GetGroupConditionsByPages(e,t){return this.http.get(`${Qe.a}/${this.prefix}/GetAll?PageNumber=${e}&PageSize=${t}`)}GetGroupConditionById(e){return this.http.get(`${Qe.a}/${this.prefix}/GetById?id=${e}`)}addGroupCondition(e){return this.http.post(`${Qe.a}/${this.prefix}/Create`,e)}editGroupCondition(e){return this.http.put(`${Qe.a}/${this.prefix}/update/?id=${e.id}`,e)}deleteGroupCondition(e){return this.http.delete(`${Qe.a}/${this.prefix}/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(a.Ub(Se.b))},e.\u0275prov=a.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Dt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"div"),a.Qb(1,"div",26),a.Qb(2,"div"),a.Lb(3,"p-dropdown",27),a.Lb(4,"input",28),a.Qb(5,"button",29),a.Xb("click",function(){a.yc(e);const n=t.index,i=a.bc().index;return a.bc(2).deletePromoCodePlanCombinations(i,n)}),a.Lb(6,"i",30),a.Pb(),a.Pb(),a.Pb(),a.Qb(7,"button",31),a.Xb("click",function(){a.yc(e);const t=a.bc().index;return a.bc(2).deletePromoCodePlan(t)}),a.Lb(8,"i",30),a.Hc(9," Remove Plan "),a.Pb(),a.Pb()}if(2&e){const e=t.index,n=a.bc(3);a.yb(1),a.ic("formArrayName",e),a.yb(2),a.ic("options",n.promoCodeOptions)("filter",!1)("showClear",!0)}}function Tt(e,t){if(1&e){const e=a.Rb();a.Ob(0),a.Qb(1,"div",24),a.Qb(2,"div"),a.Hc(3),a.Pb(),a.Qb(4,"div"),a.Fc(5,Dt,10,4,"div",23),a.Pb(),a.Qb(6,"button",25),a.Xb("click",function(){a.yc(e);const n=t.index;return a.bc(2).addPromoCodePlanCombinations(n)}),a.Lb(7,"i",17),a.Pb(),a.Pb(),a.Nb()}if(2&e){const e=t.index,n=a.bc(2);a.yb(1),a.ic("formArrayName",e),a.yb(2),a.Jc("plan ",e+1,""),a.yb(2),a.ic("ngForOf",n.getPromoCodePlanCombinations(e).controls)}}function Mt(e,t){if(1&e&&(a.Qb(0,"div",22),a.Fc(1,Tt,8,3,"ng-container",23),a.Pb()),2&e){const e=a.bc();a.yb(1),a.ic("ngForOf",e.getPromoCodePlans().controls)}}function Ot(e,t){1&e&&(a.Qb(0,"button",32),a.Hc(1," Create "),a.Pb())}function Ft(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",33),a.Xb("click",function(){return a.yc(e),a.bc().saveEdit()}),a.Hc(1," Edit "),a.Pb()}}let Lt=(()=>{class e{constructor(e,t,n,i,o,s,r){this.promoCodeApiService=e,this.ref=t,this.config=n,this.alertService=i,this.groupConditionSrvc=o,this.promoCodeApiSrvc=s,this.fb=r,this.editMode=!1,this.GroupCondition=new wt,this.promoCodeOptions=[]}ngOnInit(){this.getAllPromoCodes();let e=this.config.data.id;this.addGroupConditionForm=this.createFormItem("init"),e?this.getGroupConditionById(e):this.addPromoCodePlan()}getGroupConditionById(e){this.groupConditionSrvc.GetGroupConditionById(e).subscribe(e=>{this.GroupCondition=e.data,this.editGroupCondition()})}close(e=!1){this.ref.close(e)}getAllPromoCodes(){this.promoCodeApiSrvc.getAllPromoCodes(1,999).subscribe(e=>{const t=e.data.map(e=>({label:e.value+"%",value:Number(e.id)}));this.promoCodeOptions=t})}saveEdit(){if(this.addGroupConditionForm.invalid)return this.addGroupConditionForm.markAllAsTouched(),this.alertService.newAlert("error","Please complete all the required fields");let e=JSON.parse(JSON.stringify(this.addGroupConditionForm.value));e.id=this.GroupCondition.id,this.groupConditionSrvc.editGroupCondition(e).subscribe(e=>{this.alertService.newAlert("success","Added successfully"),this.close(!0)})}editGroupCondition(){this.GroupCondition.promoCodes.forEach((e,t)=>{this.addPromoCodePlan(),e.forEach((e,n)=>{0!=n&&this.addPromoCodePlanCombinations(t)})}),this.addGroupConditionForm.patchValue({status:this.GroupCondition.status,name:this.GroupCondition.name,numberOfSlots:this.GroupCondition.numberOfSlots,numberOfSlotsWithPlacementTest:this.GroupCondition.numberOfSlotsWithPlacementTest,promoCodes:this.GroupCondition.promoCodes})}onSubmit(){if(this.addGroupConditionForm.invalid)return this.addGroupConditionForm.markAllAsTouched(),this.alertService.newAlert("error","Please complete all the required fields");this.groupConditionSrvc.addGroupCondition(this.addGroupConditionForm.value).subscribe(e=>{this.alertService.newAlert("success","Added successfully"),this.close(!0)})}createFormItem(e){let t;switch(e){case"init":t=this.fb.group({status:0,name:["",Me.x.required],numberOfSlots:["",Me.x.required],numberOfSlotsWithPlacementTest:["",Me.x.required],promoCodes:this.fb.array([])});break;case"promoCodePlan":t=this.fb.array([this.createFormItem("promoCodeCombination")]);break;case"promoCodeCombination":t=this.fb.group({promoCodeId:"",count:""})}return t}getPromoCodePlans(){return this.addGroupConditionForm.get("promoCodes")}addPromoCodePlan(){this.getPromoCodePlans().push(this.createFormItem("promoCodePlan"))}deletePromoCodePlan(e){this.getPromoCodePlans().removeAt(e)}getPromoCodePlanCombinations(e){return this.getPromoCodePlans().at(e)}addPromoCodePlanCombinations(e){this.getPromoCodePlanCombinations(e).push(this.createFormItem("promoCodeCombination"))}deletePromoCodePlanCombinations(e,t){this.getPromoCodePlanCombinations(e).removeAt(t)}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(Qt.a),a.Kb(St.d),a.Kb(St.b),a.Kb(It.a),a.Kb(xt),a.Kb(Qt.a),a.Kb(Me.e))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-create-or-edit-group-condition"]],features:[a.xb([Qt.a])],decls:36,vars:4,consts:[[1,"container","pb-5"],[1,"page-title"],[1,"text-primary","font-weight-bold"],[1,"mb-4"],[1,"row","align-items-center"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-between"],[1,"d-flex","flex-column","form-group","w-50"],[1,"col"],["autocomplete","off","type","text","pInputText","","id","name","name","name","formControlName","name","autofocus","","placeholder","Group Name",1,"form-control","adler-form-control"],["autocomplete","off","type","number","pInputText","","id","numberOfSlots","formControlName","numberOfSlots","placeholder","group slots No. ",1,"form-control","adler-form-control"],["autocomplete","off","type","number","id","numberOfSlotsWithPlacementTest","formControlName","numberOfSlotsWithPlacementTest","placeholder","Each group placement tests No.",1,"form-control","adler-form-control"],[1,"createImg","d-flex"],["src","../../../../assets/images/Group 3348.svg"],["class","row promoCodePlan","formArrayName","promoCodes",4,"ngIf"],["type","button",1,"addAnotherPlan","btn",3,"click"],[1,"pi","pi-plus"],[1,"formbtns","pt-3"],["type","button",1,"btn","mr-3","rounded-pill","btn-outline-secondary",3,"click"],["type","submit","class","btn adler-btn px-5 rounded-pill",4,"ngIf"],["type","button","class","btn adler-btn px-5 rounded-pill",3,"click",4,"ngIf"],["formArrayName","promoCodes",1,"row","promoCodePlan"],[4,"ngFor","ngForOf"],[1,"promoCodePlan__row",3,"formArrayName"],["type","button",1,"addAnotherInstance","btn",3,"click"],[3,"formArrayName"],["filterBy","label","optionLabel","label","placeholder","Qty","formControlName","promoCodeId",3,"options","filter","showClear"],["autocomplete","off","type","number","pInputText","","id","No.","formControlName","count","placeholder","No.",1,"form-control","adler-form-control"],["type","button",1,"deleteInstance","btn",3,"click"],[1,"pi","pi-minus"],["type","button",1,"removePlan","btn",3,"click"],["type","submit",1,"btn","adler-btn","px-5","rounded-pill"],["type","button",1,"btn","adler-btn","px-5","rounded-pill",3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"h4",2),a.Hc(3,"Create Group Condition"),a.Pb(),a.Qb(4,"h5",3),a.Hc(5,"Please Fill the following form"),a.Pb(),a.Pb(),a.Qb(6,"div",4),a.Qb(7,"div",5),a.Qb(8,"form",6),a.Xb("ngSubmit",function(){return t.onSubmit()}),a.Qb(9,"div",7),a.Qb(10,"div",8),a.Qb(11,"div",9),a.Qb(12,"label"),a.Hc(13,"Group Condition Name"),a.Pb(),a.Lb(14,"input",10),a.Pb(),a.Qb(15,"div",9),a.Qb(16,"label"),a.Hc(17,"group slots No."),a.Pb(),a.Lb(18,"input",11),a.Pb(),a.Qb(19,"div",9),a.Qb(20,"label"),a.Hc(21,"Each group placement tests No."),a.Pb(),a.Lb(22,"input",12),a.Pb(),a.Pb(),a.Qb(23,"div",13),a.Lb(24,"img",14),a.Pb(),a.Pb(),a.Qb(25,"h5",3),a.Hc(26,"Promo code Combinations"),a.Pb(),a.Fc(27,Mt,2,1,"div",15),a.Qb(28,"button",16),a.Xb("click",function(){return t.addPromoCodePlan()}),a.Lb(29,"i",17),a.Hc(30," Add Another Plan "),a.Pb(),a.Qb(31,"div",18),a.Qb(32,"button",19),a.Xb("click",function(){return t.close()}),a.Hc(33," Cancel "),a.Pb(),a.Fc(34,Ot,2,0,"button",20),a.Fc(35,Ft,2,0,"button",21),a.Pb(),a.Pb(),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(8),a.ic("formGroup",t.addGroupConditionForm),a.yb(19),a.ic("ngIf",t.getPromoCodePlans().controls.length),a.yb(7),a.ic("ngIf",!t.GroupCondition.id),a.yb(1),a.ic("ngIf",t.GroupCondition.id))},directives:[Me.y,Me.q,Me.i,Me.b,Me.p,Me.g,Me.t,i.m,Me.d,i.l,o.a],styles:[".promoCodePlan[_ngcontent-%COMP%]{position:relative}.promoCodePlan__row[_ngcontent-%COMP%]{width:29.063rem;border-radius:8px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fafafa;display:grid;grid-template-columns:55px auto;padding:15px 15px 15px 25px;color:var(--secondary);text-transform:capitalize;justify-content:space-around;position:relative;margin-bottom:20px}.promoCodePlan__row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-top:10px}.promoCodePlan__row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-of-type   div[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px 120px 20px;grid-column-gap:15px}.promoCodePlan__row[_ngcontent-%COMP%]   .addAnotherInstance[_ngcontent-%COMP%]{position:absolute;right:22px;bottom:0}.promoCodePlan__row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-image:linear-gradient(270deg,#2c3e90,#b4002b);color:#fff;padding:3px;border-radius:50%;font-size:12px}.removePlan[_ngcontent-%COMP%]{display:flex;grid-column-gap:10px;align-items:center;color:var(--gray);font-weight:400;position:absolute;right:-160px;bottom:35px}.removePlan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-image:linear-gradient(270deg,#2c3e90,#b4002b);color:#fff;padding:8px;border-radius:50%}.addAnotherPlan[_ngcontent-%COMP%]{display:flex;grid-column-gap:10px;align-items:center;color:var(--gray);font-weight:400}.addAnotherPlan[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{background-image:linear-gradient(270deg,#2c3e90,#b4002b);color:#fff;padding:8px;border-radius:50%}"]}),e})();var kt=n("XB66"),Ht=n("O9he"),At=n("rEr+"),Rt=n("6t4m");function Nt(e,t){1&e&&(a.Qb(0,"tr"),a.Qb(1,"th",11),a.Hc(2," Name "),a.Lb(3,"p-sortIcon",12),a.Pb(),a.Qb(4,"th",13),a.Hc(5," Number of slots "),a.Lb(6,"p-sortIcon",14),a.Pb(),a.Qb(7,"th",15),a.Hc(8," Number of slots with placement test "),a.Lb(9,"p-sortIcon",16),a.Pb(),a.Qb(10,"th",17),a.Hc(11," PromoCodes "),a.Pb(),a.Qb(12,"th",18),a.Hc(13,"Actions"),a.Pb(),a.Pb())}function Gt(e,t){if(1&e){const e=a.Rb();a.Qb(0,"tr"),a.Qb(1,"td"),a.Hc(2),a.Pb(),a.Qb(3,"td"),a.Hc(4),a.Pb(),a.Qb(5,"td"),a.Hc(6),a.Pb(),a.Qb(7,"td"),a.Hc(8),a.Pb(),a.Qb(9,"td"),a.Qb(10,"a",19),a.Xb("click",function(){a.yc(e);const n=t.$implicit;return a.bc().openNew(n.id)}),a.Lb(11,"span",20),a.Pb(),a.Qb(12,"a",21),a.Xb("click",function(){a.yc(e);const n=t.$implicit;return a.bc().deleteGroupCondition(n)}),a.Lb(13,"span",22),a.Pb(),a.Pb(),a.Pb()}if(2&e){const e=t.$implicit;a.yb(2),a.Ic(e.name),a.yb(2),a.Ic(e.numberOfSlots),a.yb(2),a.Ic(e.numberOfSlotsWithPlacementTest),a.yb(2),a.Ic(e.promoCodeCombination)}}function qt(e,t){if(1&e&&(a.Qb(0,"div",23),a.Hc(1),a.Pb()),2&e){const e=a.bc();a.yb(1),a.Jc(" In total there are ",e.count||0," Group. ")}}function Et(e,t){1&e&&(a.Qb(0,"tr"),a.Qb(1,"td",24),a.Qb(2,"div",25),a.Hc(3," No records found "),a.Pb(),a.Pb(),a.Pb())}const $t=function(){return["name","numberOfSlots","numberOfSlotsWithPlacementTest"]};class zt extends wt{}let Xt=(()=>{class e{constructor(e,t,n,i){this.confirmSrvc=e,this.alertSrvc=t,this.groupConditionSrvc=n,this.dynamicDialogService=i,this.promoCodeOptions=[]}ngOnInit(){this.getGroupConditions(1,10)}getGroupConditions(e,t){this.groupConditionSrvc.GetGroupConditionsByPages(e,t).subscribe(e=>{this.count=e.count,this.pageSize=e.pageSize,this.GroupConditions=[],Array.isArray(e.data)&&e.data.forEach(e=>{const t=this.mapPromoCodeCombination(e.promoCodes);let n=Object.assign(new zt,Object.assign(Object.assign({},e),{promoCodeCombination:t}));this.GroupConditions.push(n)})})}onPageChange(e){this.getGroupConditions(e.page+1,10)}mapPromoCodeCombination(e){let t="";for(const[n,i]of e.entries()){for(const[e,n]of i.entries())t+=`${n.count}*${n.promoCodeName} ${e<i.length-1?"- ":""}`;n<e.length-1&&(t+=" Or ")}return t}deleteGroupCondition(e){this.confirmSrvc.newConfirmation("Are you sure you want to delete this condition?",()=>{this.groupConditionSrvc.deleteGroupCondition(e.id).subscribe(e=>{this.getGroupConditions(1,10),this.alertSrvc.newAlert("success","Successfully Deleted")})},"Confirm")}openNew(e){this.dynamicDialogService.openModal(Lt,{width:"800px",data:{id:e}}).onClose.subscribe(e=>{e&&this.getGroupConditions(1,10)})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(kt.a),a.Kb(It.a),a.Kb(xt),a.Kb(Ht.a))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-groub-condition"]],decls:13,vars:11,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","justify-content-between","mb-5"],[1,"btn","adler-btn",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["pSortableColumn","name"],["field","name"],["pSortableColumn","numberOfSlots",2,"width","11rem"],["field","numberOfSlots"],["pSortableColumn","numberOfSlotsWithPlacementTest"],["field","numberOfSlotsWithPlacementTest"],[2,"width","26rem"],[2,"width","7rem"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"],["colspan","5"],[1,"text-center","p-5"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"div"),a.Qb(3,"button",2),a.Xb("click",function(){return t.openNew()}),a.Hc(4," Add New Group Condition "),a.Pb(),a.Pb(),a.Pb(),a.Qb(5,"div",3),a.Qb(6,"p-table",4,5),a.Xb("selectionChange",function(e){return t.selectedGroupConditions=e}),a.Fc(8,Nt,14,0,"ng-template",6),a.Fc(9,Gt,14,4,"ng-template",7),a.Fc(10,qt,2,1,"ng-template",8),a.Fc(11,Et,4,0,"ng-template",9),a.Pb(),a.Qb(12,"p-paginator",10),a.Xb("onPageChange",function(e){return t.onPageChange(e)}),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(6),a.ic("responsive",!0)("value",t.GroupConditions)("rows",10)("paginator",!1)("globalFilterFields",a.lc(10,$t))("selection",t.selectedGroupConditions)("rowHover",!0)("showCurrentPageReport",!0),a.yb(6),a.ic("rows",t.pageSize)("totalRecords",t.count))},directives:[At.d,we.i,Rt.a,At.c,At.b],styles:[".createImg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:13.214rem;height:12.197rem;object-fit:contain;opacity:.6}.addAnotherInstance[_ngcontent-%COMP%], .deleteInstance[_ngcontent-%COMP%]{width:20px;height:20px}"]}),e})();class jt{}var Bt=n("Kj3r"),Kt=n("0wBQ"),Ut=n("Wbgf"),Jt=n("v5vL"),Vt=n("0S+P"),Wt=n("MEzG"),Yt=n("/RsI"),Zt=n("hzby"),en=n("M3cK");const tn=["paginator"];function nn(e,t){1&e&&(a.Qb(0,"tr"),a.Qb(1,"th",36),a.Hc(2," Serial "),a.Lb(3,"p-sortIcon",37),a.Pb(),a.Qb(4,"th",38),a.Hc(5," Sublevel "),a.Lb(6,"p-sortIcon",39),a.Pb(),a.Qb(7,"th",40),a.Hc(8," Start date "),a.Lb(9,"p-sortIcon",41),a.Pb(),a.Qb(10,"th",42),a.Hc(11," End date "),a.Lb(12,"p-sortIcon",43),a.Pb(),a.Qb(13,"th",44),a.Hc(14," Time Slot "),a.Lb(15,"p-sortIcon",45),a.Pb(),a.Qb(16,"th",46),a.Hc(17," No Of Students "),a.Lb(18,"p-sortIcon",47),a.Pb(),a.Qb(19,"th",48),a.Hc(20," Pricing "),a.Lb(21,"p-sortIcon",49),a.Pb(),a.Qb(22,"th",50),a.Hc(23," Discount "),a.Lb(24,"p-sortIcon",51),a.Pb(),a.Qb(25,"th",52),a.Hc(26," Max instances "),a.Lb(27,"p-sortIcon",53),a.Pb(),a.Qb(28,"th",54),a.Hc(29," No Of Groups "),a.Lb(30,"p-sortIcon",55),a.Pb(),a.Qb(31,"th",56),a.Hc(32," Status "),a.Lb(33,"p-sortIcon",57),a.Pb(),a.Qb(34,"th"),a.Hc(35,"Actions"),a.Pb(),a.Pb())}function on(e,t){if(1&e){const e=a.Rb();a.Qb(0,"a",65),a.Xb("click",function(){a.yc(e);const t=a.bc().$implicit;return a.bc().editGroupDefinition(t)}),a.Lb(1,"span",66),a.Pb()}}const sn=function(e){return[e]};function rn(e,t){if(1&e&&(a.Qb(0,"a",67),a.Lb(1,"span",68),a.Pb()),2&e){const e=a.bc().$implicit;a.ic("routerLink",a.mc(1,sn,"/supervisor/groups/group-instance/"+e.id))}}function cn(e,t){if(1&e){const e=a.Rb();a.Qb(0,"a",69),a.Xb("click",function(){a.yc(e);const t=a.bc().$implicit;return a.bc().deleteGroupDefinition(t)}),a.Lb(1,"span",70),a.Pb()}}const an=function(){return{New:"status-newGroup ",running:"status-running",finished:"status-finished ",Pending:"status-Pending ",canceled:"status-canceled "}},ln=function(){return{New:"editStatus-newGroup ",running:"editStatus-running",finished:"editStatus-finished ",Pending:"editStatus-Pending ",canceled:"editStatus-canceled "}},dn=function(){return{New:"delBtn-status-newGroup ",running:"delBtn-status-running",finished:"delBtn-status-finished ",Pending:"delBtn-status-Pending ",canceled:"delBtn-status-canceled "}};function bn(e,t){if(1&e&&(a.Qb(0,"tr"),a.Qb(1,"td"),a.Hc(2),a.Pb(),a.Qb(3,"td"),a.Hc(4),a.Pb(),a.Qb(5,"td"),a.Hc(6),a.cc(7,"date"),a.Pb(),a.Qb(8,"td"),a.Hc(9),a.cc(10,"date"),a.Pb(),a.Qb(11,"td"),a.Hc(12),a.Pb(),a.Qb(13,"td"),a.Hc(14),a.Pb(),a.Qb(15,"td"),a.Hc(16),a.Pb(),a.Qb(17,"td"),a.Hc(18),a.Pb(),a.Qb(19,"td"),a.Hc(20),a.Pb(),a.Qb(21,"td"),a.Hc(22),a.Pb(),a.Qb(23,"td"),a.Qb(24,"div",58),a.Hc(25),a.Pb(),a.Pb(),a.Qb(26,"td",59),a.Qb(27,"div",60),a.Fc(28,on,2,0,"a",61),a.Fc(29,rn,2,3,"a",62),a.Pb(),a.Qb(30,"div",63),a.Fc(31,cn,2,0,"a",64),a.Pb(),a.Pb(),a.Pb()),2&e){const e=t.$implicit;a.yb(2),a.Ic(e.serial),a.yb(2),a.Ic(e.sublevel.name),a.yb(2),a.Ic(a.ec(7,17,e.startDate,"dd MMM yyyy")),a.yb(3),a.Ic(a.ec(10,20,e.endDate,"dd MMM yyyy")),a.yb(3),a.Ic(e.timeSlot.name),a.yb(2),a.Ic(e.actualTotalStudents),a.yb(2),a.Ic(e.pricing.name),a.yb(2),a.Ic(e.discount),a.yb(2),a.Ic(e.maxInstances),a.yb(2),a.Ic(e.actualTotalGroupInstances),a.yb(2),a.ic("ngClass",a.lc(23,an)[e.statusName]),a.yb(1),a.Jc(" ",e.statusName," "),a.yb(2),a.ic("ngClass",a.lc(24,ln)[e.statusName]),a.yb(1),a.ic("ngIf",4==e.status),a.yb(1),a.ic("ngIf",4!=e.status),a.yb(1),a.ic("ngClass",a.lc(25,dn)[e.statusName]),a.yb(1),a.ic("ngIf",4==e.status)}}function un(e,t){if(1&e&&(a.Qb(0,"div",71),a.Hc(1),a.Pb()),2&e){const e=a.bc();a.yb(1),a.Jc(" In total there are ",e.count||0," Group Round. ")}}function pn(e,t){}function hn(e,t){if(1&e&&(a.Qb(0,"div",72),a.Qb(1,"div"),a.Hc(2),a.Pb(),a.Pb()),2&e){const e=t.$implicit;a.yb(2),a.Ic(e.label)}}function gn(e,t){if(1&e&&(a.Qb(0,"div",72),a.Qb(1,"div"),a.Hc(2),a.Pb(),a.Pb()),2&e){const e=t.$implicit;a.yb(2),a.Ic(e.label)}}function mn(e,t){if(1&e&&(a.Qb(0,"div",72),a.Qb(1,"div"),a.Hc(2),a.Pb(),a.Pb()),2&e){const e=t.$implicit;a.yb(2),a.Ic(e.label)}}function fn(e,t){if(1&e&&(a.Qb(0,"div",72),a.Qb(1,"div"),a.Hc(2),a.Pb(),a.Pb()),2&e){const e=t.$implicit;a.yb(2),a.Ic(e.label)}}const Pn=function(){return{dateInputFormat:"DD/MM/YYYY"}};function vn(e,t){1&e&&(a.Qb(0,"div",73),a.Qb(1,"div",74),a.Qb(2,"div",26),a.Qb(3,"label"),a.Hc(4,"Final test date & time"),a.Pb(),a.Lb(5,"input",75),a.Pb(),a.Qb(6,"div",26),a.Lb(7,"timepicker",76),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(5),a.ic("bsConfig",a.lc(6,Pn)),a.yb(2),a.ic("arrowkeys",!0)("showMeridian",!1)("mousewheel",!0)("hourStep",1)("minuteStep",1))}function yn(e,t){1&e&&(a.Qb(0,"button",77),a.Hc(1," Save "),a.Pb())}function Cn(e,t){if(1&e){const e=a.Rb();a.Qb(0,"button",78),a.Xb("click",function(){return a.yc(e),a.bc().saveEdit()}),a.Hc(1," Edit "),a.Pb()}}const _n=function(){return["startDate","endDate","finalTestDate","timeSlot","noOfStudents","pricing","discount","maxInstances","noOfGroups","status"]},wn=function(){return{width:"650px"}},Qn=function(){return{dateInputFormat:"DD/MM/YYYY",adaptivePosition:!0,selectFromOtherMonth:!0,startView:"year"}};let Sn=(()=>{class e{constructor(e,t,n,i,o,s,r,c){this.formBuilder=e,this.confirmSrvc=t,this.alertSrvc=n,this.groupDefinitionSrvc=i,this.subLevelService=o,this.timeSlotService=s,this.pricesService=r,this.groupConditionService=c,this.editMode=!1,this.showFinalTestDate=!1,this.statusList=[],this.selectedStatuses=[],this.filterByStatus=new u.a,this.filterByStatus$=this.filterByStatus.asObservable(),this.applyFilterByStatus=(e=!0)=>{this.filterByStatus.next(e)}}ngOnInit(){this.initAddGroupDefinitionForm(),this.getGroupDefinitions(1,10),this.getDropdownMenusData(),this.defineStatusOptions(),this.subscibeToStatusFilter()}subscibeToStatusFilter(){this.filterByStatus$.pipe(Object(Bt.a)(1500)).subscribe(e=>{e&&this.getGroupDefinitions(1,10)})}initAddGroupDefinitionForm(){this.addGroupDefinitionForm=this.formBuilder.group({subLevelId:null,timeSlotId:0,pricingId:0,groupConditionId:0,discount:0,startDate:null,endDate:null,finalTestDate:this.formBuilder.group({date:null,time:null}),maxInstances:null})}onSubmit(){if(this.addGroupDefinitionForm.invalid)return this.addGroupDefinitionForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");const e=JSON.parse(JSON.stringify(this.addGroupDefinitionForm.value));this.showFinalTestDate?e.finalTestDate=this.adjustFinalTestDate(e.finalTestDate):delete e.finalTestDate,this.removeNulls(e),this.groupDefinitionSrvc.addGroupDefinition(e).subscribe(e=>{this.alertSrvc.newAlert("success","Group round added successfully"),this.addGroupDefinitionForm.reset(),this.paginator.changePage(0),this.hideDialog()})}openNew(){this.submitted=!1,this.groupDefinitionDialog=!0}getGroupDefinitions(e,t){this.groupDefinitionSrvc.getAllGroupDefinitionsByPages(e,t,this.sublevelName,this.selectedStatuses).subscribe(e=>{this.count=e.count,this.pageSize=e.pageSize,this.groupDefinitions=e.data,this.groupDefinitions=this.groupDefinitions.map(e=>(4==e.status?e.statusName="New":1==e.status?e.statusName="Running":2==e.status?e.statusName="Finished":0==e.status?e.statusName="Pending":3==e.status&&(e.statusName="Canceled"),e))})}defineStatusOptions(){this.statusList=[{label:"Pending",value:0},{label:"Running",value:1},{label:"Finished",value:2},{label:"Canceled",value:3},{label:"New",value:4}]}triggerFinalTestDate(e){let t=this.sublevels.filter(t=>t.id==e.value)[0];t&&(this.showFinalTestDate=t.isFinal),this.addGroupDefinitionForm.controls.finalTestDate.reset()}onPageChange(e){this.getGroupDefinitions(e.page+1,10)}editGroupDefinition(e){this.editMode=!0,this.groupDefinitionID=e.id,this.groupDefinitionDialog=!0,this.groupDefinition=e;var t=null;e.sublevel.isFinal&&(t=e.finalTestDate?new Date(Date.parse(e.finalTestDate+".000Z")):null,this.showFinalTestDate=!0);const n=new Date(Date.parse(e.startDate+".000Z")),i=new Date(Date.parse(e.endDate+".000Z"));this.addGroupDefinitionForm.patchValue({subLevelId:e.subLevelId,timeSlotId:e.timeSlotId,pricingId:e.pricingId,groupConditionId:e.groupConditionId,discount:e.discount,startDate:n,endDate:i,finalTestDate:{date:t,time:t},maxInstances:e.maxInstances})}adjustFinalTestDate(e){let t=new Date(Date.parse(e.date)),n=new Date(Date.parse(e.time)).getHours(),i=new Date(Date.parse(e.time)).getMinutes();return t.setHours(n,i),t.toISOString()}saveEdit(){if(this.addGroupDefinitionForm.invalid)return this.addGroupDefinitionForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");let e=JSON.parse(JSON.stringify(this.addGroupDefinitionForm.value));this.showFinalTestDate?e.finalTestDate=this.adjustFinalTestDate(e.finalTestDate):delete e.finalTestDate,e.id=this.groupDefinitionID,this.removeNulls(e),this.groupDefinitionSrvc.editGroupDefinition(e).subscribe(e=>{this.alertSrvc.newAlert("success","Edit successfully"),this.paginator.changePage(0)}),this.hideDialog()}deleteGroupDefinition(e){this.confirmSrvc.newConfirmation("Are you sure you want to delete this group round ?",()=>{this.groupDefinitionSrvc.deleteGroupDefinition(e.id).subscribe(e=>{this.paginator.changePage(0),this.alertSrvc.newAlert("success","Successfully Deleted")})},"Confirm")}hideDialog(){this.addGroupDefinitionForm.reset(),this.groupDefinitionDialog=!1,this.submitted=!1,this.editMode=!1,this.groupDefinition=new jt,this.showFinalTestDate=!1}getDropdownMenusData(){this.getAllSublevels(),this.getAllTimeSlots(),this.getAllPrices(),this.getAllGroupConditions()}getAllSublevels(){this.subLevelService.getAllSubLevels().subscribe(e=>{this.sublevels=e,this.sublevelListWithIdAsValue=[],this.sublevelListWithNameAsValue=[];for(let t=0;t<this.sublevels.length;t++){let e=this.sublevels[t].name,n=this.sublevels[t].id;this.sublevelListWithNameAsValue.push({label:e,value:e}),this.sublevelListWithIdAsValue.push({label:e,value:n})}})}getAllTimeSlots(){this.timeSlotService.getAllSlots().subscribe(e=>{this.timeSlots=e.data,this.timeSlotList=[];for(let t=0;t<this.timeSlots.length;t++)this.timeSlotList.push({label:this.timeSlots.map(e=>e.name)[t],value:this.timeSlots.map(e=>e.id)[t]})})}getAllPrices(){this.pricesService.getAllPrices().subscribe(e=>{this.prices=e.data,this.pricingList=[];for(let t=0;t<this.prices.length;t++)this.pricingList.push({label:this.prices.map(e=>e.name)[t],value:this.prices.map(e=>e.id)[t]})})}getAllGroupConditions(e){this.groupConditionService.GetGroupConditions().subscribe(e=>{this.groupConditions=e.data,this.groupConditionList=[];for(let t=0;t<this.groupConditions.length;t++)this.groupConditionList.push({label:this.groupConditions.map(e=>e.name)[t],value:this.groupConditions.map(e=>e.id)[t]})})}filter(e,t){this.getGroupDefinitions(1,10)}removeNulls(e){Object.keys(e).forEach(t=>{null===e[t]&&delete e[t]})}}return e.\u0275fac=function(t){return new(t||e)(a.Kb(Me.e),a.Kb(kt.a),a.Kb(It.a),a.Kb(Kt.a),a.Kb(Ut.a),a.Kb(Jt.a),a.Kb(Vt.a),a.Kb(xt))},e.\u0275cmp=a.Eb({type:e,selectors:[["app-group-definition"]],viewQuery:function(e,t){var n;1&e&&a.Lc(tn,!0),2&e&&a.uc(n=a.Yb())&&(t.paginator=n.first)},decls:65,vars:43,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","justify-content-between","mb-5"],[1,"d-flex"],["placeholder","Select Sublevel",3,"options","ngModel","showClear","ngModelChange","onChange"],[1,"ml-4","status-multi-select"],["placeholder","Select status","name","status",3,"options","ngModel","showToggleAll","onChange","ngModelChange"],[1,"btn","adler-btn-sm","pl-4","pr-4",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["paginator",""],["header","Group Round Details","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"row","form-group"],[1,"col-lg-6","col-12","mb-4"],["filterBy","label","placeholder","Select sub level","formControlName","subLevelId",3,"options","filter","showClear","onChange"],["pTemplate","selectedItem"],["filterBy","label","placeholder","Select time slot","formControlName","timeSlotId",3,"options","filter","showClear","ngModel","ngModelChange"],["filterBy","label","placeholder","Select price","formControlName","pricingId",3,"options","filter","showClear"],["filterBy","label","placeholder","Select group","formControlName","groupConditionId",3,"options","filter","showClear"],[1,"col-lg-6","col-12","mb-2"],["autocomplete","off","type","number","pInputText","","id","discount","name","discount","formControlName","discount","autocomplete","off","placeholder","discount",1,"form-control","adler-form-control"],["autocomplete","off","type","number","pInputText","","autocomplete","off","id","maxInstances","formControlName","maxInstances","placeholder","Max Instances",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","startDate","formControlName","startDate","placeholder","Start date ","bsDatepicker","",1,"form-control","adler-form-control",3,"bsConfig"],["autocomplete","off","type","text","pInputText","","id","endDate","formControlName","endDate","placeholder","End date ","bsDatepicker","","autocomplete","off",1,"form-control","adler-form-control",3,"bsConfig"],["class","col-12","formGroupName","finalTestDate",4,"ngIf"],[1,"formbtns","pt-3"],["type","button",1,"btn","mr-3","px-5","rounded-pill","btn-outline-secondary",3,"click"],["type","submit","class","btn adler-btn px-5 rounded-pill",4,"ngIf"],["type","button","class","btn adler-btn px-5 rounded-pill",3,"click",4,"ngIf"],["pSortableColumn","serial","width","10%"],["field","serial"],["pSortableColumn","sublevel"],["field","sublevel"],["pSortableColumn","startDate"],["field","startDate"],["pSortableColumn","endDate"],["field","endDate"],["pSortableColumn","timeSlot"],["field","timeSlot"],["pSortableColumn","noOfStudents"],["field","noOfStudents"],["pSortableColumn","pricing"],["field","pricing"],["pSortableColumn","discount"],["field","discount"],["pSortableColumn","maxInstances"],["field","maxInstances"],["pSortableColumn","noOfGroups"],["field","noOfGroups"],["pSortableColumn","status",2,"width","7rem"],["field","status"],[1,"border","border-1","text-center","rounded-pill",3,"ngClass"],[1,"actionBtns"],[1,"edit-display",3,"ngClass"],["title","grouping","class","mr-2 mr-3 ",3,"click",4,"ngIf"],["class","mr-2 mr-3 ",3,"routerLink",4,"ngIf"],[1,"delBtn",3,"ngClass"],["class","mr-2 mr-3",3,"click",4,"ngIf"],["title","grouping",1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],[1,"mr-2","mr-3",3,"routerLink"],[1,"p-button-icon","pi","pi-users","font-weight-bold"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"student-item","student-item-label"],["formGroupName","finalTestDate",1,"col-12"],[1,"row"],["autocomplete","off","type","text","pInputText","","id","finalTestDate","formControlName","date","placeholder","Final test date ","bsDatepicker","","autocomplete","off",1,"form-control","adler-form-control",3,"bsConfig"],["formControlName","time",3,"arrowkeys","showMeridian","mousewheel","hourStep","minuteStep"],["type","submit",1,"btn","adler-btn","px-5","rounded-pill"],["type","button",1,"btn","adler-btn","px-5","rounded-pill",3,"click"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Qb(3,"p-dropdown",3),a.Xb("ngModelChange",function(e){return t.sublevelName=e})("onChange",function(e){return t.filter(e)}),a.Pb(),a.Qb(4,"div",4),a.Qb(5,"p-multiSelect",5),a.Xb("onChange",function(){return t.applyFilterByStatus()})("ngModelChange",function(e){return t.selectedStatuses=e}),a.Pb(),a.Pb(),a.Pb(),a.Qb(6,"div"),a.Qb(7,"button",6),a.Xb("click",function(){return t.openNew()}),a.Hc(8," Add New Group Round "),a.Pb(),a.Pb(),a.Pb(),a.Qb(9,"div",7),a.Qb(10,"p-table",8,9),a.Xb("selectionChange",function(e){return t.selectedGroupDefinitions=e}),a.Fc(12,nn,36,0,"ng-template",10),a.Fc(13,bn,32,26,"ng-template",11),a.Fc(14,un,2,1,"ng-template",12),a.Fc(15,pn,0,0,"ng-template",13),a.Pb(),a.Qb(16,"p-paginator",14,15),a.Xb("onPageChange",function(e){return t.onPageChange(e)}),a.Pb(),a.Pb(),a.Pb(),a.Qb(18,"p-dialog",16),a.Xb("visibleChange",function(e){return t.groupDefinitionDialog=e})("onHide",function(){return t.hideDialog()}),a.Qb(19,"h5",17),a.Hc(20,"Please Fill the following form"),a.Pb(),a.Qb(21,"form",18),a.Xb("ngSubmit",function(){return t.onSubmit()}),a.Qb(22,"div",19),a.Qb(23,"div",20),a.Qb(24,"label"),a.Hc(25,"Select sub level"),a.Pb(),a.Qb(26,"p-dropdown",21),a.Xb("onChange",function(e){return t.triggerFinalTestDate(e)}),a.Fc(27,hn,3,1,"ng-template",22),a.Pb(),a.Pb(),a.Qb(28,"div",20),a.Qb(29,"label"),a.Hc(30,"Select time slot"),a.Pb(),a.Qb(31,"p-dropdown",23),a.Xb("ngModelChange",function(e){return t.addGroupDefinitionForm.value.timeSlotId=e}),a.Fc(32,gn,3,1,"ng-template",22),a.Pb(),a.Pb(),a.Qb(33,"div",20),a.Qb(34,"label"),a.Hc(35,"Select price"),a.Pb(),a.Qb(36,"p-dropdown",24),a.Fc(37,mn,3,1,"ng-template",22),a.Pb(),a.Pb(),a.Qb(38,"div",20),a.Qb(39,"label"),a.Hc(40,"Select group"),a.Pb(),a.Qb(41,"p-dropdown",25),a.Fc(42,fn,3,1,"ng-template",22),a.Pb(),a.Pb(),a.Qb(43,"div",26),a.Qb(44,"label"),a.Hc(45,"Discount"),a.Pb(),a.Lb(46,"input",27),a.Pb(),a.Qb(47,"div",26),a.Qb(48,"label"),a.Hc(49,"Max Instances"),a.Pb(),a.Lb(50,"input",28),a.Pb(),a.Qb(51,"div",26),a.Qb(52,"label"),a.Hc(53,"Start date"),a.Pb(),a.Lb(54,"input",29),a.Pb(),a.Qb(55,"div",26),a.Qb(56,"label"),a.Hc(57,"End date"),a.Pb(),a.Lb(58,"input",30),a.Pb(),a.Fc(59,vn,8,7,"div",31),a.Pb(),a.Qb(60,"div",32),a.Qb(61,"button",33),a.Xb("click",function(){return t.hideDialog()}),a.Hc(62," Cancel "),a.Pb(),a.Fc(63,yn,2,0,"button",34),a.Fc(64,Cn,2,0,"button",35),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(3),a.ic("options",t.sublevelListWithNameAsValue)("ngModel",t.sublevelName)("showClear",!0),a.yb(2),a.ic("options",t.statusList)("ngModel",t.selectedStatuses)("showToggleAll",!0),a.yb(5),a.ic("responsive",!0)("value",t.groupDefinitions)("rows",10)("paginator",!1)("globalFilterFields",a.lc(39,_n))("selection",t.selectedGroupDefinitions)("rowHover",!0)("showCurrentPageReport",!0),a.yb(6),a.ic("rows",t.pageSize)("totalRecords",t.count),a.yb(2),a.Dc(a.lc(40,wn)),a.ic("visible",t.groupDefinitionDialog)("modal",!0),a.yb(3),a.ic("formGroup",t.addGroupDefinitionForm),a.yb(5),a.ic("options",t.sublevelListWithIdAsValue)("filter",!0)("showClear",!0),a.yb(5),a.ic("options",t.timeSlotList)("filter",!0)("showClear",!0)("ngModel",t.addGroupDefinitionForm.value.timeSlotId),a.yb(5),a.ic("options",t.pricingList)("filter",!0)("showClear",!0),a.yb(5),a.ic("options",t.groupConditionList)("filter",!0)("showClear",!0),a.yb(13),a.ic("bsConfig",a.lc(41,Qn)),a.yb(4),a.ic("bsConfig",a.lc(42,Qn)),a.yb(1),a.ic("ngIf",t.showFinalTestDate),a.yb(4),a.ic("ngIf",!t.editMode),a.yb(1),a.ic("ngIf",t.editMode))},directives:[o.a,Me.p,Me.s,Wt.a,At.d,we.i,Rt.a,Yt.a,Me.y,Me.q,Me.i,Me.g,Me.t,Me.b,Zt.b,Zt.a,i.m,At.c,At.b,i.k,_e.f,Me.j,en.a],pipes:[i.f],styles:[".custom-filter-row[_ngcontent-%COMP%]{padding:.5rem}.status-newGroup[_ngcontent-%COMP%]{background-color:#fff}.status-newGroup[_ngcontent-%COMP%], .status-running[_ngcontent-%COMP%]{border-color:#2c3e90!important;color:#2c3e90}.status-running[_ngcontent-%COMP%]{background-color:#556eb1}.status-finished[_ngcontent-%COMP%]{border-color:#207a04!important;background-color:rgba(50,213,9,.55);color:#207a04}.status-Pending[_ngcontent-%COMP%]{background-color:rgba(217,166,0,.33);border-color:#d9a600!important;color:#8a6900}.status-canceled[_ngcontent-%COMP%]{background-color:#f79090!important;border-color:#f33!important;color:#f33}"]}),e})(),In=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-groups"]],decls:2,vars:0,consts:[[1,"container","mb-5"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Lb(1,"router-outlet"),a.Pb())},directives:[_e.h],styles:[".p-dialog-title[_ngcontent-%COMP%]{color:#b4002b}"]}),e})();const xn=function(){return["/supervisor/level"]};function Dn(e,t){1&e&&(a.Qb(0,"div",1),a.Qb(1,"div",2),a.Lb(2,"img",11),a.Pb(),a.Qb(3,"span",4),a.Hc(4,"Levels"),a.Pb(),a.Pb()),2&e&&a.ic("routerLink",a.lc(1,xn))}const Tn=function(){return["group-condition"]},Mn=function(){return["group-definition"]},On=function(){return["time-slots"]},Fn=function(){return["price"]},Ln=function(){return["/supervisor/promocode"]},kn=function(){return["/supervisor/sub-level"]};let Hn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Eb({type:e,selectors:[["app-intro"]],decls:32,vars:13,consts:[[1,"groups-elements"],[1,"col","element","pb-3","m-2","text-center",3,"routerLink"],[1,"icon","my-4","pb-2"],["src","../../../../assets/images/icons/group.svg"],[1,"text-secondary","font-weight-bold"],["src","../../../../assets/images/icons/network.svg"],["src","../../../../assets/images/icons/calendar.svg"],["src","../../../../assets/images/icons/tag.svg"],["src","../../../../assets/images/icons/coupon.svg"],["class","col element pb-3 m-2 text-center",3,"routerLink",4,"ngIf"],[1,"fa-4x","fa-layer-group","fas","text-secondary"],["src","../../../../assets/images/icons/block-user.svg"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Qb(1,"div",1),a.Qb(2,"div",2),a.Lb(3,"img",3),a.Pb(),a.Qb(4,"span",4),a.Hc(5,"Group Conditions"),a.Pb(),a.Pb(),a.Qb(6,"div",1),a.Qb(7,"div",2),a.Lb(8,"img",5),a.Pb(),a.Qb(9,"span",4),a.Hc(10,"Groups Rounds"),a.Pb(),a.Pb(),a.Qb(11,"div",1),a.Qb(12,"div",2),a.Lb(13,"img",6),a.Pb(),a.Qb(14,"span",4),a.Hc(15,"Time Slots"),a.Pb(),a.Pb(),a.Qb(16,"div",1),a.Qb(17,"div",2),a.Lb(18,"img",7),a.Pb(),a.Qb(19,"span",4),a.Hc(20,"Pricing"),a.Pb(),a.Pb(),a.Qb(21,"div",1),a.Qb(22,"div",2),a.Lb(23,"img",8),a.Pb(),a.Qb(24,"span",4),a.Hc(25,"Promo code"),a.Pb(),a.Pb(),a.Fc(26,Dn,5,2,"div",9),a.Qb(27,"div",1),a.Qb(28,"div",2),a.Lb(29,"i",10),a.Pb(),a.Qb(30,"span",4),a.Hc(31,"Sub-level"),a.Pb(),a.Pb(),a.Pb()),2&e&&(a.yb(1),a.ic("routerLink",a.lc(7,Tn)),a.yb(5),a.ic("routerLink",a.lc(8,Mn)),a.yb(5),a.ic("routerLink",a.lc(9,On)),a.yb(5),a.ic("routerLink",a.lc(10,Fn)),a.yb(5),a.ic("routerLink",a.lc(11,Ln)),a.yb(5),a.ic("ngIf",!1),a.yb(1),a.ic("routerLink",a.lc(12,kn)))},directives:[_e.d,i.m],styles:[".groups-elements[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:0 14px;margin:88px 0}.groups-elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fbfbfd;cursor:pointer;transition:.15s ease-in-out}.groups-elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}"]}),e})();var An=n("d78T");const Rn=[{path:"",component:In,children:[{path:"",component:Hn},{path:"group-definition",component:Sn},{path:"group-instance/:id",component:Ct},{path:"group-condition",component:Xt},{path:"ban-requests",component:_t.a},{path:"disqualification-requests",component:An.a},{path:"time-slots",component:r.a},{path:"price",component:s.a}]}];let Nn=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[_e.g.forChild(Rn)],_e.g]}),e})();n("R0Ic");let Gn=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[i.c],we.j]}),e})();var qn=n("xlun"),En=n("Q4Mo");n("YyRF");let $n=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[i.c,we.j,qn.b,En.b],we.j]}),e})();var zn=n("PCNd");let Xn=(()=>{class e{}return e.\u0275mod=a.Ib({type:e}),e.\u0275inj=a.Hb({factory:function(t){return new(t||e)},imports:[[i.c,Nn,Ce,Gn,Oe.c,$n,zn.a,o.b]]}),e})()},BWbo:function(e,t,n){"use strict";n.d(t,"a",function(){return Q});var i=n("nbpP"),o=n("fXoL"),s=n("3Pt+"),r=n("JdUQ"),c=n("XB66"),a=n("BtPN"),l=n("Widq"),d=n("rEr+"),b=n("7zfz"),u=n("6t4m"),p=n("/RsI"),h=n("ofXK"),g=n("QGev");function m(e,t){1&e&&(o.Qb(0,"tr"),o.Qb(1,"th",24),o.Hc(2," Student Name "),o.Lb(3,"p-sortIcon",25),o.Pb(),o.Qb(4,"th",26),o.Hc(5," Student Email "),o.Lb(6,"p-sortIcon",27),o.Pb(),o.Qb(7,"th",28),o.Hc(8," Reason "),o.Lb(9,"p-sortIcon",29),o.Pb(),o.Qb(10,"th",30),o.Hc(11,"Actions"),o.Pb(),o.Pb())}function f(e,t){if(1&e){const e=o.Rb();o.Qb(0,"tr"),o.Qb(1,"td"),o.Hc(2),o.Pb(),o.Qb(3,"td"),o.Hc(4),o.Pb(),o.Qb(5,"td"),o.Hc(6),o.Pb(),o.Qb(7,"td"),o.Qb(8,"a",31),o.Xb("click",function(){o.yc(e);const n=t.$implicit;return o.bc().showModal(n)}),o.Lb(9,"span",32),o.Pb(),o.Qb(10,"a",33),o.Xb("click",function(){o.yc(e);const n=t.$implicit,i=o.bc();return i.showModal(n),i.rejectMode=!0}),o.Lb(11,"span",34),o.Pb(),o.Pb(),o.Pb()}if(2&e){const e=t.$implicit;o.yb(2),o.Kc("",e.student.firstName,"\xa0",e.student.lastName,""),o.yb(2),o.Ic(e.student.email),o.yb(2),o.Ic(e.comment)}}function P(e,t){if(1&e&&(o.Qb(0,"div",35),o.Hc(1),o.Pb()),2&e){const e=o.bc();o.yb(1),o.Jc(" In total there are ",e.count||0," request. ")}}function v(e,t){}function y(e,t){if(1&e){const e=o.Rb();o.Qb(0,"button",36),o.Xb("click",function(){return o.yc(e),o.bc().acceptRequest()}),o.Hc(1," Accept Request "),o.Pb()}}function C(e,t){if(1&e){const e=o.Rb();o.Qb(0,"button",36),o.Xb("click",function(){return o.yc(e),o.bc().rejectRequest()}),o.Hc(1," Reject Request "),o.Pb()}}const _=function(){return["student","sublevel","groupInstance","comment","requestedBy","status"]},w=function(){return{width:"450px"}};let Q=(()=>{class e{constructor(e,t,n,i,o){this.formBuilder=e,this.alertSrvc=t,this.confirmSrvc=n,this.banRequestSrvc=i,this.usersService=o,this.rejectMode=!1,this.role="student",this.suggestedStudents=[]}ngOnInit(){this.getAllRequests(1,10)}getAllRequests(e,t){this.banRequestSrvc.getRequestsByPages(e,t).subscribe(e=>{this.count=e.count,this.pageSize=e.pageSize,this.banRequests=e.data,this.filteredBanRequests=this.banRequests,this.banReqStatus=[],this.banReqStatus=this.banRequests.map(e=>(0==e.status?e.statusName="New":1==e.status?e.statusName="Approved":2==e.status&&(e.statusName="Rejected"),e))})}onPageChange(e){this.getAllRequests(e.page+1,10)}showSelectedLevel(e){this.filteredBanRequests=null!=e.value?this.banRequests.filter(t=>t.student.sublevelId==e.value):JSON.parse(JSON.stringify(this.banRequests))}showModal(e){this.requestDialog=!0,this.selectedRequests=e,this.newBanComment=e.comment}acceptRequest(){const e=new i.b;e.id=this.selectedRequests.id,e.status=1,e.comment=this.newBanComment,this.banRequestSrvc.updateRequest(e).subscribe(e=>{this.getAllRequests(1,10),this.alertSrvc.newAlert("success","Successfully Accepted"),this.hideDialog()})}rejectRequest(){const e=new i.b;e.id=this.selectedRequests.id,e.status=2,e.comment=this.newBanComment,this.banRequestSrvc.updateRequest(e).subscribe(e=>{this.getAllRequests(1,10),this.alertSrvc.newAlert("success","Successfully Rejected"),this.rejectMode=!1,this.hideDialog()})}hideDialog(){this.requestDialog=!1,this.newRequestDialog=!1}getAllStudents(){this.usersService.GetAllUsersByRole(this.role).subscribe(e=>{this.students=e.data,this.studentList=[];for(let t=0;t<this.students.length;t++)this.studentList.push({label:this.students.map(e=>e.firstName)[t],value:this.students.map(e=>e)[t]})})}newBanRequest(){const e=new i.a;e.studentId=this.selectedStudent.id,e.comment=this.banComment,e.status=0,this.banRequestSrvc.addRequest(e).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.newRequestDialog=!1})}openNew(){this.newRequestDialog=!0}searchStudent(e){const t=e.query;t&&this.usersService.GetAllUsersByRole(t).subscribe(e=>{this.suggestedStudents=e.data,this.suggestedStudents.forEach(e=>{e.fullName=e.firstName+" "+e.lastName})})}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(s.e),o.Kb(r.a),o.Kb(c.a),o.Kb(a.a),o.Kb(l.a))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-ban-request"]],decls:38,vars:29,consts:[[1,"container","pb-3"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"page-title","mb-2"],[1,"text-primary","font-weight-bold"],[1,"d-flex","justify-content-between","flex-row-reverse","mb-3"],[1,"btn","adler-btn-sm",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","Ban Request Details","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],["autocomplete","off","type","text","pInputText","","id","comment","placeholder","Enter Your Comment",1,"form-control","adler-form-control",3,"ngModel","ngModelChange"],[1,"formbtns","pt-3"],["type","submit","class","btn adler-btn px-5 rounded-pill",3,"click",4,"ngIf"],[1,"btn","mr-3","px-5","rounded-pill","btn-outline-secondary","ml-2",3,"click"],["header","Ban Request","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],["name","studentName","field","fullName",3,"ngModel","suggestions","dropdown","forceSelection","ngModelChange","completeMethod"],[1,"mb-4","margin-top-15"],[1,"btn","adler-btn","px-5","rounded-pill",3,"click"],["pSortableColumn","student"],["field","student"],["pSortableColumn","email"],["field","email"],["pSortableColumn","comment"],["field","comment"],[2,"width","10rem"],["title","Accept",1,"mr-2","mr-3","text-success",3,"click"],[1,"p-button-icon","pi","pi-check-circle","font-weight-bold"],["title","Reject",1,"mr-2","mr-3","text-danger",3,"click"],[1,"p-button-icon","pi","pi-times-circle","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"],["type","submit",1,"btn","adler-btn","px-5","rounded-pill",3,"click"]],template:function(e,t){1&e&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"div",2),o.Qb(3,"h1",3),o.Hc(4,"Ban requests"),o.Pb(),o.Pb(),o.Pb(),o.Qb(5,"div",4),o.Qb(6,"div"),o.Qb(7,"button",5),o.Xb("click",function(){return t.openNew(),t.getAllStudents()}),o.Hc(8," Add New Ban Request "),o.Pb(),o.Pb(),o.Pb(),o.Qb(9,"div",6),o.Qb(10,"p-table",7,8),o.Xb("selectionChange",function(e){return t.selectedRequests=e}),o.Fc(12,m,12,0,"ng-template",9),o.Fc(13,f,12,4,"ng-template",10),o.Fc(14,P,2,1,"ng-template",11),o.Fc(15,v,0,0,"ng-template",12),o.Pb(),o.Qb(16,"p-paginator",13),o.Xb("onPageChange",function(e){return t.onPageChange(e)}),o.Pb(),o.Pb(),o.Pb(),o.Qb(17,"p-dialog",14),o.Xb("visibleChange",function(e){return t.requestDialog=e})("onHide",function(){return t.hideDialog()}),o.Qb(18,"h6",15),o.Hc(19,"Leave your comment"),o.Pb(),o.Qb(20,"input",16),o.Xb("ngModelChange",function(e){return t.newBanComment=e}),o.Pb(),o.Qb(21,"div",17),o.Fc(22,y,2,0,"button",18),o.Fc(23,C,2,0,"button",18),o.Qb(24,"button",19),o.Xb("click",function(){return t.hideDialog()}),o.Hc(25," Cancel "),o.Pb(),o.Pb(),o.Pb(),o.Qb(26,"p-dialog",20),o.Xb("visibleChange",function(e){return t.newRequestDialog=e})("onHide",function(){return t.hideDialog()}),o.Qb(27,"h6",15),o.Hc(28,"Choose Student"),o.Pb(),o.Qb(29,"p-autoComplete",21),o.Xb("ngModelChange",function(e){return t.selectedStudent=e})("completeMethod",function(e){return t.searchStudent(e)}),o.Pb(),o.Qb(30,"h6",22),o.Hc(31,"Your reason of this request"),o.Pb(),o.Qb(32,"input",16),o.Xb("ngModelChange",function(e){return t.banComment=e}),o.Pb(),o.Qb(33,"div",17),o.Qb(34,"button",23),o.Xb("click",function(){return t.newBanRequest()}),o.Hc(35," Send Request "),o.Pb(),o.Qb(36,"button",19),o.Xb("click",function(){return t.hideDialog()}),o.Hc(37," Cancel "),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.yb(10),o.ic("responsive",!0)("value",t.filteredBanRequests)("rows",10)("paginator",!1)("globalFilterFields",o.lc(26,_))("selection",t.selectedRequests)("rowHover",!0)("showCurrentPageReport",!0),o.yb(6),o.ic("rows",t.pageSize)("totalRecords",t.count),o.yb(1),o.Dc(o.lc(27,w)),o.ic("visible",t.requestDialog)("modal",!0),o.yb(3),o.ic("ngModel",t.newBanComment),o.yb(2),o.ic("ngIf",!t.rejectMode),o.yb(1),o.ic("ngIf",t.rejectMode),o.yb(3),o.Dc(o.lc(28,w)),o.ic("visible",t.newRequestDialog)("modal",!0),o.yb(3),o.ic("ngModel",t.selectedStudent)("suggestions",t.suggestedStudents)("dropdown",!1)("forceSelection",!0),o.yb(3),o.ic("ngModel",t.banComment))},directives:[d.d,b.i,u.a,p.a,s.b,s.p,s.s,h.m,g.a,d.c,d.b],styles:[".custom-filter-row[_ngcontent-%COMP%]{background-color:#d0d4e5;padding:.5rem}.status-new[_ngcontent-%COMP%]{border-color:#2c3e90!important;background-color:#fff;color:#2c3e90}.status-Approved[_ngcontent-%COMP%]{border-color:#207a04!important;background-color:rgba(50,213,9,.55);color:#207a04}.status-Rejected[_ngcontent-%COMP%]{background-color:#f79090!important;border-color:#f33!important;color:#f33}.margin-top-15[_ngcontent-%COMP%]{margin-top:15px}"]}),e})()},QmJQ:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("tVjc"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.prefix="PromoCode",this.accountPrefix="Account"}getAllPromoCodes(e,t,n){let o=`PageNumber=${e}&PageSize=${t}`;const s=(e,t)=>{o+=`&${e}=${t}`};if(n)for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=n[i];e&&s(i,e)}return this.http.get(`${i.a}/${this.prefix}/GetAllPromoCode?${o}`)}getAllPromoCodesInstances(e,t,n){let o=`PageNumber=${e}&PageSize=${t}`;const s=(e,t)=>{o+=`&${e}=${t}`};if(n)for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const e=n[i];null!=e&&s(i,e)}return this.http.get(`${i.a}/${this.prefix}/GetAllPromocodeInstances?${o}`)}checkPromoCode(e){return this.http.get(`${i.a}/${this.prefix}/CheckPromoCode?name=${e}`)}createPromoCode(e){let t="";return Object.keys(e).forEach((n,i)=>{const o=e[n];null!=o&&((e,n,i=!1)=>{i||(t+="&"),t+=`${e}=${n}`})(n,o,0===i)}),this.http.post(`${i.a}/${this.prefix}/CreatePromoCode?${t}`,{})}generatePromoCodeInstance(e){let t="";return Object.keys(e).forEach((n,i)=>{const o=e[n];null!=o&&((e,n,i=!1)=>{i||(t+="&"),t+=`${e}=${n}`})(n,o,0===i)}),this.http.post(`${i.a}/${this.prefix}/CreatePromoCodeInstance?${t}`,{})}getPromoCodeInstanceByPromoCodeKey(e){return this.http.get(`${i.a}/${this.prefix}/GetPromoCodeInstance?PromoCodeKey=${e}`)}getAllStudents(e){return this.http.get(`${i.a}/${this.accountPrefix}/GetAllStudentUsers?studentName=${e}&PageNumber=1&PageSize=999`)}}return e.\u0275fac=function(t){return new(t||e)(o.Ub(s.b))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac}),e})()},RboQ:function(e,t,n){"use strict";n.d(t,"a",function(){return G});var i=n("3Pt+"),o=n("cp0P"),s=n("fXoL"),r=n("XB66"),c=n("dJ3e"),a=n("v5vL"),l=n("rEr+"),d=n("7zfz"),b=n("6t4m"),u=n("/RsI"),p=n("ofXK"),h=n("jIHw"),g=n("arFO");function m(e,t){1&e&&(s.Qb(0,"tr"),s.Qb(1,"th",28),s.Lb(2,"p-tableHeaderCheckbox"),s.Pb(),s.Lb(3,"th",29),s.Qb(4,"th",30),s.Hc(5," Name "),s.Lb(6,"p-sortIcon",31),s.Pb(),s.Qb(7,"th",32),s.Hc(8,"Actions"),s.Pb(),s.Pb())}function f(e,t){if(1&e){const e=s.Rb();s.Qb(0,"tr"),s.Qb(1,"td"),s.Lb(2,"p-tableCheckbox",33),s.Pb(),s.Qb(3,"td"),s.Lb(4,"button",34),s.Pb(),s.Qb(5,"td"),s.Hc(6),s.Pb(),s.Qb(7,"td"),s.Qb(8,"a",35),s.Xb("click",function(){s.yc(e);const n=t.$implicit;return s.bc().editTimeSlot(n)}),s.Lb(9,"span",36),s.Pb(),s.Qb(10,"a",37),s.Xb("click",function(){s.yc(e);const n=t.$implicit;return s.bc().deleteSlot(n)}),s.Lb(11,"span",38),s.Pb(),s.Pb(),s.Pb()}if(2&e){const e=t.$implicit,n=t.expanded;s.yb(2),s.ic("value",e),s.yb(2),s.ic("pRowToggler",e)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),s.yb(2),s.Ic(e.name)}}function P(e,t){1&e&&(s.Qb(0,"tr"),s.Qb(1,"th",42),s.Hc(2," Week day "),s.Lb(3,"p-sortIcon",43),s.Pb(),s.Qb(4,"th",44),s.Hc(5," Time from "),s.Lb(6,"p-sortIcon",45),s.Pb(),s.Qb(7,"th",46),s.Hc(8," Time to "),s.Lb(9,"p-sortIcon",47),s.Pb(),s.Pb())}function v(e,t){1&e&&(s.Qb(0,"span"),s.Hc(1,"Sat"),s.Pb())}function y(e,t){1&e&&(s.Qb(0,"span"),s.Hc(1,"Sun"),s.Pb())}function C(e,t){1&e&&(s.Qb(0,"span"),s.Hc(1,"Mon"),s.Pb())}function _(e,t){1&e&&(s.Qb(0,"span"),s.Hc(1,"Tue"),s.Pb())}function w(e,t){1&e&&(s.Qb(0,"span"),s.Hc(1,"Wed"),s.Pb())}function Q(e,t){1&e&&(s.Qb(0,"span"),s.Hc(1,"Thu"),s.Pb())}function S(e,t){1&e&&(s.Qb(0,"span"),s.Hc(1,"Fri"),s.Pb())}function I(e,t){1&e&&(s.Qb(0,"span"),s.Hc(1,"-"),s.Pb())}function x(e,t){if(1&e&&(s.Qb(0,"tr"),s.Qb(1,"td"),s.Qb(2,"span",48),s.Fc(3,v,2,0,"span",49),s.Fc(4,y,2,0,"span",49),s.Fc(5,C,2,0,"span",49),s.Fc(6,_,2,0,"span",49),s.Fc(7,w,2,0,"span",49),s.Fc(8,Q,2,0,"span",49),s.Fc(9,S,2,0,"span",49),s.Fc(10,I,2,0,"span",50),s.Pb(),s.Pb(),s.Qb(11,"td"),s.Hc(12),s.Pb(),s.Qb(13,"td"),s.Hc(14),s.Pb(),s.Qb(15,"td"),s.Hc(16),s.Pb(),s.Qb(17,"td"),s.Hc(18),s.Pb(),s.Qb(19,"td"),s.Hc(20),s.Pb(),s.Qb(21,"td"),s.Hc(22),s.Pb(),s.Pb()),2&e){const e=t.$implicit;s.yb(2),s.ic("ngSwitch",e.weekDay),s.yb(1),s.ic("ngSwitchCase",0),s.yb(1),s.ic("ngSwitchCase",1),s.yb(1),s.ic("ngSwitchCase",2),s.yb(1),s.ic("ngSwitchCase",3),s.yb(1),s.ic("ngSwitchCase",4),s.yb(1),s.ic("ngSwitchCase",5),s.yb(1),s.ic("ngSwitchCase",6),s.yb(3),s.Jc(" ",e.timeFrom," "),s.yb(2),s.Ic(e.timeTo),s.yb(2),s.Ic(e.createdBy),s.yb(2),s.Ic(e.createdDate),s.yb(2),s.Ic(e.lastModifiedBy),s.yb(2),s.Ic(e.lastModifiedDate)}}const D=function(){return["weekDay","timeFrom","timeTo"]};function T(e,t){if(1&e&&(s.Qb(0,"tr"),s.Qb(1,"td",39),s.Qb(2,"div",40),s.Qb(3,"p-table",41),s.Fc(4,P,10,0,"ng-template",8),s.Fc(5,x,23,14,"ng-template",9),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&e){const e=t.$implicit;s.yb(3),s.ic("value",e.timeSlotDetails)("globalFilterFields",s.lc(2,D))}}function M(e,t){if(1&e&&(s.Qb(0,"div",51),s.Hc(1),s.Pb()),2&e){const e=s.bc();s.yb(1),s.Jc(" In total there are ",e.count||0," slot. ")}}function O(e,t){}function F(e,t){if(1&e){const e=s.Rb();s.Qb(0,"i",63),s.Xb("click",function(){s.yc(e);const t=s.bc().index;return s.bc(2).deleteSlotDetails(t)}),s.Pb()}}function L(e,t){if(1&e&&(s.Ob(0),s.Qb(1,"div",54),s.Qb(2,"div",55),s.Qb(3,"div",56),s.Qb(4,"label"),s.Hc(5,"Week day"),s.Pb(),s.Lb(6,"p-dropdown",57),s.Pb(),s.Qb(7,"div",58),s.Qb(8,"label"),s.Hc(9,"Time from:"),s.Pb(),s.Lb(10,"input",59),s.Pb(),s.Qb(11,"div",58),s.Qb(12,"label"),s.Hc(13,"Time to:"),s.Pb(),s.Lb(14,"input",60),s.Pb(),s.Qb(15,"div",61),s.Qb(16,"small"),s.Fc(17,F,1,0,"i",62),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Nb()),2&e){const e=t.index,n=s.bc(2);s.yb(1),s.ic("formGroupName",e),s.yb(5),s.ic("options",n.WeekList)("filter",!1)("showClear",!0),s.yb(11),s.ic("ngIf",n.getSlotDetails().controls.length>1)}}function k(e,t){if(1&e&&(s.Qb(0,"div",52),s.Fc(1,L,18,5,"ng-container",53),s.Pb()),2&e){const e=s.bc();s.yb(1),s.ic("ngForOf",e.getSlotDetails().controls)}}function H(e,t){1&e&&(s.Qb(0,"button",64),s.Hc(1," Save "),s.Pb())}function A(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",65),s.Xb("click",function(){return s.yc(e),s.bc().saveEdit()}),s.Hc(1," Edit "),s.Pb()}}const R=function(){return["name","status"]},N=function(){return{width:"800px"}};let G=(()=>{class e{constructor(e,t,n,i){this.formBuilder=e,this.confirmSrvc=t,this.alertSrvc=n,this.timeSlotService=i,this.editMode=!1,this.WeekList=[{label:"Sat",value:0},{label:"Sun",value:1},{label:"Mon",value:2},{label:"Tue ",value:3},{label:"Wed",value:4},{label:"Thu",value:5},{label:"Fri ",value:6}],this.statusList=[{label:"status0",value:0},{label:"status1",value:0},{label:"status1",value:0},{label:"status3 ",value:0}]}ngOnInit(){this.addTimeSlotForm=this.loadTimeSlotForm("init"),this.addSlotDetails(),this.getTimeSlots(1,10)}getSlotDetails(){return this.addTimeSlotForm.get("timeSlotDetails")}addSlotDetails(){this.getSlotDetails().push(this.loadTimeSlotForm("timeSlotDetails"))}deleteSlotDetails(e){this.getSlotDetails().removeAt(e)}loadTimeSlotForm(e){let t=this.formBuilder.group({});switch(e){case"init":t=this.formBuilder.group({name:["",i.x.required],status:"",timeSlotDetails:this.formBuilder.array([])});break;case"timeSlotDetails":t=this.formBuilder.group({weekDay:{},timeFrom:"",timeTo:""})}return t}onSubmit(){if(this.addTimeSlotForm.invalid)return this.addTimeSlotForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");const e=JSON.parse(JSON.stringify(this.addTimeSlotForm.value));this.timeSlotService.addTimeSlot(e).subscribe(e=>{this.alertSrvc.newAlert("success","Added successfully"),this.addTimeSlotForm.reset(),this.getTimeSlots(1,10),this.hideDialog()})}openNew(){this.timeSlotDialog=!0}getTimeSlots(e,t){this.timeSlotService.getAllSlotsByPages(e,t).subscribe(e=>{this.count=e.count,this.pageSize=e.pageSize,this.timeSlots=e.data})}onPageChange(e){this.getTimeSlots(e.page+1,10)}editTimeSlot(e){this.editMode=!0,this.timeSlot=Object.assign({},e),this.timeSlotDialog=!0,e.timeSlotDetails.forEach((t,n)=>{n!=e.timeSlotDetails.length-1&&this.addSlotDetails()}),this.addTimeSlotForm.patchValue({name:e.name,status:e.status,timeSlotDetails:e.timeSlotDetails})}saveEdit(){if(this.addTimeSlotForm.invalid)return this.addTimeSlotForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");let e=JSON.parse(JSON.stringify(this.addTimeSlotForm.value));e.id=this.timeSlot.id,this.timeSlotService.editTimeSlot(e).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addTimeSlotForm.reset(),this.editMode=!1,this.getTimeSlots(1,10)}),this.hideDialog()}deleteSlot(e){this.confirmSrvc.newConfirmation(`Are you sure you want to delete ${e.name} ?`,()=>{this.timeSlotService.deleteTimeSlot(e.id).subscribe(e=>{this.getTimeSlots(1,10),this.alertSrvc.newAlert("success","Successfully Deleted")})},"Confirm")}deleteSelectedSlots(){this.confirmSrvc.newConfirmation("Are you sure you want to delete the selected slots?",()=>{let e=[];this.selectedTimeSlots&&Array.isArray(this.selectedTimeSlots)&&this.selectedTimeSlots.forEach(t=>{e.push(this.timeSlotService.deleteTimeSlot(t.id))}),this.selectedTimeSlots=null,Object(o.a)(e).subscribe(e=>{this.alertSrvc.newAlert("success","Successfully Deleted"),this.getTimeSlots(1,10)})},"Confirm")}hideDialog(){this.timeSlotDialog=!1,this.editMode=!1,this.addTimeSlotForm.reset(),this.removeAllSlotDetails()}removeAllSlotDetails(){for(let e=this.getSlotDetails().controls.length;e>0;e--)this.deleteSlotDetails(e)}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(i.e),s.Kb(r.a),s.Kb(c.a),s.Kb(a.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["app-time-slot"]],decls:35,vars:21,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","justify-content-between","mb-5"],[1,"mr-2","p-button","p-button-icon-only","p-button-rounded","p-button-sm","btn-danger","btn-sm",3,"disabled","click"],[1,"pi","pi-trash"],[1,"btn","adler-btn",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","Please Fill the following form","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"row","form-group"],[1,"col-6"],["autocomplete","off","type","text","pInputText","","id","name","name","name","formControlName","name","autofocus","","placeholder","Name",1,"form-control","adler-form-control"],[1,"col-12","mt-4"],["class","col-12","formArrayName","timeSlotDetails",4,"ngIf"],[1,"add-slot","text-secondary",3,"click"],[1,"pi","pi-plus"],[1,"formbtns","pt-3"],["type","button",1,"btn","mr-3","px-5","rounded-pill","btn-outline-secondary",3,"click"],["type","submit","class","btn adler-btn px-5 rounded-pill",4,"ngIf"],["type","button","class","btn adler-btn px-5 rounded-pill",3,"click",4,"ngIf"],[2,"width","4rem"],[2,"width","3rem"],["pSortableColumn","Name"],["field","Name"],[2,"width","10wrem"],[3,"value"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],["colspan","4"],[1,"p-p-3"],["dataKey","id",3,"value","globalFilterFields"],["pSortableColumn","weekDay"],["field","weekDay"],["pSortableColumn","timeFrom"],["field","timeFrom"],["pSortableColumn","timeTo"],["field","timeTo"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"p-d-flex","p-ai-center","p-jc-between"],["formArrayName","timeSlotDetails",1,"col-12"],[4,"ngFor","ngForOf"],[3,"formGroupName"],[1,"row"],[1,"col-md-3","col-sm-6"],["filterBy","label","optionLabel","label","placeholder","Select day","formControlName","weekDay",3,"options","filter","showClear"],[1,"col-md-4","col-sm-6"],["autocomplete","off","type","time","pInputText","","id","timeFrom","formControlName","timeFrom","placeholder","Time from ",1,"form-control","adler-form-control"],["autocomplete","off","type","time","pInputText","","id","timeTo","formControlName","timeTo","placeholder","Time to ",1,"form-control","adler-form-control"],[1,"col-md-1","d-flex","align-items-center"],["class","pi pi-times text-danger remove-slot",3,"click",4,"ngIf"],[1,"pi","pi-times","text-danger","remove-slot",3,"click"],["type","submit",1,"btn","adler-btn","px-5","rounded-pill"],["type","button",1,"btn","adler-btn","px-5","rounded-pill",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div"),s.Qb(3,"button",2),s.Xb("click",function(){return t.deleteSelectedSlots()}),s.Lb(4,"i",3),s.Pb(),s.Qb(5,"button",4),s.Xb("click",function(){return t.openNew()}),s.Hc(6,"Add New Slot"),s.Pb(),s.Pb(),s.Pb(),s.Qb(7,"div",5),s.Qb(8,"p-table",6,7),s.Xb("selectionChange",function(e){return t.selectedTimeSlots=e}),s.Fc(10,m,9,0,"ng-template",8),s.Fc(11,f,12,4,"ng-template",9),s.Fc(12,T,6,3,"ng-template",10),s.Fc(13,M,2,1,"ng-template",11),s.Fc(14,O,0,0,"ng-template",12),s.Pb(),s.Qb(15,"p-paginator",13),s.Xb("onPageChange",function(e){return t.onPageChange(e)}),s.Pb(),s.Pb(),s.Pb(),s.Qb(16,"p-dialog",14),s.Xb("visibleChange",function(e){return t.timeSlotDialog=e})("onHide",function(){return t.hideDialog()}),s.Qb(17,"h5",15),s.Hc(18,"Time Slots Info"),s.Pb(),s.Qb(19,"form",16),s.Xb("ngSubmit",function(){return t.onSubmit()}),s.Qb(20,"div",17),s.Qb(21,"div",18),s.Lb(22,"input",19),s.Pb(),s.Qb(23,"div",20),s.Qb(24,"h5"),s.Hc(25,"Time Slots Details"),s.Pb(),s.Pb(),s.Fc(26,k,2,1,"div",21),s.Qb(27,"p",22),s.Xb("click",function(){return t.addSlotDetails()}),s.Lb(28,"i",23),s.Hc(29," Add other slot "),s.Pb(),s.Pb(),s.Qb(30,"div",24),s.Qb(31,"button",25),s.Xb("click",function(){return t.hideDialog()}),s.Hc(32," Cancel "),s.Pb(),s.Fc(33,H,2,0,"button",26),s.Fc(34,A,2,0,"button",27),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.yb(3),s.ic("disabled",!t.selectedTimeSlots||!t.selectedTimeSlots.length),s.yb(5),s.ic("responsive",!0)("value",t.timeSlots)("rows",10)("paginator",!1)("globalFilterFields",s.lc(19,R))("selection",t.selectedTimeSlots)("rowHover",!0)("showCurrentPageReport",!0),s.yb(7),s.ic("rows",t.pageSize)("totalRecords",t.count),s.yb(1),s.Dc(s.lc(20,N)),s.ic("visible",t.timeSlotDialog)("modal",!0),s.yb(3),s.ic("formGroup",t.addTimeSlotForm),s.yb(7),s.ic("ngIf",t.getSlotDetails().controls.length),s.yb(7),s.ic("ngIf",!t.editMode),s.yb(1),s.ic("ngIf",t.editMode))},directives:[l.d,d.i,b.a,u.a,i.y,i.q,i.i,i.b,i.p,i.g,p.m,l.f,l.c,l.b,l.e,h.b,l.a,p.o,p.p,p.q,i.d,p.l,i.j,g.a],styles:[".pi-times[_ngcontent-%COMP%]{font-size:.9rem;cursor:pointer;vertical-align:middle}.add-slot[_ngcontent-%COMP%]{margin-left:1.2rem;padding:1rem;display:inline-block;cursor:pointer}.add-slot[_ngcontent-%COMP%]   .pi-plus[_ngcontent-%COMP%]{font-size:.8rem}"]}),e})()},d78T:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var i=n("nbpP"),o=n("fXoL"),s=n("JdUQ"),r=n("BtPN"),c=n("Widq"),a=n("rEr+"),l=n("7zfz"),d=n("6t4m"),b=n("/RsI"),u=n("3Pt+"),p=n("ofXK"),h=n("QGev");function g(e,t){1&e&&(o.Qb(0,"tr"),o.Qb(1,"th",24),o.Hc(2," Student Name "),o.Lb(3,"p-sortIcon",25),o.Pb(),o.Qb(4,"th",26),o.Hc(5," Student Email "),o.Lb(6,"p-sortIcon",27),o.Pb(),o.Qb(7,"th",28),o.Hc(8," Reason "),o.Lb(9,"p-sortIcon",29),o.Pb(),o.Qb(10,"th",30),o.Hc(11,"Actions"),o.Pb(),o.Pb())}function m(e,t){if(1&e){const e=o.Rb();o.Qb(0,"tr"),o.Qb(1,"td"),o.Hc(2),o.Pb(),o.Qb(3,"td"),o.Hc(4),o.Pb(),o.Qb(5,"td"),o.Qb(6,"div",31),o.Hc(7),o.Pb(),o.Pb(),o.Qb(8,"td"),o.Qb(9,"a",32),o.Xb("click",function(){o.yc(e);const n=t.$implicit;return o.bc().showModal(n)}),o.Lb(10,"span",33),o.Pb(),o.Qb(11,"a",34),o.Xb("click",function(){o.yc(e);const n=t.$implicit,i=o.bc();return i.showModal(n),i.rejectMode=!0}),o.Lb(12,"span",35),o.Pb(),o.Pb(),o.Pb()}if(2&e){const e=t.$implicit;o.yb(2),o.Kc("",null==e||null==e.student?null:e.student.firstName,"\xa0",null==e||null==e.student?null:e.student.lastName,""),o.yb(2),o.Ic(null==e||null==e.student?null:e.student.email),o.yb(3),o.Ic(null==e?null:e.comment)}}function f(e,t){if(1&e&&(o.Qb(0,"div",36),o.Hc(1),o.Pb()),2&e){const e=o.bc();o.yb(1),o.Jc(" In total there are ",e.count||0," request. ")}}function P(e,t){}function v(e,t){if(1&e){const e=o.Rb();o.Qb(0,"button",37),o.Xb("click",function(){return o.yc(e),o.bc().acceptRequest()}),o.Hc(1," Accept Request "),o.Pb()}}function y(e,t){if(1&e){const e=o.Rb();o.Qb(0,"button",37),o.Xb("click",function(){return o.yc(e),o.bc().rejectRequest()}),o.Hc(1," Reject Request "),o.Pb()}}const C=function(){return["id","student-name","level","group-instance","comment","requested-by","status"]},_=function(){return{width:"450px"}};let w=(()=>{class e{constructor(e,t,n){this.alertSrvc=e,this.banRequestSrvc=t,this.usersService=n,this.rejectMode=!1,this.role="student",this.suggestedStudents=[]}ngOnInit(){this.getAllRequests(1,10)}getAllRequests(e,t){this.banRequestSrvc.getDisRequests(e,t).subscribe(e=>{this.count=e.count,this.pageSize=e.pageSize,this.disqualificationRequests=e.data})}onPageChange(e){this.getAllRequests(e.page+1,10)}showModal(e){this.requestDialog=!0,this.selectedRequests=e,this.newDisqualificationComment=e.comment}acceptRequest(){const e=new i.b;e.id=this.selectedRequests.id,e.status=1,e.comment=this.newDisqualificationComment,this.banRequestSrvc.updateDisRequest(e).subscribe(e=>{this.getAllRequests(1,10),this.alertSrvc.newAlert("success","Successfully Accepted"),this.hideDialog()})}rejectRequest(){const e=new i.b;e.id=this.selectedRequests.id,e.status=2,e.comment=this.newDisqualificationComment,this.banRequestSrvc.updateDisRequest(e).subscribe(e=>{this.getAllRequests(1,10),this.alertSrvc.newAlert("success","Successfully Rejected"),this.rejectMode=!1,this.hideDialog()})}hideDialog(){this.requestDialog=!1,this.newRequestDialog=!1}getAllStudents(){this.usersService.GetAllUsersByRole(this.role).subscribe(e=>{this.students=e.data,this.studentList=[];for(let t=0;t<this.students.length;t++)this.studentList.push({label:this.students.map(e=>e.firstName)[t],value:this.students.map(e=>e)[t]})})}newDisqualificationRequest(){const e=new i.a;e.studentId=this.selectedStudent.id,e.comment=this.disqualificationComment,this.banRequestSrvc.addDisRequest(e).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.newRequestDialog=!1})}openNew(){this.newRequestDialog=!0}searchStudent(e){const t=e.query;t&&this.usersService.GetAllUsersByRole(t).subscribe(e=>{this.suggestedStudents=e.data,this.suggestedStudents.forEach(e=>{e.fullName=e.firstName+" "+e.lastName})})}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(s.a),o.Kb(r.a),o.Kb(c.a))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-disqualification-req"]],decls:38,vars:29,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","justify-content-between"],[1,"page-title","mb-2"],[1,"text-primary","font-weight-bold"],[1,"d-flex","flex-wrap","justify-content-between","mb-3","flex-row-reverse"],[1,"btn","adler-btn-sm",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","disqualification Request Details","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],["autocomplete","off","type","text","pInputText","","id","comment","placeholder","Enter Your Comment",1,"form-control","adler-form-control",3,"ngModel","ngModelChange"],[1,"formbtns","pt-3"],["type","submit","class","btn adler-btn px-5 rounded-pill",3,"click",4,"ngIf"],[1,"btn","mr-3","px-5","rounded-pill",3,"click"],["header","Disqualification Request","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],["name","studentName","field","fullName",3,"ngModel","suggestions","dropdown","forceSelection","ngModelChange","completeMethod"],[1,"mb-4","margin-top-15"],[1,"btn","adler-btn","px-5","rounded-pill",3,"click"],["pSortableColumn","student-name"],["field","student-name"],["pSortableColumn","student-email"],["field","student-email"],["pSortableColumn","comment"],["field","comment"],[2,"width","10rem"],[1,"text-info"],["title","Accept",1,"mr-2","mr-3","text-success",3,"click"],[1,"p-button-icon","pi","pi-check-circle","font-weight-bold"],["title","Reject",1,"mr-2","mr-3","text-danger",3,"click"],[1,"p-button-icon","pi","pi-times-circle","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"],["type","submit",1,"btn","adler-btn","px-5","rounded-pill",3,"click"]],template:function(e,t){1&e&&(o.Qb(0,"div",0),o.Qb(1,"div",1),o.Qb(2,"div",2),o.Qb(3,"h1",3),o.Hc(4,"Disqualification Requests"),o.Pb(),o.Pb(),o.Pb(),o.Qb(5,"div",4),o.Qb(6,"div"),o.Qb(7,"button",5),o.Xb("click",function(){return t.openNew()}),o.Hc(8," Add New disqualification Request "),o.Pb(),o.Pb(),o.Pb(),o.Qb(9,"div",6),o.Qb(10,"p-table",7,8),o.Xb("selectionChange",function(e){return t.selectedRequests=e}),o.Fc(12,g,12,0,"ng-template",9),o.Fc(13,m,13,4,"ng-template",10),o.Fc(14,f,2,1,"ng-template",11),o.Fc(15,P,0,0,"ng-template",12),o.Pb(),o.Qb(16,"p-paginator",13),o.Xb("onPageChange",function(e){return t.onPageChange(e)}),o.Pb(),o.Pb(),o.Pb(),o.Qb(17,"p-dialog",14),o.Xb("visibleChange",function(e){return t.requestDialog=e})("onHide",function(){return t.hideDialog()}),o.Qb(18,"h6",15),o.Hc(19,"Leave your comment"),o.Pb(),o.Qb(20,"input",16),o.Xb("ngModelChange",function(e){return t.newDisqualificationComment=e}),o.Pb(),o.Qb(21,"div",17),o.Fc(22,v,2,0,"button",18),o.Fc(23,y,2,0,"button",18),o.Qb(24,"button",19),o.Xb("click",function(){return t.hideDialog()}),o.Hc(25," Cancel "),o.Pb(),o.Pb(),o.Pb(),o.Qb(26,"p-dialog",20),o.Xb("visibleChange",function(e){return t.newRequestDialog=e})("onHide",function(){return t.hideDialog()}),o.Qb(27,"h6",15),o.Hc(28,"Choose Student"),o.Pb(),o.Qb(29,"p-autoComplete",21),o.Xb("ngModelChange",function(e){return t.selectedStudent=e})("completeMethod",function(e){return t.searchStudent(e)}),o.Pb(),o.Qb(30,"h6",22),o.Hc(31,"Your reason of this request"),o.Pb(),o.Qb(32,"input",16),o.Xb("ngModelChange",function(e){return t.disqualificationComment=e}),o.Pb(),o.Qb(33,"div",17),o.Qb(34,"button",23),o.Xb("click",function(){return t.newDisqualificationRequest()}),o.Hc(35," Send Request "),o.Pb(),o.Qb(36,"button",19),o.Xb("click",function(){return t.hideDialog()}),o.Hc(37," Cancel "),o.Pb(),o.Pb(),o.Pb()),2&e&&(o.yb(10),o.ic("responsive",!0)("value",t.disqualificationRequests)("rows",10)("paginator",!1)("globalFilterFields",o.lc(26,C))("selection",t.selectedRequests)("rowHover",!0)("showCurrentPageReport",!0),o.yb(6),o.ic("rows",t.pageSize)("totalRecords",t.count),o.yb(1),o.Dc(o.lc(27,_)),o.ic("visible",t.requestDialog)("modal",!0),o.yb(3),o.ic("ngModel",t.newDisqualificationComment),o.yb(2),o.ic("ngIf",!t.rejectMode),o.yb(1),o.ic("ngIf",t.rejectMode),o.yb(3),o.Dc(o.lc(28,_)),o.ic("visible",t.newRequestDialog)("modal",!0),o.yb(3),o.ic("ngModel",t.selectedStudent)("suggestions",t.suggestedStudents)("dropdown",!1)("forceSelection",!0),o.yb(3),o.ic("ngModel",t.disqualificationComment))},directives:[a.d,l.i,d.a,b.a,u.b,u.p,u.s,p.m,h.a,a.c,a.b],styles:[".status-Disqualified[_ngcontent-%COMP%]{border-color:#f33!important;background-color:rgba(213,40,9,.55);color:#f33}.status-Refused[_ngcontent-%COMP%]{border-color:#2c3e90!important;background-color:rgba(9,91,213,.55);color:#2c3e90}.status-Pending[_ngcontent-%COMP%]{border-color:#d9a600!important;background-color:rgba(213,199,9,.55);color:#a78001}.margin-top-15[_ngcontent-%COMP%]{margin-top:15px}"]}),e})()},hvoO:function(e,t,n){"use strict";n.d(t,"a",function(){return _});var i=n("3Pt+"),o=n("cp0P"),s=n("fXoL"),r=n("XB66"),c=n("dJ3e"),a=n("0S+P"),l=n("rEr+"),d=n("7zfz"),b=n("6t4m"),u=n("/RsI"),p=n("ofXK");function h(e,t){1&e&&(s.Qb(0,"tr"),s.Qb(1,"th",24),s.Lb(2,"p-tableHeaderCheckbox"),s.Pb(),s.Qb(3,"th",25),s.Hc(4," Name "),s.Lb(5,"p-sortIcon",26),s.Pb(),s.Qb(6,"th",27),s.Hc(7," Price "),s.Lb(8,"p-sortIcon",28),s.Pb(),s.Qb(9,"th",29),s.Hc(10,"Actions"),s.Pb(),s.Pb())}function g(e,t){if(1&e){const e=s.Rb();s.Qb(0,"tr"),s.Qb(1,"td"),s.Lb(2,"p-tableCheckbox",30),s.Pb(),s.Qb(3,"td"),s.Hc(4),s.Pb(),s.Qb(5,"td"),s.Hc(6),s.Pb(),s.Qb(7,"td"),s.Qb(8,"a",31),s.Xb("click",function(){s.yc(e);const n=t.$implicit;return s.bc().editPrice(n)}),s.Lb(9,"span",32),s.Pb(),s.Qb(10,"a",33),s.Xb("click",function(){s.yc(e);const n=t.$implicit;return s.bc().deletePrice(n)}),s.Lb(11,"span",34),s.Pb(),s.Pb(),s.Pb()}if(2&e){const e=t.$implicit;s.yb(2),s.ic("value",e),s.yb(2),s.Ic(e.name),s.yb(2),s.Ic(e.price)}}function m(e,t){if(1&e&&(s.Qb(0,"div",35),s.Hc(1),s.Pb()),2&e){const e=s.bc();s.yb(1),s.Jc(" In total there are ",e.count||0," price. ")}}function f(e,t){}function P(e,t){1&e&&(s.Qb(0,"button",36),s.Hc(1," Save "),s.Pb())}function v(e,t){if(1&e){const e=s.Rb();s.Qb(0,"button",37),s.Xb("click",function(){return s.yc(e),s.bc().saveEdit()}),s.Hc(1," Edit "),s.Pb()}}const y=function(){return["name","price","status"]},C=function(){return{width:"450px"}};let _=(()=>{class e{constructor(e,t,n,i){this.formBuilder=e,this.confirmSrvc=t,this.alertSrvc=n,this.pricesService=i,this.editMode=!1}ngOnInit(){this.initAddPriceForm(),this.getPrices(1,10)}initAddPriceForm(){this.addPriceForm=this.formBuilder.group({name:["",i.x.required],price:["",i.x.required]})}onSubmit(){if(this.addPriceForm.invalid)return this.addPriceForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");this.pricesService.addPrice(this.addPriceForm.value).subscribe(e=>{this.alertSrvc.newAlert("success","Added successfully"),this.addPriceForm.reset(),this.getPrices(1,10),this.hideDialog()})}openNew(){this.submitted=!1,this.priceDialog=!0}getPrices(e,t){this.pricesService.getAllPricesByPages(e,t).subscribe(e=>{this.count=e.count,this.pageSize=e.pageSize,this.prices=e.data})}onPageChange(e){this.getPrices(e.page+1,10)}editPrice(e){this.editMode=!0,this.price=Object.assign({},e),this.priceDialog=!0,this.addPriceForm.patchValue({name:e.name,price:e.price})}saveEdit(){if(this.addPriceForm.invalid)return this.addPriceForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");let e=JSON.parse(JSON.stringify(this.addPriceForm.value));e.id=this.price.id,this.pricesService.editPrice(e).subscribe(e=>{this.alertSrvc.newAlert("success","Added successfully"),this.addPriceForm.reset(),this.editMode=!1,this.getPrices(1,10)}),this.hideDialog()}deletePrice(e){this.confirmSrvc.newConfirmation(`Are you sure you want to delete ${e.name} ?`,()=>{this.pricesService.deletePrice(e.id).subscribe(e=>{this.getPrices(1,10),this.alertSrvc.newAlert("success","Successfully Deleted")})},"Confirm")}deleteSelectedPrices(){this.confirmSrvc.newConfirmation("Are you sure you want to delete the selected prices?",()=>{let e=[];this.selectedPrices&&Array.isArray(this.selectedPrices)&&this.selectedPrices.forEach(t=>{e.push(this.pricesService.deletePrice(t.id))}),this.selectedPrices=null,Object(o.a)(e).subscribe(e=>{this.alertSrvc.newAlert("success","Successfully Deleted"),this.getPrices(1,10)})},"Confirm")}hideDialog(){this.priceDialog=!1,this.submitted=!1,this.editMode=!1,this.addPriceForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(s.Kb(i.e),s.Kb(r.a),s.Kb(c.a),s.Kb(a.a))},e.\u0275cmp=s.Eb({type:e,selectors:[["app-price"]],decls:29,vars:20,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","justify-content-between","mb-5"],[1,"mr-2","p-button","p-button-icon-only","p-button-rounded","p-button-sm","btn-danger","btn-sm",3,"disabled","click"],[1,"pi","pi-trash"],[1,"btn","adler-btn-sm",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","price Details","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"row","form-group"],[1,"col-lg-6","col-12"],["autocomplete","off","type","text","pInputText","","id","name","name","name","formControlName","name","autofocus","","placeholder","Price name",1,"form-control","adler-form-control"],["autocomplete","off","type","number","pInputText","","id","price","formControlName","price","placeholder","Price amount",1,"form-control","adler-form-control"],[1,"formbtns","pt-3"],["type","button",1,"btn","mr-3","px-5","rounded-pill",3,"click"],["type","submit","class","btn adler-btn px-5 rounded-pill",4,"ngIf"],["type","button","class","btn adler-btn px-5 rounded-pill",3,"click",4,"ngIf"],[2,"width","4rem"],["pSortableColumn","Name"],["field","Name"],["pSortableColumn","price"],["field","price"],[2,"width","10wrem"],[3,"value"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"],["type","submit",1,"btn","adler-btn","px-5","rounded-pill"],["type","button",1,"btn","adler-btn","px-5","rounded-pill",3,"click"]],template:function(e,t){1&e&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div"),s.Qb(3,"button",2),s.Xb("click",function(){return t.deleteSelectedPrices()}),s.Lb(4,"i",3),s.Pb(),s.Qb(5,"button",4),s.Xb("click",function(){return t.openNew()}),s.Hc(6," Add New price "),s.Pb(),s.Pb(),s.Pb(),s.Qb(7,"div",5),s.Qb(8,"p-table",6,7),s.Xb("selectionChange",function(e){return t.selectedPrices=e}),s.Fc(10,h,11,0,"ng-template",8),s.Fc(11,g,12,3,"ng-template",9),s.Fc(12,m,2,1,"ng-template",10),s.Fc(13,f,0,0,"ng-template",11),s.Pb(),s.Qb(14,"p-paginator",12),s.Xb("onPageChange",function(e){return t.onPageChange(e)}),s.Pb(),s.Pb(),s.Pb(),s.Qb(15,"p-dialog",13),s.Xb("visibleChange",function(e){return t.priceDialog=e})("onHide",function(){return t.hideDialog()}),s.Qb(16,"h5",14),s.Hc(17,"Please Fill the following form"),s.Pb(),s.Qb(18,"form",15),s.Xb("ngSubmit",function(){return t.onSubmit()}),s.Qb(19,"div",16),s.Qb(20,"div",17),s.Lb(21,"input",18),s.Pb(),s.Qb(22,"div",17),s.Lb(23,"input",19),s.Pb(),s.Pb(),s.Qb(24,"div",20),s.Qb(25,"button",21),s.Xb("click",function(){return t.hideDialog()}),s.Hc(26," Cancel "),s.Pb(),s.Fc(27,P,2,0,"button",22),s.Fc(28,v,2,0,"button",23),s.Pb(),s.Pb(),s.Pb()),2&e&&(s.yb(3),s.ic("disabled",!t.selectedPrices||!t.selectedPrices.length),s.yb(5),s.ic("responsive",!0)("value",t.prices)("rows",10)("paginator",!1)("globalFilterFields",s.lc(18,y))("selection",t.selectedPrices)("rowHover",!0)("showCurrentPageReport",!0),s.yb(6),s.ic("rows",t.pageSize)("totalRecords",t.count),s.yb(1),s.Dc(s.lc(19,C)),s.ic("visible",t.priceDialog)("modal",!0),s.yb(3),s.ic("formGroup",t.addPriceForm),s.yb(9),s.ic("ngIf",!t.editMode),s.yb(1),s.ic("ngIf",t.editMode))},directives:[l.d,d.i,b.a,u.a,i.y,i.q,i.i,i.b,i.p,i.g,i.t,p.m,l.f,l.c,l.b,l.e],styles:[""]}),e})()},m7Nr:function(e,t,n){"use strict";n.r(t),n.d(t,"SupervisorModule",function(){return vs});var i=n("6dlk"),o=n("ofXK"),s=n("PCNd"),r=n("hzby"),c=n("M3cK"),a=n("cp0P"),l=n("fXoL"),d=n("3Pt+"),b=n("XB66"),u=n("dJ3e"),p=n("tVjc"),h=n("tk/3");let g=(()=>{class e{constructor(e){this.http=e,this.prefix="Level"}getAllLevels(){return this.http.get(`${p.a}/${this.prefix}/GetAll`)}addLevel(e){return this.http.post(`${p.a}/${this.prefix}/Create`,e)}editLevel(e){return this.http.put(`${p.a}/${this.prefix}/update/?id=${e.id}`,e)}deleteLevel(e){return this.http.delete(`${p.a}/${this.prefix}/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n("rEr+"),f=n("7zfz"),P=n("/RsI");function v(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",22),l.Lb(2,"p-tableHeaderCheckbox"),l.Pb(),l.Qb(3,"th",23),l.Hc(4," Name "),l.Lb(5,"p-sortIcon",24),l.Pb(),l.Qb(6,"th",25),l.Hc(7," sub Level "),l.Lb(8,"p-sortIcon",26),l.Pb(),l.Qb(9,"th",27),l.Hc(10,"Actions"),l.Pb(),l.Pb())}function y(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Lb(2,"p-tableCheckbox",28),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Qb(8,"a",29),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().editLevel(n)}),l.Lb(9,"span",30),l.Pb(),l.Qb(10,"a",31),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().deleteLevel(n)}),l.Lb(11,"span",32),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.ic("value",e),l.yb(2),l.Ic(e.name),l.yb(2),l.Ic(e.subLevel.name)}}function C(e,t){if(1&e&&(l.Qb(0,"div",33),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.levels?e.levels.length:0," Level. ")}}function _(e,t){}function w(e,t){1&e&&(l.Qb(0,"button",34),l.Hc(1," Save "),l.Pb())}function Q(e,t){if(1&e){const e=l.Rb();l.Qb(0,"button",35),l.Xb("click",function(){return l.yc(e),l.bc().saveEdit()}),l.Hc(1," Edit "),l.Pb()}}const S=function(){return["name"]},I=function(){return{width:"450px"}};let x=(()=>{class e{constructor(e,t,n,i){this.formBuilder=e,this.confirmSrvc=t,this.alertSrvc=n,this.levelService=i,this.editMode=!1}ngOnInit(){this.initAddLevelForm(),this.getLevels()}initAddLevelForm(){this.addLevelForm=this.formBuilder.group({name:""})}onSubmit(){if(this.addLevelForm.invalid)return this.addLevelForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");this.levelService.addLevel(this.addLevelForm.value).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addLevelForm.reset(),this.getLevels(),this.hideDialog()})}openNew(){this.submitted=!1,this.levelDialog=!0}getLevels(){this.levelService.getAllLevels().subscribe(e=>{this.levels=e.data})}editLevel(e){this.editMode=!0,this.level=Object.assign({},e),this.levelDialog=!0,this.addLevelForm.patchValue({Name:e.name})}saveEdit(){if(this.addLevelForm.invalid)return this.addLevelForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");let e=JSON.parse(JSON.stringify(this.addLevelForm.value));e.id=this.level.id,this.levelService.editLevel(e).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addLevelForm.reset(),this.editMode=!1,this.getLevels()}),this.hideDialog()}deleteLevel(e){this.confirmSrvc.newConfirmation(`Are you sure you want to delete ${e.name} ?`,()=>{this.levelService.deleteLevel(e.id).subscribe(e=>{this.getLevels(),this.alertSrvc.newAlert("success","Successfully Deleted")})},"Confirm")}deleteSelectedLevels(){this.confirmSrvc.newConfirmation("Are you sure you want to delete the selected levels?",()=>{let e=[];this.selectedLevels&&Array.isArray(this.selectedLevels)&&this.selectedLevels.forEach(t=>{e.push(this.levelService.deleteLevel(t.id))}),this.selectedLevels=null,Object(a.a)(e).subscribe(e=>{this.alertSrvc.newAlert("success","Successfully Deleted"),this.getLevels()})},"Confirm")}hideDialog(){this.levelDialog=!1,this.submitted=!1,this.editMode=!1}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(d.e),l.Kb(b.a),l.Kb(u.a),l.Kb(g))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-sublevel"]],decls:26,vars:18,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","justify-content-between","mb-5"],[1,"mr-2","p-button","p-button-icon-only","p-button-rounded","p-button-sm","btn-danger","btn-sm",3,"disabled","click"],[1,"pi","pi-trash"],[1,"btn","adler-btn-sm",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["header","Level Details","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"row","form-group"],[1,"col-lg-6","col-12"],["autocomplete","off","type","text","pInputText","","id","name","name","name","formControlName","name","autofocus","","placeholder","Level name",1,"form-control","adler-form-control"],[1,"formbtns","pt-3"],[1,"btn","mr-3","px-5","rounded-pill",3,"click"],["type","submit","class","btn adler-btn px-5 rounded-pill",4,"ngIf"],["type","button","class","btn adler-btn px-5 rounded-pill",3,"click",4,"ngIf"],[2,"width","4rem"],["pSortableColumn","name"],["field","name"],["pSortableColumn","subLevel"],["field","subLevel"],[2,"width","10wrem"],[3,"value"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"],["type","submit",1,"btn","adler-btn","px-5","rounded-pill"],["type","button",1,"btn","adler-btn","px-5","rounded-pill",3,"click"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div"),l.Qb(3,"button",2),l.Xb("click",function(){return t.deleteSelectedLevels()}),l.Lb(4,"i",3),l.Pb(),l.Qb(5,"button",4),l.Xb("click",function(){return t.openNew()}),l.Hc(6," Add New Level "),l.Pb(),l.Pb(),l.Pb(),l.Qb(7,"div",5),l.Qb(8,"p-table",6,7),l.Xb("selectionChange",function(e){return t.selectedLevels=e}),l.Fc(10,v,11,0,"ng-template",8),l.Fc(11,y,12,3,"ng-template",9),l.Fc(12,C,2,1,"ng-template",10),l.Fc(13,_,0,0,"ng-template",11),l.Pb(),l.Pb(),l.Pb(),l.Qb(14,"p-dialog",12),l.Xb("visibleChange",function(e){return t.levelDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(15,"h5",13),l.Hc(16,"Please Fill the following form"),l.Pb(),l.Qb(17,"form",14),l.Xb("ngSubmit",function(){return t.onSubmit()}),l.Qb(18,"div",15),l.Qb(19,"div",16),l.Lb(20,"input",17),l.Pb(),l.Pb(),l.Qb(21,"div",18),l.Qb(22,"button",19),l.Xb("click",function(){return t.hideDialog()}),l.Hc(23," Cancel "),l.Pb(),l.Fc(24,w,2,0,"button",20),l.Fc(25,Q,2,0,"button",21),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(3),l.ic("disabled",!t.selectedLevels||!t.selectedLevels.length),l.yb(5),l.ic("responsive",!0)("value",t.levels)("rows",10)("paginator",!0)("globalFilterFields",l.lc(16,S))("selection",t.selectedLevels)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.Dc(l.lc(17,I)),l.ic("visible",t.levelDialog)("modal",!0),l.yb(3),l.ic("formGroup",t.addLevelForm),l.yb(7),l.ic("ngIf",!t.editMode),l.yb(1),l.ic("ngIf",t.editMode))},directives:[m.d,f.i,P.a,d.y,d.q,d.i,d.b,d.p,d.g,o.m,m.f,m.c,m.b,m.e],styles:[""]}),e})();var D=n("BWbo"),T=n("RboQ"),M=n("hvoO");class O{}let F=(()=>{class e{constructor(e){this.http=e,this.prefix="HomeWork"}getAllRequests(){return this.http.get(`${p.a}/${this.prefix}/GetBounsRequests`)}updateBonusRequest(e){return this.http.put(`${p.a}/${this.prefix}/update?id=${e.id}`,e)}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac}),e})();function L(e,t){1&e&&(l.Qb(0,"div",14),l.Qb(1,"h5",15),l.Hc(2,"HomeWork bonus requests"),l.Pb(),l.Pb())}function k(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",16),l.Hc(2," Group Serial # "),l.Lb(3,"p-sortIcon",17),l.Pb(),l.Qb(4,"th",18),l.Hc(5," Level "),l.Lb(6,"p-sortIcon",19),l.Pb(),l.Qb(7,"th",20),l.Hc(8," Teacher "),l.Lb(9,"p-sortIcon",21),l.Pb(),l.Qb(10,"th",22),l.Hc(11," Lesson "),l.Lb(12,"p-sortIcon",23),l.Pb(),l.Qb(13,"th",24),l.Hc(14," Bonus Point "),l.Lb(15,"p-sortIcon",25),l.Pb(),l.Qb(16,"th"),l.Hc(17,"Action"),l.Pb(),l.Pb())}function H(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div"),l.Qb(1,"a",28),l.Xb("click",function(){l.yc(e);const t=l.bc().$implicit;return l.bc().showModal(t)}),l.Lb(2,"span",29),l.Pb(),l.Qb(3,"a",30),l.Xb("click",function(){l.yc(e);const t=l.bc().$implicit;return l.bc().rejectRequest(t)}),l.Lb(4,"span",31),l.Pb(),l.Pb()}}function A(e,t){1&e&&(l.Qb(0,"span",34),l.Hc(1,"Accepted"),l.Pb())}function R(e,t){1&e&&(l.Qb(0,"span",35),l.Hc(1,"Rejected"),l.Pb())}function N(e,t){if(1&e&&(l.Fc(0,A,2,0,"span",32),l.Fc(1,R,2,0,"span",33)),2&e){const e=l.bc().$implicit;l.ic("ngIf",1==e.bonusPointsStatus),l.yb(1),l.ic("ngIf",2==e.bonusPointsStatus)}}function G(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Hc(10),l.Pb(),l.Qb(11,"td"),l.Fc(12,H,5,0,"div",26),l.Fc(13,N,2,2,"ng-template",null,27,l.Gc),l.Pb(),l.Pb()),2&e){const e=t.$implicit,n=l.vc(14);l.yb(2),l.Ic(e.groupInstanceSerial),l.yb(2),l.Ic(e.subLevel),l.yb(2),l.Ic(e.teacherName),l.yb(2),l.Ic(e.lessonOrder),l.yb(2),l.Ic(e.bonusPoints),l.yb(2),l.ic("ngIf",1!=(null==e?null:e.bonusPointsStatus)&&2!=(null==e?null:e.bonusPointsStatus))("ngIfElse",n)}}function q(e,t){1&e&&(l.Qb(0,"div",14),l.Hc(1," In total there are "),l.Pb())}function E(e,t){}const $=function(){return["groupSerial","level","teacher","lesson","bonusPoint"]},z=function(){return{width:"450px"}};let X=(()=>{class e{constructor(e,t){this.supervisorHomeworkService=e,this.alertService=t}ngOnInit(){this.getRequests()}getRequests(){this.supervisorHomeworkService.getAllRequests().subscribe(e=>{this.bonusRequests=e})}showModal(e){this.requestDialog=!0,this.selectedRequest=e,this.newBonusPoints=e.bonusPoints}rejectRequest(e){let t=new O;t.bonusPoints=e.bonusPoints,t.bonusPointsStatus=2,t.id=e.id,this.supervisorHomeworkService.updateBonusRequest(t).subscribe(e=>{this.alertService.newAlert("success","Saved successfully"),this.getRequests()})}acceptRequest(){let e=new O;e.bonusPoints=this.newBonusPoints,e.bonusPointsStatus=1,e.id=this.selectedRequest.id,this.supervisorHomeworkService.updateBonusRequest(e).subscribe(e=>{this.alertService.newAlert("success","Saved successfully"),this.getRequests()}),this.hideDialog()}hideDialog(){this.requestDialog=!1,this.submitted=!1,this.newBonusPoints=void 0}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(F),l.Kb(u.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-homework"]],decls:18,vars:15,consts:[[1,"container","mb-5"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["header","Edit bonus point","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],["autocomplete","off","type","number","id"," bonusPoint","placeholder","No of bonus point",1,"form-control","adler-form-control",3,"ngModel","ngModelChange"],[1,"btn","adler-btn","my-3","px-5","rounded-pill",3,"click"],[1,"btn","btn-outline-secondary","ml-3","px-5","rounded-pill",3,"click"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"p-m-0"],["pSortableColumn","groupInstanceSerial"],["field","groupInstanceSerial"],["pSortableColumn","subLevel"],["field","subLevel"],["pSortableColumn","teacherName"],["field","teacherName"],["pSortableColumn","lessonOrder"],["field","lessonOrder"],["pSortableColumn","bonusPoints"],["field","bonusPoints"],[4,"ngIf","ngIfElse"],["elseTemp",""],["title","Accept",1,"mr-2","mr-3","text-success",3,"click"],[1,"p-button-icon","pi","pi-check-circle","font-weight-bold"],["title","Reject",1,"mr-2","mr-3","text-danger",3,"click"],[1,"p-button-icon","pi","pi-times-circle","font-weight-bold"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-success"],[1,"text-danger"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"p-table",2,3),l.Xb("selectionChange",function(e){return t.selectedRequest=e}),l.Fc(4,L,3,0,"ng-template",4),l.Fc(5,k,18,0,"ng-template",5),l.Fc(6,G,15,7,"ng-template",6),l.Fc(7,q,2,0,"ng-template",7),l.Fc(8,E,0,0,"ng-template",8),l.Pb(),l.Pb(),l.Pb(),l.Qb(9,"p-dialog",9),l.Xb("visibleChange",function(e){return t.requestDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(10,"h6",10),l.Hc(11,"Please enter the new bonus point"),l.Pb(),l.Qb(12,"input",11),l.Xb("ngModelChange",function(e){return t.newBonusPoints=e}),l.Pb(),l.Qb(13,"div"),l.Qb(14,"button",12),l.Xb("click",function(){return t.acceptRequest()}),l.Hc(15,"Accept Request"),l.Pb(),l.Qb(16,"button",13),l.Xb("click",function(){return t.hideDialog()}),l.Hc(17," Cancel "),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(2),l.ic("responsive",!0)("value",t.bonusRequests)("rows",10)("paginator",!0)("globalFilterFields",l.lc(13,$))("selection",t.selectedRequest)("rowHover",!0)("showCurrentPageReport",!0),l.yb(7),l.Dc(l.lc(14,z)),l.ic("visible",t.requestDialog)("modal",!0),l.yb(3),l.ic("ngModel",t.newBonusPoints))},directives:[m.d,f.i,P.a,d.t,d.b,d.p,d.s,m.c,m.b,o.m],styles:[""]}),e})(),j=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["app-diverse"]],decls:2,vars:0,template:function(e,t){1&e&&(l.Qb(0,"p"),l.Hc(1,"diverse works!"),l.Pb())},styles:[""]}),e})();var B=n("o3Dm"),K=n("tyNb"),U=n("pLZG");const J=function(){return["users"]},V=function(){return["homeworks"]},W=function(){return["tests/entry"]},Y=function(){return["cards"]},Z=function(){return["groups"]},ee=function(){return["managment"]},te=function(){return["feedback-sheet/submissions"]};let ne=(()=>{class e{constructor(e){this.router=e,this.title="Supervisor",this.router.events.pipe(Object(U.a)(e=>e instanceof K.b)).subscribe(e=>{switch(e.url){case"/supervisor/cards":this.title="Cards";break;case"/supervisor/users":this.title="Users";break;case"/supervisor/homeworks":this.title="Homeworks";break;case"/supervisor/quiz":this.title="Quizzes";break;case"/supervisor/diverse":this.title="Diverse";break;case"/supervisor/create-question":this.title="Create Question";break;case"/supervisor/question-list":this.title="Questions List";break;case"/supervisor/create-quiz":this.title="Create Quiz";break;case"/supervisor/groups":this.title="Groups";break;case"/supervisor/tests":this.title="Tests"}})}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(K.c))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-supervisor-pages"]],decls:20,vars:15,consts:[[1,"Progress","container"],[1,"page-title"],[1,"text-primary","font-weight-bold"],[1,"tabs","row","border","d-flex","justify-content-around","flex-wrap","align-items-center","py-2","px-2","mb-4","mx-auto"],["routerLinkActive","active",1,"eduTab","col","text-center",3,"routerLink"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"h1",2),l.Hc(3),l.Pb(),l.Pb(),l.Qb(4,"div",3),l.Qb(5,"a",4),l.Hc(6,"Users "),l.Pb(),l.Qb(7,"a",4),l.Hc(8,"Homeworks "),l.Pb(),l.Qb(9,"a",4),l.Hc(10,"Tests "),l.Pb(),l.Qb(11,"a",4),l.Hc(12,"Cards "),l.Pb(),l.Qb(13,"a",4),l.Hc(14," Group "),l.Pb(),l.Qb(15,"a",4),l.Hc(16," Management "),l.Pb(),l.Qb(17,"a",4),l.Hc(18," Feedback "),l.Pb(),l.Pb(),l.Lb(19,"router-outlet"),l.Pb()),2&e&&(l.yb(3),l.Ic(t.title),l.yb(2),l.ic("routerLink",l.lc(8,J)),l.yb(2),l.ic("routerLink",l.lc(9,V)),l.yb(2),l.ic("routerLink",l.lc(10,W)),l.yb(2),l.ic("routerLink",l.lc(11,Y)),l.yb(2),l.ic("routerLink",l.lc(12,Z)),l.yb(2),l.ic("routerLink",l.lc(13,ee)),l.yb(2),l.ic("routerLink",l.lc(14,te)))},directives:[K.f,K.e,K.h],styles:[".tabs[_ngcontent-%COMP%]{width:75%;height:auto;border-radius:50px;background-image:linear-gradient(270deg,#2c3e90,#b4002b)}.eduTab[_ngcontent-%COMP%]{line-height:40px;color:#fff}.eduTab[_ngcontent-%COMP%]:hover{text-decoration:none}.eduTab.active[_ngcontent-%COMP%]{font-weight:600;background-color:#fff!important;border-radius:50px;color:#2c3e90!important}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#f1f1f1;min-width:160px;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2c3e90;text-decoration:none;display:block;line-height:40px}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ddd}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover{font-weight:600;background-color:#fff!important;border-radius:50px;color:#2c3e90!important}"]}),e})();var ie=n("Wbgf");function oe(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",19),l.Qb(1,"div"),l.Qb(2,"button",20),l.Xb("click",function(){return l.yc(e),l.bc().deleteSelectedSubLevels()}),l.Lb(3,"i",21),l.Pb(),l.Qb(4,"button",22),l.Xb("click",function(){return l.yc(e),l.bc().openNew()}),l.Hc(5," Add New Sub Level "),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=l.bc();l.yb(2),l.ic("disabled",!e.selectedSubLevels||!e.selectedSubLevels.length)}}function se(e,t){1&e&&(l.Qb(0,"th",38),l.Lb(1,"p-tableHeaderCheckbox"),l.Pb())}function re(e,t){1&e&&(l.Qb(0,"tr"),l.Fc(1,se,2,0,"th",23),l.Qb(2,"th",24),l.Hc(3," Name "),l.Lb(4,"p-sortIcon",25),l.Pb(),l.Qb(5,"th",26),l.Hc(6," Number of lessons "),l.Lb(7,"p-sortIcon",27),l.Pb(),l.Qb(8,"th",28),l.Hc(9," Color "),l.Lb(10,"p-sortIcon",29),l.Pb(),l.Qb(11,"th",30),l.Hc(12," is Final "),l.Lb(13,"p-sortIcon",31),l.Pb(),l.Qb(14,"th",32),l.Hc(15," Quiz % "),l.Lb(16,"p-sortIcon",33),l.Pb(),l.Qb(17,"th",34),l.Hc(18," Sublevel test % "),l.Lb(19,"p-sortIcon",35),l.Pb(),l.Qb(20,"th",36),l.Hc(21," Final test % "),l.Lb(22,"p-sortIcon",37),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("ngIf",!1))}function ce(e,t){if(1&e&&(l.Qb(0,"td"),l.Lb(1,"p-tableCheckbox",44),l.Pb()),2&e){const e=l.bc().$implicit;l.yb(1),l.ic("value",e)}}function ae(e,t){1&e&&l.Lb(0,"i",45)}function le(e,t){1&e&&l.Lb(0,"i",46)}function de(e,t){1&e&&(l.Qb(0,"span"),l.Hc(1,"-"),l.Pb())}function be(e,t){if(1&e&&(l.Qb(0,"tr"),l.Fc(1,ce,2,1,"td",39),l.Qb(2,"td"),l.Hc(3),l.Pb(),l.Qb(4,"td"),l.Hc(5),l.Pb(),l.Qb(6,"td"),l.Hc(7),l.Pb(),l.Qb(8,"td"),l.Qb(9,"span",40),l.Fc(10,ae,1,0,"i",41),l.Fc(11,le,1,0,"i",42),l.Fc(12,de,2,0,"span",43),l.Pb(),l.Pb(),l.Qb(13,"td"),l.Hc(14),l.Pb(),l.Qb(15,"td"),l.Hc(16),l.Pb(),l.Qb(17,"td"),l.Hc(18),l.Pb(),l.Pb()),2&e){const e=t.$implicit;l.yb(1),l.ic("ngIf",!1),l.yb(2),l.Jc(" ",null==e?null:e.name," "),l.yb(2),l.Jc(" ",null==e?null:e.numberOflessons," "),l.yb(2),l.Jc(" ",null==e?null:e.color," "),l.yb(2),l.ic("ngSwitch",null==e?null:e.isFinal),l.yb(1),l.ic("ngSwitchCase",!0),l.yb(1),l.ic("ngSwitchCase",!1),l.yb(3),l.Kc(" ",null==e?null:e.quizpercent," ",(null==e?null:e.quizpercent)>-1?"%":""," "),l.yb(2),l.Kc(" ",null==e?null:e.sublevelTestpercent," ",(null==e?null:e.sublevelTestpercent)>-1?"%":""," "),l.yb(2),l.Kc(" ",null==e?null:e.finalTestpercent," ",(null==e?null:e.finalTestpercent)>-1?"%":""," ")}}function ue(e,t){if(1&e&&(l.Qb(0,"div",47),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.subLevels?e.subLevels.length:0," SubLevel. ")}}function pe(e,t){}function he(e,t){1&e&&(l.Qb(0,"button",48),l.Hc(1," Save "),l.Pb())}function ge(e,t){if(1&e){const e=l.Rb();l.Qb(0,"button",49),l.Xb("click",function(){return l.yc(e),l.bc().saveEdit()}),l.Hc(1," Edit "),l.Pb()}}const me=function(){return["name"]},fe=function(){return{width:"450px"}};let Pe=(()=>{class e{constructor(e,t,n,i){this.formBuilder=e,this.confirmSrvc=t,this.alertSrvc=n,this.subLevelService=i,this.editMode=!1}ngOnInit(){this.initAddSubLevelForm(),this.getSubLevels()}initAddSubLevelForm(){this.addSubLevelForm=this.formBuilder.group({name:""})}onSubmit(){if(this.addSubLevelForm.invalid)return this.addSubLevelForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");this.subLevelService.addSubLevel(this.addSubLevelForm.value).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addSubLevelForm.reset(),this.getSubLevels(),this.hideDialog()})}openNew(){this.submitted=!1,this.subLevelDialog=!0}getSubLevels(){this.subLevelService.getAllSubLevels().subscribe(e=>{this.subLevels=e})}editSubLevel(e){this.editMode=!0,this.subLevel=Object.assign({},e),this.subLevelDialog=!0,this.addSubLevelForm.patchValue({Name:e.name})}saveEdit(){if(this.addSubLevelForm.invalid)return this.addSubLevelForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");let e=JSON.parse(JSON.stringify(this.addSubLevelForm.value));e.id=this.subLevel.id,this.subLevelService.editSubLevel(e).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addSubLevelForm.reset(),this.editMode=!1,this.getSubLevels()}),this.hideDialog()}deleteSubLevel(e){this.confirmSrvc.newConfirmation(`Are you sure you want to delete ${e.name} ?`,()=>{this.subLevelService.deleteSubLevel(e.id).subscribe(e=>{this.getSubLevels(),this.alertSrvc.newAlert("success","Successfully Deleted")})},"Confirm")}deleteSelectedSubLevels(){this.confirmSrvc.newConfirmation("Are you sure you want to delete the selected SubLevels?",()=>{let e=[];this.selectedSubLevels&&Array.isArray(this.selectedSubLevels)&&this.selectedSubLevels.forEach(t=>{e.push(this.subLevelService.deleteSubLevel(t.id))}),this.selectedSubLevels=null,Object(a.a)(e).subscribe(e=>{this.alertSrvc.newAlert("success","Successfully Deleted"),this.getSubLevels()})},"Confirm")}hideDialog(){this.subLevelDialog=!1,this.submitted=!1,this.editMode=!1}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(d.e),l.Kb(b.a),l.Kb(u.a),l.Kb(ie.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-sub-level"]],decls:21,vars:18,consts:[[1,"container","pt-5","pb-5"],["class","d-flex flex-wrap justify-content-between mb-5",4,"ngIf"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","selectionChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["header","SubLevel Details","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],[3,"formGroup","ngSubmit"],[1,"row","form-group"],[1,"col-lg-6","col-12"],["autocomplete","off","type","text","pInputText","","id","name","name","name","formControlName","name","autofocus","","placeholder","sub level name",1,"form-control","adler-form-control"],[1,"formbtns","pt-3"],[1,"btn","mr-3","px-5","rounded-pill",3,"click"],["type","submit","class","btn adler-btn px-5 rounded-pill",4,"ngIf"],["type","button","class","btn adler-btn px-5 rounded-pill",3,"click",4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-between","mb-5"],[1,"mr-2","p-button","p-button-icon-only","p-button-rounded","p-button-sm","btn-danger","btn-sm",3,"disabled","click"],[1,"pi","pi-trash"],[1,"btn","adler-btn-sm",3,"click"],["style","width: 4rem",4,"ngIf"],["pSortableColumn","name"],["field","name"],["pSortableColumn","numberOflessons"],["field","numberOflessons"],["pSortableColumn","color"],["field","color"],["pSortableColumn","isFinal"],["field","isFinal"],["pSortableColumn","quizpercent"],["field","quizpercent"],["pSortableColumn","sublevelTestpercent"],["field","sublevelTestpercent"],["pSortableColumn","finalTestpercent"],["field","finalTestpercent"],[2,"width","4rem"],[4,"ngIf"],[3,"ngSwitch"],["class","pi pi-check text-success",4,"ngSwitchCase"],["class","pi pi-times text-danger",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"value"],[1,"pi","pi-check","text-success"],[1,"pi","pi-times","text-danger"],[1,"p-d-flex","p-ai-center","p-jc-between"],["type","submit",1,"btn","adler-btn","px-5","rounded-pill"],["type","button",1,"btn","adler-btn","px-5","rounded-pill",3,"click"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Fc(1,oe,6,1,"div",1),l.Qb(2,"div",2),l.Qb(3,"p-table",3,4),l.Xb("selectionChange",function(e){return t.selectedSubLevels=e}),l.Fc(5,re,23,1,"ng-template",5),l.Fc(6,be,19,13,"ng-template",6),l.Fc(7,ue,2,1,"ng-template",7),l.Fc(8,pe,0,0,"ng-template",8),l.Pb(),l.Pb(),l.Pb(),l.Qb(9,"p-dialog",9),l.Xb("visibleChange",function(e){return t.subLevelDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(10,"h5",10),l.Hc(11,"Please Fill the following form"),l.Pb(),l.Qb(12,"form",11),l.Xb("ngSubmit",function(){return t.onSubmit()}),l.Qb(13,"div",12),l.Qb(14,"div",13),l.Lb(15,"input",14),l.Pb(),l.Pb(),l.Qb(16,"div",15),l.Qb(17,"button",16),l.Xb("click",function(){return t.hideDialog()}),l.Hc(18," Cancel "),l.Pb(),l.Fc(19,he,2,0,"button",17),l.Fc(20,ge,2,0,"button",18),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("ngIf",!1),l.yb(2),l.ic("responsive",!0)("value",t.subLevels)("rows",10)("paginator",!0)("globalFilterFields",l.lc(16,me))("selection",t.selectedSubLevels)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.Dc(l.lc(17,fe)),l.ic("visible",t.subLevelDialog)("modal",!0),l.yb(3),l.ic("formGroup",t.addSubLevelForm),l.yb(7),l.ic("ngIf",!t.editMode),l.yb(1),l.ic("ngIf",t.editMode))},directives:[o.m,m.d,f.i,P.a,d.y,d.q,d.i,d.b,d.p,d.g,m.c,m.b,m.f,o.o,o.p,o.q,m.e],styles:[""]}),e})();var ve=n("izWX"),ye=n("FqdU");let Ce=(()=>{class e{constructor(e){this.http=e,this.prefix="GroupInstance"}getAllGroupInstances(){return this.http.get(`${p.a}/${this.prefix}/GetAll`)}getQuizzesByGroupId(e){return this.http.get(`${p.a}/${this.prefix}/GetQuizzesByGroupInstance/${e}`)}activeTestInstanceByLesson(e){return this.http.put(`${p.a}/${this.prefix}/ActiveTestInstanceByLesson/`,e)}closeTestInstanceByLesson(e){return this.http.put(`${p.a}/${this.prefix}/CloseTestInstanceByLesson/`,e)}getAllToManage(e,t,n,i,o,s){let r=`${p.a}/TestInstance/GetAllTestsToManage?pageNumber=${e}&pageSize=${t}`;return null!=n&&(r+="&groupDefinitionId="+n),null!=i&&(r+="&groupInstanceId="+i),null!=o&&(r+="&Status="+o),null!=s&&(r+="&TestTypeId="+s),this.http.get(r)}getCorrectionRequests(e,t,n,i,o,s,r=!0){let c=`${p.a}/TestInstance/GetTestsToReview?pageNumber=${e}&pageSize=${t}`;return null!=n&&(c+="&GroupDefinitionId="+n),null!=i&&(c+="&GroupInstanceId="+i),null!=o&&(c+="&Status="+o),null!=s&&(c+="&TestTypeId="+s),null!=r&&(c+="&reCorrectionRequest="+r),this.http.get(c)}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac}),e})();var _e=n("Iq3c"),we=n("7o2P"),Qe=n("arFO"),Se=n("6t4m");function Ie(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",16),l.Hc(2," Group Round "),l.Lb(3,"p-sortIcon",17),l.Pb(),l.Qb(4,"th",18),l.Hc(5," Group "),l.Lb(6,"p-sortIcon",19),l.Pb(),l.Qb(7,"th",20),l.Hc(8," Test Name "),l.Lb(9,"p-sortIcon",21),l.Pb(),l.Qb(10,"th",22),l.Hc(11," Student "),l.Lb(12,"p-sortIcon",23),l.Pb(),l.Qb(13,"th",24),l.Hc(14," Test Type "),l.Lb(15,"p-sortIcon",25),l.Pb(),l.Qb(16,"th",26),l.Hc(17," Status "),l.Lb(18,"p-sortIcon",27),l.Pb(),l.Qb(19,"th",28),l.Hc(20,"Action"),l.Pb(),l.Pb())}function xe(e,t){1&e&&(l.Qb(0,"span",41),l.Hc(1,"Quiz"),l.Pb())}function De(e,t){1&e&&(l.Qb(0,"span",42),l.Hc(1,"SubleveL"),l.Pb())}function Te(e,t){1&e&&(l.Qb(0,"span",43),l.Hc(1,"Final"),l.Pb())}function Me(e,t){1&e&&(l.Qb(0,"span",44),l.Hc(1,"Placement"),l.Pb())}function Oe(e,t){1&e&&(l.Qb(0,"span"),l.Hc(1,"-"),l.Pb())}function Fe(e,t){if(1&e){const e=l.Rb();l.Qb(0,"span",45),l.Xb("click",function(){l.yc(e);const t=l.bc().$implicit;return l.bc().closeTest({id:t.id})}),l.Pb()}}function Le(e,t){if(1&e){const e=l.Rb();l.Qb(0,"span",46),l.Xb("click",function(){l.yc(e);const t=l.bc().$implicit;return l.bc().openTest({id:t.id})}),l.Pb()}}function ke(e,t){if(1&e){const e=l.Rb();l.Qb(0,"span",47),l.Xb("click",function(){l.yc(e);const t=l.bc().$implicit;return l.bc().openAll({groupInstanceId:t.id,testId:t.testId})}),l.Pb()}}function He(e,t){if(1&e){const e=l.Rb();l.Qb(0,"span",48),l.Xb("click",function(){l.yc(e);const t=l.bc().$implicit;return l.bc().closeAll({groupInstanceId:t.id,testId:t.testId})}),l.Pb()}}const Ae=function(e,t){return{"status-Pending":e,"status-closed":t}};function Re(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Qb(10,"span",29),l.Fc(11,xe,2,0,"span",30),l.Fc(12,De,2,0,"span",31),l.Fc(13,Te,2,0,"span",32),l.Fc(14,Me,2,0,"span",33),l.Fc(15,Oe,2,0,"span",34),l.Pb(),l.Pb(),l.Qb(16,"td"),l.Qb(17,"div",35),l.Hc(18),l.Pb(),l.Pb(),l.Qb(19,"td"),l.Qb(20,"a",36),l.Fc(21,Fe,1,0,"span",37),l.Fc(22,Le,1,0,"span",38),l.Pb(),l.Qb(23,"a",36),l.Fc(24,ke,1,0,"span",39),l.Pb(),l.Qb(25,"a",36),l.Fc(26,He,1,0,"span",40),l.Pb(),l.Pb(),l.Pb()),2&e){const e=t.$implicit,n=l.bc();l.yb(2),l.Ic(e.groupDefinitionSerial),l.yb(2),l.Ic(e.groupInstanceSerial),l.yb(2),l.Ic(e.testName),l.yb(2),l.Ic(e.studentName),l.yb(2),l.ic("ngSwitch",e.testType),l.yb(1),l.ic("ngSwitchCase",0),l.yb(1),l.ic("ngSwitchCase",1),l.yb(1),l.ic("ngSwitchCase",2),l.yb(1),l.ic("ngSwitchCase",3),l.yb(3),l.ic("ngClass",l.nc(15,Ae,1===e.status,0===e.status)),l.yb(1),l.Jc(" ",n.getTestStatus(e.status)," "),l.yb(3),l.ic("ngIf",1==e.status),l.yb(1),l.ic("ngIf",0==e.status),l.yb(2),l.ic("ngIf",0==e.status),l.yb(2),l.ic("ngIf",1==e.status)}}function Ne(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2,"No records found"),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.zb("colspan",3))}function Ge(e,t){if(1&e){const e=l.Rb();l.Qb(0,"li"),l.Qb(1,"div",49),l.Qb(2,"div",50),l.Qb(3,"p",51),l.Hc(4),l.Pb(),l.Pb(),l.Qb(5,"div",52),l.Qb(6,"button",53),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().activeQuiz(n.id)}),l.Hc(7,"Activate"),l.Pb(),l.Qb(8,"button",54),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().closeQuiz(n.id)}),l.Hc(9,"Close"),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(4),l.Jc(" ",e.name," ")}}const qe=function(){return["questionType"]},Ee=function(){return{width:"50vw"}};let $e=(()=>{class e{constructor(e,t,n,i){this.groupInstanceService=e,this.alertService=t,this.quizService=n,this.commonService=i,this.groupDefinitionsDropDown=[],this.groupInstancesDropDown=[],this.pageNumber=1,this.showQuizzesList=!1,this.pageSize=10,this.testTypes=[{label:"Test Type",value:null},{label:"Quiz",value:ve.a.Quiz},{label:"Sublevel Test",value:ve.a.SubLevel},{label:"Final Test",value:ve.a.Final},{label:"Placement Test",value:ve.a.Placement}],this.testStatus=[{label:"Status",value:null},{label:"Pending",value:ye.a.Pending},{label:"Closed",value:ye.a.Closed}],this.groupDefinitionsDropDown.push({label:"Group Round Serial",value:null}),this.groupInstancesDropDown.push({label:"Group Serial",value:null}),this.getAllGroupInstances(),this.getAllGroupDefinition()}ngOnInit(){this.getTestsToManage(this.pageNumber,this.pageSize)}getAllGroupDefinition(){this.commonService.getAllGroupDefinition().subscribe(e=>{for(let t of e.data)this.groupDefinitionsDropDown.push({label:t.serial,value:parseInt(t.id)})})}getAllGroupInstances(){this.commonService.getAllGroupInstances().subscribe(e=>{for(let t of e.data)this.groupInstancesDropDown.push({label:t.serial,value:parseInt(t.id)})})}getTestsToManage(e,t,n,i,o,s){this.groupInstanceService.getAllToManage(e,t,n,i,o,s).subscribe(e=>{this.groupInstances=e.data,this.itemList=e})}openQuizzesList(e){this.groupInstanceService.getQuizzesByGroupId(e).subscribe(e=>{this.quizzesList=e.data,this.showQuizzesList=!0})}activeQuiz(e){this.groupInstanceService.activeTestInstanceByLesson(e).subscribe(e=>{this.alertService.newAlert("success","Quiz Activated Successfuly")})}closeQuiz(e){this.groupInstanceService.closeTestInstanceByLesson(e).subscribe(e=>{this.alertService.newAlert("success","Quiz Closed Successfuly")})}filter(e){this.getTestsToManage(this.pageNumber,this.pageSize,this.selectedGroupDefinition,this.selectedGroupInstance,this.selectedTestStatus,this.selectedTestType)}getTestStatus(e){switch(e){case ye.a.Pending:this.status="Pending";break;case ye.a.Closed:this.status="Closed";break;default:this.status="Pending"}return this.status}openTest(e){this.quizService.openTest(e).subscribe(e=>{this.alertService.newAlert("success","Status Updated To Pending successfully "),setTimeout(()=>{this.filter()},500)})}closeTest(e){this.quizService.closeTest(e).subscribe(e=>{setTimeout(()=>{this.filter()},500),this.alertService.newAlert("success","Status Updated To Closed successfully ")})}onPageChange(e){this.pageNumber=e.page+1,this.getTestsToManage(this.pageNumber,this.pageSize,this.selectedGroupDefinition,this.selectedGroupInstance,this.selectedTestStatus,this.selectedTestType)}openAll(e){this.quizService.openAllTests(e).subscribe(e=>{setTimeout(()=>{this.filter()},500),this.alertService.newAlert("success","Status Updated To Active successfully ")})}closeAll(e){this.quizService.closeAllTests(e).subscribe(e=>{setTimeout(()=>{this.filter()},500),this.alertService.newAlert("success","Status Updated To Closed successfully ")})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(Ce),l.Kb(u.a),l.Kb(_e.a),l.Kb(we.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-manage-group-instances-quizzes"]],decls:28,vars:23,consts:[[1,"container","mb-5"],[1,"d-flex","mb-5","mt-5","align-items-end"],[1,"d-flex","flex-column","mr-3"],["for","d-flex"],[3,"options","ngModel","ngModelChange","onChange"],["for",""],[1,"d-flex","flex-column","mr-5"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","Quizzes",3,"visible","visibleChange"],[4,"ngFor","ngForOf"],["pSortableColumn","groupDefinitionSerial",2,"width","15%"],["field","groupDefinitionSerial"],["pSortableColumn","groupInstanceSerial",2,"width","15%"],["field","groupInstanceSerial"],["pSortableColumn","testName"],["field","testName"],["pSortableColumn","studentName",2,"width","20%"],["field","studentName"],["pSortableColumn","testType"],["field","testType"],["pSortableColumn","status"],["field","status"],[2,"width","15%"],[1,"font-weight-bold",3,"ngSwitch"],["class","quiz",4,"ngSwitchCase"],["class","sublevel",4,"ngSwitchCase"],["class","final",4,"ngSwitchCase"],["class","placement",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"status","quiz-status-text","mt-2",3,"ngClass"],[1,"mr-2","mr-3","text-info"],["title","Close","class","p-button-icon pi pi-unlock text-success font-weight-bold",3,"click",4,"ngIf"],["title","Open","class","p-button-icon pi pi-lock text-muted font-weight-bold",3,"click",4,"ngIf"],["title","Open all","class","p-button-icon fas fa-door-open text-success font-weight-bold",3,"click",4,"ngIf"],["title","Close all","class","p-button-icon fas fa-door-closed text-danger font-weight-bold",3,"click",4,"ngIf"],[1,"quiz"],[1,"sublevel"],[1,"final"],[1,"placement"],["title","Close",1,"p-button-icon","pi","pi-unlock","text-success","font-weight-bold",3,"click"],["title","Open",1,"p-button-icon","pi","pi-lock","text-muted","font-weight-bold",3,"click"],["title","Open all",1,"p-button-icon","fas","fa-door-open","text-success","font-weight-bold",3,"click"],["title","Close all",1,"p-button-icon","fas","fa-door-closed","text-danger","font-weight-bold",3,"click"],[1,"row"],[1,"col-md-9"],[1,"quiz-name"],[1,"col-md-3"],[1,"btn-secondary","btn",3,"click"],[1,"btn-danger","btn",3,"click"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"label",3),l.Hc(4,"Group Round Id"),l.Pb(),l.Qb(5,"p-dropdown",4),l.Xb("ngModelChange",function(e){return t.selectedGroupDefinition=e})("onChange",function(e){return t.filter(e)}),l.Pb(),l.Pb(),l.Qb(6,"div",2),l.Qb(7,"label",3),l.Hc(8,"Group Serial"),l.Pb(),l.Qb(9,"p-dropdown",4),l.Xb("ngModelChange",function(e){return t.selectedGroupInstance=e})("onChange",function(e){return t.filter(e)}),l.Pb(),l.Pb(),l.Qb(10,"div",2),l.Qb(11,"label",5),l.Hc(12,"Status"),l.Pb(),l.Qb(13,"p-dropdown",4),l.Xb("ngModelChange",function(e){return t.selectedTestStatus=e})("onChange",function(e){return t.filter(e)}),l.Pb(),l.Pb(),l.Qb(14,"div",6),l.Qb(15,"label",5),l.Hc(16,"Test Type"),l.Pb(),l.Qb(17,"p-dropdown",4),l.Xb("ngModelChange",function(e){return t.selectedTestType=e})("onChange",function(e){return t.filter(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(18,"div",7),l.Qb(19,"p-table",8,9),l.Fc(21,Ie,21,0,"ng-template",10),l.Fc(22,Re,27,18,"ng-template",11),l.Fc(23,Ne,3,1,"ng-template",12),l.Pb(),l.Qb(24,"p-paginator",13),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(25,"p-dialog",14),l.Xb("visibleChange",function(e){return t.showQuizzesList=e}),l.Qb(26,"ul"),l.Fc(27,Ge,10,1,"li",15),l.Pb(),l.Pb()),2&e&&(l.yb(5),l.ic("options",t.groupDefinitionsDropDown)("ngModel",t.selectedGroupDefinition),l.yb(4),l.ic("options",t.groupInstancesDropDown)("ngModel",t.selectedGroupInstance),l.yb(4),l.ic("options",t.testStatus)("ngModel",t.selectedTestStatus),l.yb(4),l.ic("options",t.testTypes)("ngModel",t.selectedTestType),l.yb(2),l.ic("responsive",!0)("value",t.groupInstances)("rows",10)("paginator",!1)("globalFilterFields",l.lc(21,qe))("rowHover",!0)("showCurrentPageReport",!1),l.yb(5),l.ic("rows",null==t.itemList?null:t.itemList.pageSize)("totalRecords",null==t.itemList?null:t.itemList.count),l.yb(1),l.Dc(l.lc(22,Ee)),l.ic("visible",t.showQuizzesList),l.yb(2),l.ic("ngForOf",t.quizzesList))},directives:[Qe.a,d.p,d.s,m.d,f.i,Se.a,P.a,o.l,m.c,m.b,o.o,o.p,o.q,o.k,o.m],styles:["ul[_ngcontent-%COMP%]{padding:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:.5rem;border:1px solid #ddd;margin-bottom:10px;border-radius:8px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .quiz-name[_ngcontent-%COMP%]{display:inline-block;width:70%;margin-bottom:0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:3px}.status[_ngcontent-%COMP%]{border-color:#d9a600!important;display:inline-block;background-color:#d9a600;padding:2px 10px;border-radius:8px;font-size:12px;color:#fff;width:75px;text-align:center}.status.status-closed[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d}.status-Pending[_ngcontent-%COMP%]{border-color:#d9a600!important;color:#fff}.quiz[_ngcontent-%COMP%]{color:#999}.placement[_ngcontent-%COMP%]{color:#07103a}.final[_ngcontent-%COMP%]{color:#f5525a}.sublevel[_ngcontent-%COMP%]{color:#2926ec}"]}),e})();var ze=n("W6KJ"),Xe=n("gg+2"),je=n("iTZO"),Be=n("0d9Q"),Ke=n("dojK");function Ue(e,t){1&e&&(l.Ob(0),l.Qb(1,"li"),l.Qb(2,"a",5),l.Lb(3,"img",3),l.Hc(4,"Bundles"),l.Pb(),l.Pb(),l.Qb(5,"li"),l.Qb(6,"a",6),l.Lb(7,"img",3),l.Hc(8,"Units"),l.Pb(),l.Pb(),l.Nb())}function Je(e,t){1&e&&(l.Qb(0,"li"),l.Qb(1,"a",7),l.Lb(2,"img",3),l.Hc(3,"Authorize Teachers"),l.Pb(),l.Pb())}let Ve=(()=>{class e{constructor(){}ngOnInit(){var e;this.showAuthorizeTeacher=localStorage.getItem("roles").includes("Supervisor")||localStorage.getItem("roles").includes("SuperAdmin"),this.addAdlerCards=null===(e=localStorage.getItem("claims"))||void 0===e?void 0:e.includes(Ke.a.AddAdlerCard)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["app-cards"]],decls:11,vars:2,consts:[[1,"main-ul"],[4,"ngIf"],["routerLink","adler-cards"],["src","assets/images/cards/dummy.svg","alt",""],["routerLink","submissions/teacher"],["routerLink","bundles"],["routerLink","units"],["routerLink","authorize-teachers"]],template:function(e,t){1&e&&(l.Qb(0,"ul",0),l.Fc(1,Ue,9,0,"ng-container",1),l.Qb(2,"li"),l.Qb(3,"a",2),l.Lb(4,"img",3),l.Hc(5,"Adler Cards List"),l.Pb(),l.Pb(),l.Qb(6,"li"),l.Qb(7,"a",4),l.Lb(8,"img",3),l.Hc(9,"Submissions"),l.Pb(),l.Pb(),l.Fc(10,Je,4,0,"li",1),l.Pb()),2&e&&(l.yb(1),l.ic("ngIf",t.addAdlerCards),l.yb(9),l.ic("ngIf",t.showAuthorizeTeacher))},directives:[o.m,K.f],styles:["ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:50px 0 0;display:flex;flex-wrap:wrap;grid-gap:15px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:15px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fbfbfd;text-align:center;font-size:18px;font-weight:600;min-width:200px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:30px 19px;color:var(--blue);display:block;text-decoration:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto 50px;max-width:60px}@media screen and (max-width:577px){ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:100%}}.main-ul[_ngcontent-%COMP%]{margin-bottom:35px}"]}),e})(),We=(()=>{class e{constructor(e){this.http=e}get(e){return this.http.get(e)}post(e,t){return this.http.post(e,t)}put(e,t){return this.http.put(e,t)}delete(e){return this.http.delete(e)}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ye(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",23),l.Hc(2," Bundle Name "),l.Lb(3,"p-sortIcon",24),l.Pb(),l.Qb(4,"th",25),l.Hc(5," Bundle Count "),l.Lb(6,"p-sortIcon",26),l.Pb(),l.Qb(7,"th",27),l.Hc(8," Price "),l.Lb(9,"p-sortIcon",28),l.Pb(),l.Qb(10,"th",29),l.Hc(11," Discount Price "),l.Lb(12,"p-sortIcon",30),l.Pb(),l.Qb(13,"th",31),l.Hc(14," Available From "),l.Lb(15,"p-sortIcon",32),l.Pb(),l.Qb(16,"th",33),l.Hc(17," Available Till"),l.Lb(18,"p-sortIcon",34),l.Pb(),l.Qb(19,"th",35),l.Hc(20,"Actions"),l.Pb(),l.Pb())}function Ze(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Hc(10),l.cc(11,"date"),l.Pb(),l.Qb(12,"td"),l.Hc(13),l.cc(14,"date"),l.Pb(),l.Qb(15,"td"),l.Qb(16,"a",36),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().editBundle(n)}),l.Lb(17,"span",37),l.Pb(),l.Qb(18,"a",38),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().deleteBundle(n)}),l.Lb(19,"span",39),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Ic(e.name),l.yb(2),l.Ic(e.count),l.yb(2),l.Ic(e.price),l.yb(2),l.Ic(e.discountPrice),l.yb(2),l.Ic(l.dc(11,6,e.availableFrom)),l.yb(3),l.Ic(l.dc(14,8,e.availableTill))}}function et(e,t){if(1&e&&(l.Qb(0,"div",40),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.bundles.length," Bundles. ")}}function tt(e,t){}const nt=function(){return["name","count","price","discountPrice","availableFrom","availableTill"]},it=function(){return{width:"450px"}};let ot=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.alertSrvc=t,this.confirmSrvc=n,this.apiService=i,this.bundles=[],this.editMode=!1}ngOnInit(){this.initAddBundleForm(),this.getBundles()}initAddBundleForm(){this.addBundleForm=this.fb.group({id:[""],count:["",d.x.required],name:["",d.x.required],price:["",d.x.required],discountPrice:[""],availableFrom:[""],availableTill:[""]})}openAddForm(){this.showDialog=!0}onSubmit(){if(this.addBundleForm.invalid)return this.addBundleForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");this.apiService.post(p.a+"/AdlerCardsBundle/CreateAdlerCardBundle",this.addBundleForm.value).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addBundleForm.reset(),this.getBundles(),this.hideDialog()})}editBundle(e){this.editMode=!0,this.showDialog=!0,this.addBundleForm.patchValue({id:e.id,count:e.count,name:e.name,price:e.price,discountPrice:e.discountPrice,availableFrom:this.formatDate(e.availableFrom),availableTill:this.formatDate(e.availableTill)})}formatDate(e){const t=new Date(e);let n=""+(t.getMonth()+1),i=""+t.getDate();const o=t.getFullYear();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[o,n,i].join("-")}updateBundle(){if(this.addBundleForm.invalid)return this.addBundleForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");this.apiService.put(`${p.a}/AdlerCardsBundle/${this.addBundleForm.get("id").value}`,this.addBundleForm.value).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addBundleForm.reset(),this.editMode=!1,this.getBundles()}),this.hideDialog()}hideDialog(){this.showDialog=!1,this.editMode=!1,this.addBundleForm.reset()}getBundles(){this.apiService.get(p.a+"/AdlerCardsBundle/GetAllAdlerCardBundle").subscribe(e=>{this.bundles=e.data})}deleteBundle(e){this.confirmSrvc.newConfirmation(`Are you sure you want to delete this bundle "${e.name}"?`,()=>{this.apiService.delete(`${p.a}/AdlerCardsBundle/${e.id}`).subscribe(e=>{this.getBundles(),this.alertSrvc.newAlert("success","Successfully Deleted")})},"Confirm")}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(d.e),l.Kb(u.a),l.Kb(b.a),l.Kb(We))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-bundles"]],decls:36,vars:15,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","justify-content-between","mb-5"],[1,"btn","adler-btn-sm",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["header","Bundle Details","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],[3,"formGroup"],[1,"p-field","p-col"],["autocomplete","off","type","text","pInputText","","formControlName","name","placeholder","Bundle Name",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","formControlName","count","placeholder","Bundle Count",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","formControlName","price","placeholder","Bundle Price",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","formControlName","discountPrice","placeholder","Bundle Discount Price",1,"form-control","adler-form-control"],["autocomplete","off","type","date","autocomplete","off","pInputText","","formControlName","availableFrom","placeholder","Available From",1,"form-control","adler-form-control"],["autocomplete","off","type","date","pInputText","","autocomplete","off","formControlName","availableTill","placeholder","Available Till",1,"form-control","adler-form-control"],[1,"formbtns","pt-3"],[1,"btn","mr-3","px-5","rounded-pill",3,"click"],["type","button",1,"btn","adler-btn","px-5","rounded-pill",3,"click"],["pSortableColumn","name"],["field","name"],["pSortableColumn","count"],["field","count"],["pSortableColumn","price"],["field","price"],["pSortableColumn","discountPrice"],["field","discountPrice"],["pSortableColumn","availableFrom"],["field","availableFrom"],["pSortableColumn","availableTill"],["field","availableTill"],[2,"width","10wrem"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"button",2),l.Xb("click",function(){return t.openAddForm()}),l.Hc(3," Add New Bundle "),l.Pb(),l.Pb(),l.Qb(4,"div",3),l.Qb(5,"p-table",4,5),l.Fc(7,Ye,21,0,"ng-template",6),l.Fc(8,Ze,20,10,"ng-template",7),l.Fc(9,et,2,1,"ng-template",8),l.Fc(10,tt,0,0,"ng-template",9),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,"p-dialog",10),l.Xb("visibleChange",function(e){return t.showDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(12,"h5",11),l.Hc(13,"Please Fill the following form"),l.Pb(),l.Qb(14,"form",12),l.Qb(15,"div",13),l.Lb(16,"input",14),l.Pb(),l.Qb(17,"div",13),l.Lb(18,"input",15),l.Pb(),l.Qb(19,"div",13),l.Lb(20,"input",16),l.Pb(),l.Qb(21,"div",13),l.Lb(22,"input",17),l.Pb(),l.Qb(23,"div",13),l.Qb(24,"label"),l.Hc(25,"Available From"),l.Pb(),l.Lb(26,"input",18),l.Pb(),l.Qb(27,"div",13),l.Qb(28,"label"),l.Hc(29,"Available Till"),l.Pb(),l.Lb(30,"input",19),l.Pb(),l.Qb(31,"div",20),l.Qb(32,"button",21),l.Xb("click",function(){return t.hideDialog()}),l.Hc(33," Cancel "),l.Pb(),l.Qb(34,"button",22),l.Xb("click",function(){return t.editMode?t.updateBundle():t.onSubmit()}),l.Hc(35),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(5),l.ic("responsive",!0)("value",t.bundles)("rows",10)("paginator",!0)("globalFilterFields",l.lc(13,nt))("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.Dc(l.lc(14,it)),l.ic("visible",t.showDialog)("modal",!0),l.yb(3),l.ic("formGroup",t.addBundleForm),l.yb(21),l.Jc(" ",t.editMode?"Edit":"Save"," "))},directives:[m.d,f.i,P.a,d.y,d.q,d.i,d.b,d.p,d.g,m.c,m.b],pipes:[o.f],styles:[""]}),e})();function st(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",25),l.Hc(2," Unit Name "),l.Lb(3,"p-sortIcon",26),l.Pb(),l.Qb(4,"th",27),l.Hc(5," Unit Description "),l.Lb(6,"p-sortIcon",28),l.Pb(),l.Qb(7,"th",29),l.Hc(8," Level "),l.Lb(9,"p-sortIcon",30),l.Pb(),l.Qb(10,"th",31),l.Hc(11," Adler Cards Type Id "),l.Lb(12,"p-sortIcon",32),l.Pb(),l.Qb(13,"th",33),l.Hc(14," Order "),l.Lb(15,"p-sortIcon",34),l.Pb(),l.Qb(16,"th",35),l.Hc(17,"Actions"),l.Pb(),l.Pb())}function rt(e,t){1&e&&(l.Ob(0),l.Hc(1,"Speaking"),l.Nb())}function ct(e,t){1&e&&(l.Ob(0),l.Hc(1,"Listening"),l.Nb())}function at(e,t){1&e&&(l.Ob(0),l.Hc(1,"Reading"),l.Nb())}function lt(e,t){1&e&&(l.Ob(0),l.Hc(1,"Writing"),l.Nb())}function dt(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Ob(8,36),l.Fc(9,rt,2,0,"ng-container",37),l.Fc(10,ct,2,0,"ng-container",37),l.Fc(11,at,2,0,"ng-container",37),l.Fc(12,lt,2,0,"ng-container",37),l.Nb(),l.Pb(),l.Qb(13,"td"),l.Hc(14),l.Pb(),l.Qb(15,"td"),l.Qb(16,"a",38),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().editUnit(n)}),l.Lb(17,"span",39),l.Pb(),l.Qb(18,"a",40),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().deleteUnit(n)}),l.Lb(19,"span",41),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Ic(e.name),l.yb(2),l.Ic(e.description),l.yb(2),l.Ic(e.level.name),l.yb(2),l.ic("ngSwitch",e.adlerCardsTypeId),l.yb(1),l.ic("ngSwitchCase",0),l.yb(1),l.ic("ngSwitchCase",1),l.yb(1),l.ic("ngSwitchCase",2),l.yb(1),l.ic("ngSwitchCase",3),l.yb(2),l.Ic(e.order)}}function bt(e,t){if(1&e&&(l.Qb(0,"div",42),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.units.length," Units. ")}}function ut(e,t){}const pt=function(){return["name","description","level","adlerCardsTypeId","order"]},ht=function(){return{width:"650px"}};let gt=(()=>{class e{constructor(e,t,n,i){this.fb=e,this.alertSrvc=t,this.confirmSrvc=n,this.apiService=i,this.units=[],this.editMode=!1,this.cardTypes=[],this.levels=[],this.cardTypes=[{value:0,title:"Speaking"},{value:1,title:"Listening"},{value:2,title:"Reading"},{value:3,title:"Writing"}]}ngOnInit(){this.initAddUnitForm(),this.getUnits(),this.getLevels()}initAddUnitForm(){this.addUnitForm=this.fb.group({id:"",name:["",[d.x.required,d.x.pattern("^[a-zA-Z ]+$")]],description:["",[d.x.required,d.x.pattern("^[a-zA-Z ]+$")]],image:["",d.x.required],levelId:["",[d.x.required,d.x.pattern("^[0-9]+$")]],adlerCardsTypeId:["",[d.x.required,d.x.pattern("^[0-9]+$")]],order:["",[d.x.required,d.x.pattern("^[0-9]+$")]]})}openAddForm(){this.showDialog=!0}onSubmit(){if(this.addUnitForm.invalid)return this.addUnitForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");this.apiService.post(p.a+"/AdlerCardsUnit",this.addUnitForm.value).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addUnitForm.reset(),this.getUnits(),this.hideDialog()})}editUnit(e){this.editMode=!0,this.showDialog=!0,this.addUnitForm.patchValue({id:e.id,name:e.name,description:e.description,image:e.image,levelId:e.levelId,adlerCardsTypeId:e.adlerCardsTypeId,order:e.order})}updateUnit(){if(console.log(this.addUnitForm.value),this.addUnitForm.invalid)return this.addUnitForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");this.apiService.put(`${p.a}/AdlerCardsUnit/${this.addUnitForm.get("id").value}`,this.addUnitForm.value).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addUnitForm.reset(),this.editMode=!1,this.getUnits()}),this.hideDialog()}hideDialog(){this.showDialog=!1,this.editMode=!1,this.addUnitForm.reset()}getUnits(){this.apiService.get(p.a+"/AdlerCardsUnit/GetALLAdlerCardUnits?PageNumber=1&PageSize=999").subscribe(e=>{this.units=e.data})}getLevels(){this.apiService.get(p.a+"/Level/GetAll?PageNumber=1&PageSize=999").subscribe(e=>{console.log(e.data),this.levels=e.data})}deleteUnit(e){this.confirmSrvc.newConfirmation(`Are you sure you want to delete this unit "${e.name}"?`,()=>{this.apiService.delete(`${p.a}/AdlerCardsUnit/${e.id}`).subscribe(e=>{this.getUnits(),this.alertSrvc.newAlert("success","Successfully Deleted")})},"Confirm")}encodeImageFileAsURL(e){const t=e.srcElement.files[0],n=new FileReader;n.onloadend=()=>{this.addUnitForm.patchValue({image:n.result})},n.readAsDataURL(t)}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(d.e),l.Kb(u.a),l.Kb(b.a),l.Kb(We))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-units"]],decls:45,vars:38,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","justify-content-between","mb-5"],[1,"btn","adler-btn-sm",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["header","Unit Details","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],[3,"formGroup"],[1,"row","form-group"],[1,"p-field","p-col","col-lg-6","col-12","mb-2"],["for",""],["autocomplete","off","type","text","pInputText","","formControlName","name","placeholder","Unit Name",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","formControlName","description","placeholder","Unit Description",1,"form-control","adler-form-control"],["autocomplete","off","type","file","placeholder","Image",1,"form-control","adler-form-control",2,"padding","8px 20px 35px",3,"change"],["name","country","id","country","formControlName","levelId","optionLabel","name","optionValue","id","placeholder","Adler Cards Type Id","required","",3,"options","filter","showClear"],["name","country","id","country","formControlName","adlerCardsTypeId","optionLabel","title","optionValue","value","placeholder","Adler Cards Type Id","required","",3,"options","filter","showClear"],["autocomplete","off","type","text","pInputText","","formControlName","order","placeholder","Order",1,"form-control","adler-form-control"],[1,"formbtns","pt-3"],[1,"btn","mr-3","px-5","rounded-pill",3,"click"],["type","button",1,"btn","adler-btn","px-5","rounded-pill",3,"disabled","click"],["pSortableColumn","name"],["field","name"],["pSortableColumn","description"],["field","description"],["pSortableColumn","level"],["field","level"],["pSortableColumn","adlerCardsTypeId"],["field","adlerCardsTypeId"],["pSortableColumn","order"],["field","order"],[2,"width","10wrem"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"button",2),l.Xb("click",function(){return t.openAddForm()}),l.Hc(3," Add New Unit "),l.Pb(),l.Pb(),l.Qb(4,"div",3),l.Qb(5,"p-table",4,5),l.Fc(7,st,18,0,"ng-template",6),l.Fc(8,dt,20,9,"ng-template",7),l.Fc(9,bt,2,1,"ng-template",8),l.Fc(10,ut,0,0,"ng-template",9),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,"p-dialog",10),l.Xb("visibleChange",function(e){return t.showDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(12,"h5",11),l.Hc(13,"Please Fill the following form"),l.Pb(),l.Qb(14,"form",12),l.Qb(15,"div",13),l.Qb(16,"div",14),l.Qb(17,"label",15),l.Hc(18,"Unit Name"),l.Pb(),l.Lb(19,"input",16),l.Pb(),l.Qb(20,"div",14),l.Qb(21,"label",15),l.Hc(22,"Unit Description"),l.Pb(),l.Lb(23,"input",17),l.Pb(),l.Qb(24,"div",14),l.Qb(25,"label",15),l.Hc(26,"Image"),l.Pb(),l.Qb(27,"input",18),l.Xb("change",function(e){return t.encodeImageFileAsURL(e)}),l.Pb(),l.Pb(),l.Qb(28,"div",14),l.Qb(29,"label",15),l.Hc(30,"Level Id"),l.Pb(),l.Lb(31,"p-dropdown",19),l.Pb(),l.Qb(32,"div",14),l.Qb(33,"label",15),l.Hc(34,"Adler Cards Type"),l.Pb(),l.Lb(35,"p-dropdown",20),l.Pb(),l.Qb(36,"div",14),l.Qb(37,"label",15),l.Hc(38,"Order"),l.Pb(),l.Lb(39,"input",21),l.Pb(),l.Qb(40,"div",22),l.Qb(41,"button",23),l.Xb("click",function(){return t.hideDialog()}),l.Hc(42," Cancel "),l.Pb(),l.Qb(43,"button",24),l.Xb("click",function(){return t.editMode?t.updateUnit():t.onSubmit()}),l.Hc(44),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(5),l.ic("responsive",!0)("value",t.units)("rows",10)("paginator",!0)("globalFilterFields",l.lc(36,pt))("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.Dc(l.lc(37,ht)),l.ic("visible",t.showDialog)("modal",!0),l.yb(3),l.ic("formGroup",t.addUnitForm),l.yb(5),l.Cb("invalid-outline",t.addUnitForm.get("name").touched&&t.addUnitForm.get("name").invalid)("valid-outline",t.addUnitForm.get("name").touched&&t.addUnitForm.get("name").valid),l.yb(4),l.Cb("invalid-outline",t.addUnitForm.get("description").touched&&t.addUnitForm.get("description").invalid)("valid-outline",t.addUnitForm.get("description").touched&&t.addUnitForm.get("description").valid),l.yb(4),l.Cb("invalid-outline",t.addUnitForm.get("image").touched&&t.addUnitForm.get("image").invalid)("valid-outline",t.addUnitForm.get("image").touched&&t.addUnitForm.get("image").valid),l.yb(4),l.ic("options",t.levels)("filter",!0)("showClear",!0),l.yb(4),l.ic("options",t.cardTypes)("filter",!0)("showClear",!0),l.yb(4),l.Cb("invalid-outline",t.addUnitForm.get("order").touched&&t.addUnitForm.get("order").invalid)("valid-outline",t.addUnitForm.get("order").touched&&t.addUnitForm.get("order").valid),l.yb(4),l.ic("disabled",t.addUnitForm.invalid),l.yb(1),l.Jc(" ",t.editMode?"Edit":"Save"," "))},directives:[m.d,f.i,P.a,d.y,d.q,d.i,d.b,d.p,d.g,Qe.a,d.w,m.c,m.b,o.o,o.p],styles:[""]}),e})();var mt=n("Qd2v");let ft=(()=>{class e{constructor(e){this.http=e,this.prefix="AdlerCard"}getAllAdlerCards(){return this.http.get(`${p.a}/${this.prefix}/GetALLAdlerCard`)}getAllUnits(){return this.http.get(p.a+"/AdlerCardsUnit/GetALLAdlerCardUnits")}createAdlerCard(e){return this.http.post(p.a+"/AdlerCard/CreateAdlerCard",e)}getAdlerCard(e){return this.http.get(`${p.a}/AdlerCard/${e}`)}addUnit(e){return this.http.post(p.a+"/AdlerCardsUnit",e)}deleteCard(e){return this.http.delete(`${p.a}/AdlerCard/${e}`)}updateCard(e,t){return this.http.put(`${p.a}/AdlerCard/${t}`,e)}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac}),e})();function Pt(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",26),l.Hc(2," Card Name "),l.Lb(3,"p-sortIcon",27),l.Pb(),l.Qb(4,"th",28),l.Hc(5," Level "),l.Lb(6,"p-sortIcon",29),l.Pb(),l.Qb(7,"th",30),l.Hc(8," Type Id "),l.Lb(9,"p-sortIcon",31),l.Pb(),l.Qb(10,"th",32),l.Hc(11," Unit Id "),l.Lb(12,"p-sortIcon",33),l.Pb(),l.Qb(13,"th",34),l.Hc(14,"Actions"),l.Pb(),l.Pb())}const vt=function(e){return[e]};function yt(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Qb(10,"a",35),l.Lb(11,"span",36),l.Pb(),l.Qb(12,"a",37),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().deleteCard(n)}),l.Lb(13,"span",38),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Ic(e.name),l.yb(2),l.Ic(e.level.name),l.yb(2),l.Ic(e.adlerCardsTypeId),l.yb(2),l.Ic(e.adlerCardsUnitId),l.yb(2),l.ic("routerLink",l.mc(5,vt,"../edit-adler-card/"+e.id))}}function Ct(e,t){if(1&e&&(l.Qb(0,"div",39),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",null==e.cards?null:e.cards.length," Cards. ")}}function _t(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2,"No records found"),l.Pb(),l.Pb()),2&e){const e=t.$implicit;l.yb(1),l.zb("colspan",null==e?null:e.length)}}const wt=function(){return["../create-adler-card"]},Qt=function(){return["name","description","level","adlerCardsTypeId","order"]},St=function(){return{width:"450px"}};let It=(()=>{class e{constructor(e,t,n,i,o,s){this.fb=e,this.alertSrvc=t,this.confirmSrvc=n,this.apiService=i,this.adlerCardsService=o,this.commonService=s,this.cards=[],this.editMode=!1,this.levels=[],this.cardTypes=[],this.cardTypes=[{label:"Reading",value:mt.a.Reading},{label:"Writing",value:mt.a.Writing},{label:"Listening",value:mt.a.Listening},{label:"Speaking",value:mt.a.Speaking}]}ngOnInit(){this.initAddCardForm(),this.getLevels(),this.getCards()}getLevels(){this.commonService.getAllLevels().subscribe(e=>{for(let t of e.data)this.levels.push({label:t.name,value:parseInt(t.id)})})}initAddCardForm(){this.addCardForm=this.fb.group({name:"",adlerCardsTypeId:0,order:0,levelId:0,description:""})}openAddForm(){this.showDialog=!0}onSubmit(){if(this.addCardForm.invalid)return this.addCardForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");this.adlerCardsService.addUnit(this.addCardForm.value).subscribe(e=>{this.alertSrvc.newAlert("Success","Unit Added successfully"),this.addCardForm.reset(),this.getCards(),this.hideDialog()})}editCard(e){this.editMode=!0,this.showDialog=!0,this.addCardForm.patchValue({})}updateCard(){if(this.addCardForm.invalid)return this.addCardForm.markAllAsTouched(),this.alertSrvc.newAlert("error","Please complete all the required fields");this.apiService.put(`${p.a}/AdlerCard/${this.addCardForm.get("id").value}`,this.addCardForm.value).subscribe(e=>{this.alertSrvc.newAlert("Success","Added successfully"),this.addCardForm.reset(),this.editMode=!1,this.getCards()}),this.hideDialog()}hideDialog(){this.showDialog=!1,this.editMode=!1,this.addCardForm.reset()}getCards(){this.adlerCardsService.getAllAdlerCards().subscribe(e=>{this.cards=e.data})}encodeImageFileAsURL(e){}selectLevel(e){}selectType(e){}deleteCard(e){this.confirmSrvc.newConfirmation(`Are you sure you want to delete this card "${e.name}"?`,()=>{this.adlerCardsService.deleteCard(e.id).subscribe(e=>{this.getCards(),this.alertSrvc.newAlert("success","Successfully Deleted")})},"Confirm")}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(d.e),l.Kb(u.a),l.Kb(b.a),l.Kb(We),l.Kb(ft),l.Kb(we.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-adler-cards"]],decls:46,vars:20,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","mb-5"],[1,"btn","adler-btn-sm","mr-3",3,"click"],[1,"btn","adler-btn-sm",3,"routerLink"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["header","Card Details","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],[3,"formGroup"],[1,"p-field","p-col"],[1,"text-secondary"],["type","text","pInputText","","formControlName","name","placeholder","Unit Name",1,"form-control","adler-form-control"],["type","text","pInputText","","formControlName","description","placeholder","Unit Description",1,"form-control","adler-form-control"],["type","file","placeholder","Image",1,"form-control","adler-form-control",2,"padding","8px 20px 35px",3,"change"],[1,"p-field","p-col","mb-3"],["formControlName","levelId",3,"options","onChange"],["formControlName","adlerCardsTypeId",3,"options","onChange"],["type","text","pInputText","","formControlName","order","placeholder","Order",1,"form-control","adler-form-control"],[1,"formbtns","pt-3"],[1,"btn","mr-3","px-5","rounded-pill",3,"click"],["type","button",1,"btn","adler-btn","px-5","rounded-pill",3,"disabled","click"],["pSortableColumn","name"],["field","name"],["pSortableColumn","description"],["field","level"],["pSortableColumn","adlerCardsTypeId"],["field","adlerCardsTypeId"],["pSortableColumn","unit"],["field","unit"],[2,"width","10wrem"],[1,"mr-2","mr-3","text-info",3,"routerLink"],[1,"p-button-icon","pi","pi-pencil","font-weight-bold"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"button",2),l.Xb("click",function(){return t.openAddForm()}),l.Hc(3," Create Unit "),l.Pb(),l.Qb(4,"button",3),l.Hc(5," Create Card "),l.Pb(),l.Pb(),l.Qb(6,"div",4),l.Qb(7,"p-table",5,6),l.Fc(9,Pt,15,0,"ng-template",7),l.Fc(10,yt,14,7,"ng-template",8),l.Fc(11,Ct,2,1,"ng-template",9),l.Fc(12,_t,3,1,"ng-template",10),l.Pb(),l.Pb(),l.Pb(),l.Qb(13,"p-dialog",11),l.Xb("visibleChange",function(e){return t.showDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(14,"h5",12),l.Hc(15,"Please Fill the following form"),l.Pb(),l.Qb(16,"form",13),l.Qb(17,"div",14),l.Qb(18,"label",15),l.Hc(19,"Unit Name"),l.Pb(),l.Lb(20,"input",16),l.Pb(),l.Qb(21,"div",14),l.Qb(22,"label",15),l.Hc(23,"Unit Description"),l.Pb(),l.Lb(24,"input",17),l.Pb(),l.Qb(25,"div",14),l.Qb(26,"label",15),l.Hc(27,"Unit Image"),l.Pb(),l.Qb(28,"input",18),l.Xb("change",function(e){return t.encodeImageFileAsURL(e)}),l.Pb(),l.Pb(),l.Qb(29,"div",19),l.Qb(30,"label",15),l.Hc(31,"Level"),l.Pb(),l.Qb(32,"p-dropdown",20),l.Xb("onChange",function(e){return t.selectLevel(e)}),l.Pb(),l.Pb(),l.Qb(33,"div",19),l.Qb(34,"label",15),l.Hc(35,"Card Type"),l.Pb(),l.Qb(36,"p-dropdown",21),l.Xb("onChange",function(e){return t.selectType(e)}),l.Pb(),l.Pb(),l.Qb(37,"div",14),l.Qb(38,"label",15),l.Hc(39,"Order"),l.Pb(),l.Lb(40,"input",22),l.Pb(),l.Qb(41,"div",23),l.Qb(42,"button",24),l.Xb("click",function(){return t.hideDialog()}),l.Hc(43," Cancel "),l.Pb(),l.Qb(44,"button",25),l.Xb("click",function(){return t.editMode?t.updateCard():t.onSubmit()}),l.Hc(45),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(4),l.ic("routerLink",l.lc(17,wt)),l.yb(3),l.ic("responsive",!0)("value",t.cards)("rows",10)("paginator",!0)("globalFilterFields",l.lc(18,Qt))("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.Dc(l.lc(19,St)),l.ic("visible",t.showDialog)("modal",!0),l.yb(3),l.ic("formGroup",t.addCardForm),l.yb(16),l.ic("options",t.levels),l.yb(4),l.ic("options",t.cardTypes),l.yb(8),l.ic("disabled",t.addCardForm.invalid),l.yb(1),l.Jc(" ",t.editMode?"Edit":"Save"," "))},directives:[K.d,m.d,f.i,P.a,d.y,d.q,d.i,d.b,d.p,d.g,Qe.a,m.c,m.b,K.f],styles:[".text-info[_ngcontent-%COMP%]{color:#17a2b8!important}"]}),e})();const xt=function(){return[]};function Dt(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",3),l.Qb(1,"label",4),l.Hc(2,"Assigned"),l.Pb(),l.Qb(3,"p-dropdown",16),l.Xb("ngModelChange",function(t){return l.yc(e),l.bc().filters.assigned=t}),l.Pb(),l.Pb()}if(2&e){const e=l.bc();l.yb(3),l.ic("filter",!0)("showClear",!0)("options",l.lc(4,xt))("ngModel",e.filters.assigned)}}function Tt(e,t){1&e&&(l.Qb(0,"th"),l.Hc(1,"Assigned to"),l.Pb())}function Mt(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"th"),l.Hc(2,"Student"),l.Pb(),l.Qb(3,"th"),l.Hc(4,"Level"),l.Pb(),l.Qb(5,"th"),l.Hc(6,"Type"),l.Pb(),l.Qb(7,"th"),l.Hc(8,"Unit"),l.Pb(),l.Fc(9,Tt,2,0,"th",17),l.Qb(10,"th"),l.Hc(11,"Score"),l.Pb(),l.Qb(12,"th"),l.Hc(13,"Status"),l.Pb(),l.Qb(14,"th",18),l.Hc(15,"Actions"),l.Pb(),l.Pb()),2&e){const e=l.bc();l.yb(9),l.ic("ngIf","staff"===e.userRole)}}function Ot(e,t){if(1&e&&(l.Qb(0,"td"),l.Hc(1),l.Pb()),2&e){const e=l.bc().$implicit;l.yb(1),l.Ic(e.unit)}}function Ft(e,t){if(1&e){const e=l.Rb();l.Qb(0,"a",20),l.Xb("click",function(){return l.yc(e),l.bc(2).assignToTeacher()}),l.Lb(1,"span",21),l.Pb()}}function Lt(e,t){if(1&e){const e=l.Rb();l.Ob(0),l.Qb(1,"a",20),l.Xb("click",function(){return l.yc(e),l.bc(2).assignToTeacher()}),l.Lb(2,"span",22),l.Pb(),l.Qb(3,"a",20),l.Xb("click",function(){return l.yc(e),l.bc(2).assignToTeacher()}),l.Lb(4,"span",23),l.Pb(),l.Nb()}}function kt(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Fc(7,Ot,2,1,"td",17),l.Qb(8,"td"),l.Hc(9),l.Pb(),l.Qb(10,"td"),l.Hc(11),l.Pb(),l.Qb(12,"td"),l.Hc(13),l.Pb(),l.Qb(14,"td"),l.Fc(15,Ft,2,0,"a",19),l.Fc(16,Lt,5,0,"ng-container",17),l.Pb(),l.Pb()),2&e){const e=t.$implicit,n=l.bc();l.yb(2),l.Ic(e.student),l.yb(2),l.Ic(e.level),l.yb(2),l.Ic(e.type),l.yb(1),l.ic("ngIf","staff"===n.userRole),l.yb(2),l.Ic(e.assigned),l.yb(2),l.Ic(e.score),l.yb(2),l.Ic(e.status),l.yb(2),l.ic("ngIf","staff"===n.userRole),l.yb(1),l.ic("ngIf","teacher"===n.userRole)}}function Ht(e,t){if(1&e&&(l.Qb(0,"div",24),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",null==e.submissions?null:e.submissions.length," submission. ")}}function At(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td",25),l.Hc(2," No records found "),l.Pb(),l.Pb()),2&e){const e=l.bc();l.yb(1),l.zb("colspan","staff"===e.userRole?8:7)}}let Rt=(()=>{class e{constructor(e,t){this.activatedRoute=e,this.http=t,this.submissions=[{student:"student",level:"level",type:"type",unit:"unit",assigned:"assigned",score:"score",status:"status"}],this.filters={level:"",type:"",unit:"",status:"",assigned:""}}ngOnInit(){this.userRole=this.activatedRoute.snapshot.data.role,this.getSubmissions()}getSubmissions(){this.http.get(`${p.a}/AdlerCardSubmission/GetAdlerCardsSubmissionsFor${this.userRole}`).subscribe({next:e=>{console.log({response:e})}})}assignToTeacher(){}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(K.a),l.Kb(h.b))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-submissions"]],decls:27,vars:28,consts:[[1,"container","pb-5"],[1,"text-secondary","mb-4","text-center"],[1,"d-flex","dropdownsFilters"],[1,"d-flex","flex-column","mr-3"],[1,"text-secondary"],["placeholder","Select Level",3,"filter","showClear","options","ngModel","ngModelChange"],["placeholder","Select Type",3,"filter","showClear","options","ngModel","ngModelChange"],["placeholder","Select Unit",3,"filter","showClear","options","ngModel","ngModelChange"],["placeholder","Select Status",3,"filter","showClear","options","ngModel","ngModelChange"],["class","d-flex flex-column mr-3",4,"ngIf"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["placeholder","Select Assigned",3,"filter","showClear","options","ngModel","ngModelChange"],[4,"ngIf"],[2,"width","10wrem"],["class","mr-3",3,"click",4,"ngIf"],[1,"mr-3",3,"click"],[1,"p-button-icon","fa","fa-user-plus","text-secondary","font-weight-bold"],[1,"p-button-icon","fa","fa-eye","text-secondary","font-weight-bold"],[1,"p-button-icon","fa","fa-check","text-secondary","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"],[2,"text-align","center"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"h3",1),l.Hc(2),l.Pb(),l.Qb(3,"div",2),l.Qb(4,"div",3),l.Qb(5,"label",4),l.Hc(6,"Level"),l.Pb(),l.Qb(7,"p-dropdown",5),l.Xb("ngModelChange",function(e){return t.filters.level=e}),l.Pb(),l.Pb(),l.Qb(8,"div",3),l.Qb(9,"label",4),l.Hc(10,"Type"),l.Pb(),l.Qb(11,"p-dropdown",6),l.Xb("ngModelChange",function(e){return t.filters.type=e}),l.Pb(),l.Pb(),l.Qb(12,"div",3),l.Qb(13,"label",4),l.Hc(14,"Unit"),l.Pb(),l.Qb(15,"p-dropdown",7),l.Xb("ngModelChange",function(e){return t.filters.unit=e}),l.Pb(),l.Pb(),l.Qb(16,"div",3),l.Qb(17,"label",4),l.Hc(18,"Status"),l.Pb(),l.Qb(19,"p-dropdown",8),l.Xb("ngModelChange",function(e){return t.filters.status=e}),l.Pb(),l.Pb(),l.Fc(20,Dt,4,5,"div",9),l.Pb(),l.Qb(21,"p-table",10,11),l.Fc(23,Mt,16,1,"ng-template",12),l.Fc(24,kt,17,9,"ng-template",13),l.Fc(25,Ht,2,1,"ng-template",14),l.Fc(26,At,3,1,"ng-template",15),l.Pb(),l.Pb()),2&e&&(l.yb(2),l.Jc(" Submissions for ",t.userRole," "),l.yb(5),l.ic("filter",!0)("showClear",!0)("options",l.lc(24,xt))("ngModel",t.filters.level),l.yb(4),l.ic("filter",!0)("showClear",!0)("options",l.lc(25,xt))("ngModel",t.filters.type),l.yb(4),l.ic("filter",!0)("showClear",!0)("options",l.lc(26,xt))("ngModel",t.filters.unit),l.yb(4),l.ic("filter",!0)("showClear",!0)("options",l.lc(27,xt))("ngModel",t.filters.status),l.yb(1),l.ic("ngIf","staff"===t.userRole),l.yb(1),l.ic("responsive",!0)("value",t.submissions)("rows",10)("paginator",!0)("rowHover",!0)("showCurrentPageReport",!0))},directives:[Qe.a,d.p,d.s,o.m,m.d,f.i],styles:[""]}),e})();var Nt=n("Gxio"),Gt=n("jIHw");function qt(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th"),l.Hc(2,"First Name"),l.Pb(),l.Qb(3,"th"),l.Hc(4,"Last Name"),l.Pb(),l.Qb(5,"th"),l.Hc(6,"Email"),l.Pb(),l.Qb(7,"th",12),l.Hc(8,"Actions"),l.Pb(),l.Pb())}function Et(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Qb(8,"a",13),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().deletePermitTeacher(n.userId)}),l.Lb(9,"span",14),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Ic(e.firstName),l.yb(2),l.Ic(e.lastName),l.yb(2),l.Ic(e.email)}}function $t(e,t){if(1&e&&(l.Qb(0,"div",15),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",null==e.permitTeachers?null:e.permitTeachers.length," Teachers. ")}}function zt(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"td",16),l.Hc(2," No records found "),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.zb("colspan",4))}function Xt(e,t){if(1&e&&(l.Qb(0,"div",26),l.Qb(1,"div"),l.Hc(2),l.Pb(),l.Pb()),2&e){const e=l.bc(3);l.yb(2),l.Jc(" ",e.selectedTeacher.fullName," ")}}function jt(e,t){if(1&e&&l.Fc(0,Xt,3,1,"div",25),2&e){const e=l.bc(2);l.ic("ngIf",e.selectedTeacher)}}function Bt(e,t){if(1&e&&(l.Qb(0,"div",27),l.Qb(1,"div"),l.Hc(2),l.Pb(),l.Pb()),2&e){const e=t.$implicit;l.yb(2),l.Jc(" ",e.fullName," ")}}function Kt(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",17),l.Qb(1,"div",18),l.Qb(2,"h4"),l.Hc(3,"Add authorize teacher"),l.Pb(),l.Qb(4,"p-dropdown",19),l.Xb("ngModelChange",function(t){return l.yc(e),l.bc().selectedTeacher=t}),l.Fc(5,jt,1,1,"ng-template",20),l.Fc(6,Bt,3,1,"ng-template",21),l.Pb(),l.Pb(),l.Qb(7,"div",22),l.Qb(8,"div",23),l.Qb(9,"button",24),l.Xb("click",function(){return l.yc(e),l.bc().permitTeacher()}),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=l.bc();l.yb(4),l.ic("options",e.teachers)("ngModel",e.selectedTeacher)("filter",!0)("showClear",!0)}}let Ut=(()=>{class e{constructor(e,t){this.apiService=e,this.messageService=t}ngOnInit(){this.getPermittedTeachers(),this.getTeachers("")}getPermittedTeachers(){this.apiService.get(`${p.a}/Claim/GetPermittedTeachers?ClaimType=${Ke.a.AddAdlerCard}`).subscribe(e=>{this.permitTeachers=e})}getTeachers(e){this.apiService.post(`${p.a}/Teacher/GetAllTeachers?PageSize=999&?teacherName=${e}`,{}).subscribe({next:e=>{this.teachers=e.data.map(e=>Object.assign({fullName:e.teacherFirstName+" "+e.teacherLastName},e))}})}permitTeacher(){console.log(this.selectedTeacher),this.apiService.post(`${p.a}/Claim/PermitTeacher?TeacherId=${this.selectedTeacher.teacherId}&Claim=${Ke.a.AddAdlerCard}`,{}).subscribe(()=>{this.onReject(),this.getPermittedTeachers()})}deletePermitTeacher(e){console.log(this.selectedTeacher),this.apiService.delete(`${p.a}/Claim/RemoveTeacherPermit?TeacherId=${e}&Claim=${Ke.a.AddAdlerCard}`).subscribe(()=>{this.onReject(),this.getPermittedTeachers()})}openAuthorizeTeachersModal(){this.onReject(),setTimeout(()=>{this.messageService.add({key:"authorize_teachers",sticky:!0,severity:"success"})},100)}onReject(){this.messageService.clear("authorize_teachers")}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(We),l.Kb(f.g))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-authorize-teachers"]],decls:13,vars:7,consts:[[1,"container","pt-5","pb-5"],[1,"d-flex","flex-wrap","justify-content-between","mb-5"],[1,"btn","adler-btn-sm",3,"click"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],["position","top-center","key","authorize_teachers",3,"baseZIndex","onClose"],["pTemplate","message"],[2,"width","10wrem"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"],[2,"text-align","center"],[1,"p-flex","p-flex-column",2,"flex","1"],[1,"p-text-center"],["optionLabel","fullName","filterBy","fullName","placeholder","Select a Teacher",3,"options","ngModel","filter","showClear","ngModelChange"],["pTemplate","selectedItem"],["pTemplate","item"],[1,"p-grid","p-fluid"],[1,"p-col-6"],["type","button","pButton","","label","Add",1,"p-button-success",3,"click"],["class","country-item country-item-value",4,"ngIf"],[1,"country-item","country-item-value"],[1,"country-item"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"button",2),l.Xb("click",function(){return t.openAuthorizeTeachersModal()}),l.Hc(3," Authorize Teachers "),l.Pb(),l.Pb(),l.Qb(4,"div",3),l.Qb(5,"p-table",4,5),l.Fc(7,qt,9,0,"ng-template",6),l.Fc(8,Et,10,3,"ng-template",7),l.Fc(9,$t,2,1,"ng-template",8),l.Fc(10,zt,3,1,"ng-template",9),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,"p-toast",10),l.Xb("onClose",function(){return t.onReject()}),l.Fc(12,Kt,10,4,"ng-template",11),l.Pb()),2&e&&(l.yb(5),l.ic("responsive",!0)("value",t.permitTeachers)("rows",10)("paginator",!0)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("baseZIndex",5e3))},directives:[m.d,f.i,Nt.a,Qe.a,d.p,d.s,Gt.b,o.m],styles:[""]}),e})();const Jt=function(){return["bonus-requests"]};let Vt=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["app-homwork-entry-page"]],decls:6,vars:2,consts:[[1,"homeWork-entry_page"],[1,"col","element","pb-3","m-2","text-center",3,"routerLink"],[1,"icon","my-4","pb-2"],[1,"fa-4x","fa-list","fas","text-secondary"],[1,"text-secondary","font-weight-bold"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Lb(3,"i",3),l.Pb(),l.Qb(4,"span",4),l.Hc(5,"Bonus requests"),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("routerLink",l.lc(1,Jt)))},directives:[K.d],styles:[".homeWork-entry_page[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:0 14px;margin:88px 0}.homeWork-entry_page[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fbfbfd;cursor:pointer;transition:.15s ease-in-out}.homeWork-entry_page[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}"]}),e})();const Wt=function(){return["staff-list"]},Yt=function(){return["student-list"]},Zt=function(){return["../ban-requests"]},en=function(){return["../disqualification-requests"]},tn=function(){return["../duplicate-accounts"]};let nn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["app-users-entry-page"]],decls:26,vars:10,consts:[[1,"users-entry_page"],[1,"col","element","pb-3","m-2","text-center",3,"routerLink"],[1,"icon","my-4","pb-2"],["src","../../../../assets/images/icons/account.svg"],[1,"text-secondary","font-weight-bold"],["src","../../../../assets/images/icons/block-user.svg"],["src","../../../../assets/images/icons/downgrade.svg"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Lb(3,"img",3),l.Pb(),l.Qb(4,"span",4),l.Hc(5,"Staff List"),l.Pb(),l.Pb(),l.Qb(6,"div",1),l.Qb(7,"div",2),l.Lb(8,"img",3),l.Pb(),l.Qb(9,"span",4),l.Hc(10,"Student List"),l.Pb(),l.Pb(),l.Qb(11,"div",1),l.Qb(12,"div",2),l.Lb(13,"img",5),l.Pb(),l.Qb(14,"span",4),l.Hc(15,"Ban Requests"),l.Pb(),l.Pb(),l.Qb(16,"div",1),l.Qb(17,"div",2),l.Lb(18,"img",6),l.Pb(),l.Qb(19,"span",4),l.Hc(20,"Disqualification Requests"),l.Pb(),l.Pb(),l.Qb(21,"div",1),l.Qb(22,"div",2),l.Lb(23,"img",3),l.Pb(),l.Qb(24,"span",4),l.Hc(25,"Dublicate Accounts"),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("routerLink",l.lc(5,Wt)),l.yb(5),l.ic("routerLink",l.lc(6,Yt)),l.yb(5),l.ic("routerLink",l.lc(7,Zt)),l.yb(5),l.ic("routerLink",l.lc(8,en)),l.yb(5),l.ic("routerLink",l.lc(9,tn)))},directives:[K.d],styles:[".users-entry_page[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:0 14px;margin:88px 0}.users-entry_page[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fbfbfd;cursor:pointer;transition:.15s ease-in-out}.users-entry_page[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}"]}),e})();var on=n("YKuI");const sn=function(){return["../tests-list"]},rn=function(){return["../create-question"]},cn=function(){return["../question-list"]},an=function(){return["../create-quiz"]},ln=function(){return["../manage-tests"]},dn=function(){return["../manage-recorrection-requests"]};let bn=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["app-quiz-list-entry-page"]],decls:31,vars:12,consts:[[1,"quiz-list-entry_page"],[1,"col","element","pb-3","m-2","text-center",3,"routerLink"],[1,"icon","my-4","pb-2"],[1,"fa-4x","fa-list-ul","fas","text-secondary"],[1,"text-secondary","font-weight-bold"],[1,"fa-4x","far","fa-question-circle","text-secondary"],[1,"fa-4x","fa-layer-group","fas","text-secondary"],[1,"fa-4x","fas","fa-list-ol","text-secondary"],[1,"fa-4x","text-secondary","fas","fa-tasks"],[1,"fa-4x","text-secondary","fas","fa-redo-alt"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Lb(3,"i",3),l.Pb(),l.Qb(4,"span",4),l.Hc(5,"Tests List"),l.Pb(),l.Pb(),l.Qb(6,"div",1),l.Qb(7,"div",2),l.Lb(8,"i",5),l.Pb(),l.Qb(9,"span",4),l.Hc(10,"Create Question"),l.Pb(),l.Pb(),l.Qb(11,"div",1),l.Qb(12,"div",2),l.Lb(13,"i",6),l.Pb(),l.Qb(14,"span",4),l.Hc(15,"Question List"),l.Pb(),l.Pb(),l.Qb(16,"div",1),l.Qb(17,"div",2),l.Lb(18,"i",7),l.Pb(),l.Qb(19,"span",4),l.Hc(20,"Create Tests"),l.Pb(),l.Pb(),l.Qb(21,"div",1),l.Qb(22,"div",2),l.Lb(23,"i",8),l.Pb(),l.Qb(24,"span",4),l.Hc(25,"Manage Tests"),l.Pb(),l.Pb(),l.Qb(26,"div",1),l.Qb(27,"div",2),l.Lb(28,"i",9),l.Pb(),l.Qb(29,"span",4),l.Hc(30,"Recorrection Requests"),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("routerLink",l.lc(6,sn)),l.yb(5),l.ic("routerLink",l.lc(7,rn)),l.yb(5),l.ic("routerLink",l.lc(8,cn)),l.yb(5),l.ic("routerLink",l.lc(9,an)),l.yb(5),l.ic("routerLink",l.lc(10,ln)),l.yb(5),l.ic("routerLink",l.lc(11,dn)))},directives:[K.d],styles:[".quiz-list-entry_page[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:0 14px;margin:88px 0}.quiz-list-entry_page[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fbfbfd;cursor:pointer;transition:.15s ease-in-out}.quiz-list-entry_page[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}"]}),e})();function un(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",16),l.Hc(2," Group Round "),l.Lb(3,"p-sortIcon",17),l.Pb(),l.Qb(4,"th",18),l.Hc(5," Group "),l.Lb(6,"p-sortIcon",19),l.Pb(),l.Qb(7,"th",20),l.Hc(8," Test Name "),l.Lb(9,"p-sortIcon",21),l.Pb(),l.Qb(10,"th",22),l.Hc(11," Student "),l.Lb(12,"p-sortIcon",23),l.Pb(),l.Qb(13,"th",24),l.Hc(14," Test Type "),l.Lb(15,"p-sortIcon",25),l.Pb(),l.Qb(16,"th",26),l.Hc(17," Status "),l.Lb(18,"p-sortIcon",27),l.Pb(),l.Qb(19,"th",28),l.Hc(20," re-opened "),l.Lb(21,"p-sortIcon",29),l.Pb(),l.Qb(22,"th",30),l.Hc(23,"Action"),l.Pb(),l.Pb())}function pn(e,t){1&e&&(l.Qb(0,"span",42),l.Hc(1,"Quiz"),l.Pb())}function hn(e,t){1&e&&(l.Qb(0,"span",43),l.Hc(1,"SubleveL"),l.Pb())}function gn(e,t){1&e&&(l.Qb(0,"span",44),l.Hc(1,"Final"),l.Pb())}function mn(e,t){1&e&&(l.Qb(0,"span",45),l.Hc(1,"Placement"),l.Pb())}function fn(e,t){1&e&&(l.Qb(0,"span"),l.Hc(1,"-"),l.Pb())}function Pn(e,t){1&e&&(l.Qb(0,"span"),l.Lb(1,"i",46),l.Pb())}function vn(e,t){1&e&&(l.Qb(0,"span"),l.Lb(1,"i",47),l.Pb())}function yn(e,t){1&e&&(l.Qb(0,"span"),l.Hc(1,"-"),l.Pb())}function Cn(e,t){if(1&e){const e=l.Rb();l.Qb(0,"span",48),l.Xb("click",function(){l.yc(e);const t=l.bc().$implicit;return l.bc().reOpen(t.id)}),l.Pb()}}function _n(e,t){if(1&e){const e=l.Rb();l.Qb(0,"span",49),l.Xb("click",function(){l.yc(e);const t=l.bc().$implicit;return l.bc().close(t.id)}),l.Pb()}}const wn=function(e,t){return{"status-Pending":e,"status-closed":t}};function Qn(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Qb(10,"span",31),l.Fc(11,pn,2,0,"span",32),l.Fc(12,hn,2,0,"span",33),l.Fc(13,gn,2,0,"span",34),l.Fc(14,mn,2,0,"span",35),l.Fc(15,fn,2,0,"span",36),l.Pb(),l.Pb(),l.Qb(16,"td"),l.Qb(17,"div",37),l.Hc(18),l.Pb(),l.Pb(),l.Qb(19,"td"),l.Qb(20,"span",31),l.Fc(21,Pn,2,0,"span",38),l.Fc(22,vn,2,0,"span",38),l.Fc(23,yn,2,0,"span",36),l.Pb(),l.Pb(),l.Qb(24,"td"),l.Qb(25,"a",39),l.Fc(26,Cn,1,0,"span",40),l.Fc(27,_n,1,0,"span",41),l.Pb(),l.Pb(),l.Pb()),2&e){const e=t.$implicit,n=l.bc();l.yb(2),l.Ic(e.groupDefinitionSerial),l.yb(2),l.Ic(e.groupInstanceSerial),l.yb(2),l.Ic(e.testName),l.yb(2),l.Ic(e.studentName),l.yb(2),l.ic("ngSwitch",e.testType),l.yb(1),l.ic("ngSwitchCase",0),l.yb(1),l.ic("ngSwitchCase",1),l.yb(1),l.ic("ngSwitchCase",2),l.yb(1),l.ic("ngSwitchCase",3),l.yb(3),l.ic("ngClass",l.nc(16,wn,1===e.status,0===e.status)),l.yb(1),l.Jc(" ",n.getTestStatus(e.status)," "),l.yb(2),l.ic("ngSwitch",e.reopened),l.yb(1),l.ic("ngSwitchCase",!0),l.yb(1),l.ic("ngSwitchCase",!1),l.yb(4),l.ic("ngIf",0==e.reopened),l.yb(1),l.ic("ngIf",1==e.reopened)}}function Sn(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Qb(2,"div",50),l.Hc(3," No records found "),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.zb("colspan",8))}function In(e,t){if(1&e){const e=l.Rb();l.Qb(0,"li"),l.Qb(1,"div",51),l.Qb(2,"div",52),l.Qb(3,"p",53),l.Hc(4),l.Pb(),l.Pb(),l.Qb(5,"div",54),l.Qb(6,"button",55),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().activeQuiz(n.id)}),l.Hc(7,"Activate"),l.Pb(),l.Qb(8,"button",56),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().closeQuiz(n.id)}),l.Hc(9,"Close"),l.Pb(),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(4),l.Jc(" ",e.name," ")}}const xn=function(){return["questionType"]},Dn=function(){return{width:"50vw"}};let Tn=(()=>{class e{constructor(e,t,n,i){this.groupInstanceService=e,this.alertService=t,this.quizService=n,this.commonService=i,this.groupDefinitionsDropDown=[],this.groupInstancesDropDown=[],this.pageNumber=1,this.showQuizzesList=!1,this.pageSize=10,this.testTypes=[{label:"Test Type",value:null},{label:"Quiz",value:ve.a.Quiz},{label:"Sublevel Test",value:ve.a.SubLevel},{label:"Final Test",value:ve.a.Final},{label:"Placement Test",value:ve.a.Placement}],this.testStatus=[{label:"Status",value:null},{label:"Pending",value:ye.a.Pending},{label:"Closed",value:ye.a.Closed}],this.groupDefinitionsDropDown.push({label:"Group Round Serial",value:null}),this.groupInstancesDropDown.push({label:"Group Serial",value:null}),this.getAllGroupInstances(),this.getAllGroupDefinition()}ngOnInit(){this.getCorrectionRequests(this.pageNumber,this.pageSize)}getAllGroupDefinition(){this.commonService.getAllGroupDefinition().subscribe(e=>{for(let t of e.data)this.groupDefinitionsDropDown.push({label:t.serial,value:parseInt(t.id)})})}getAllGroupInstances(){this.commonService.getAllGroupInstances().subscribe(e=>{for(let t of e.data)this.groupInstancesDropDown.push({label:t.serial,value:parseInt(t.id)})})}getCorrectionRequests(e,t,n,i,o,s){this.groupInstanceService.getCorrectionRequests(e,t,n,i,o,s).subscribe(e=>{this.recorrectionRequests=e.data,this.itemList=e})}openQuizzesList(e){this.groupInstanceService.getQuizzesByGroupId(e).subscribe(e=>{this.quizzesList=e.data,this.showQuizzesList=!0})}filter(e){this.getCorrectionRequests(this.pageNumber,this.pageSize,this.selectedGroupDefinition,this.selectedGroupInstance,this.selectedTestStatus,this.selectedTestType)}getTestStatus(e){switch(e){case ye.a.Pending:this.status="Pending";break;case ye.a.Closed:this.status="Closed";break;default:this.status="Pending"}return this.status}onPageChange(e){this.pageNumber=e.page+1,this.getCorrectionRequests(this.pageNumber,this.pageSize,this.selectedGroupDefinition,this.selectedGroupInstance,this.selectedTestStatus,this.selectedTestType)}reOpen(e){this.quizService.openTestToReview(e).subscribe(e=>{setTimeout(()=>{this.filter()},500),this.alertService.newAlert("success","Recorrection request has been accepted")})}close(e){this.quizService.closeTestToReview(e).subscribe(e=>{setTimeout(()=>{this.filter()},500),this.alertService.newAlert("success","Recorrection request has been rejected")})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(Ce),l.Kb(u.a),l.Kb(_e.a),l.Kb(we.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-manage-test-recorrection-requests"]],decls:24,vars:21,consts:[[1,"container","mb-5"],[1,"d-flex","mb-5","mt-5","align-items-end"],[1,"d-flex","flex-column","mr-3"],["for","d-flex"],[3,"options","ngModel","ngModelChange","onChange"],[1,"d-flex","flex-column","mr-5"],["for",""],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","globalFilterFields","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","Quizzes",3,"visible","visibleChange"],[4,"ngFor","ngForOf"],["pSortableColumn","groupDefinitionSerial",2,"width","15%"],["field","groupDefinitionSerial"],["pSortableColumn","groupInstanceSerial",2,"width","15%"],["field","groupInstanceSerial"],["pSortableColumn","testName"],["field","testName"],["pSortableColumn","studentName",2,"width","15%"],["field","studentName"],["pSortableColumn","testType"],["field","testType"],["pSortableColumn","status"],["field","status"],["pSortableColumn","reopened"],["field","reopened"],[2,"width","10%"],[1,"font-weight-bold",3,"ngSwitch"],["class","quiz",4,"ngSwitchCase"],["class","sublevel",4,"ngSwitchCase"],["class","final",4,"ngSwitchCase"],["class","placement",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"status","quiz-status-text","mt-2",3,"ngClass"],[4,"ngSwitchCase"],[1,"mr-2","mr-3","text-info"],["title","Close","class","p-button-icon pi pi-unlock text-success font-weight-bold",3,"click",4,"ngIf"],["title","Open","class","p-button-icon pi pi-lock text-muted font-weight-bold",3,"click",4,"ngIf"],[1,"quiz"],[1,"sublevel"],[1,"final"],[1,"placement"],[1,"fas","fa-check","text-success"],[1,"fas","fa-times","text-danger"],["title","Close",1,"p-button-icon","pi","pi-unlock","text-success","font-weight-bold",3,"click"],["title","Open",1,"p-button-icon","pi","pi-lock","text-muted","font-weight-bold",3,"click"],[1,"text-center"],[1,"row"],[1,"col-md-9"],[1,"quiz-name"],[1,"col-md-3"],[1,"btn-secondary","btn",3,"click"],[1,"btn-danger","btn",3,"click"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"label",3),l.Hc(4,"Group Round Id"),l.Pb(),l.Qb(5,"p-dropdown",4),l.Xb("ngModelChange",function(e){return t.selectedGroupDefinition=e})("onChange",function(e){return t.filter(e)}),l.Pb(),l.Pb(),l.Qb(6,"div",2),l.Qb(7,"label",3),l.Hc(8,"Group Serial"),l.Pb(),l.Qb(9,"p-dropdown",4),l.Xb("ngModelChange",function(e){return t.selectedGroupInstance=e})("onChange",function(e){return t.filter(e)}),l.Pb(),l.Pb(),l.Qb(10,"div",5),l.Qb(11,"label",6),l.Hc(12,"Test Type"),l.Pb(),l.Qb(13,"p-dropdown",4),l.Xb("ngModelChange",function(e){return t.selectedTestType=e})("onChange",function(e){return t.filter(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(14,"div",7),l.Qb(15,"p-table",8,9),l.Fc(17,un,24,0,"ng-template",10),l.Fc(18,Qn,28,19,"ng-template",11),l.Fc(19,Sn,4,1,"ng-template",12),l.Pb(),l.Qb(20,"p-paginator",13),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(21,"p-dialog",14),l.Xb("visibleChange",function(e){return t.showQuizzesList=e}),l.Qb(22,"ul"),l.Fc(23,In,10,1,"li",15),l.Pb(),l.Pb()),2&e&&(l.yb(5),l.ic("options",t.groupDefinitionsDropDown)("ngModel",t.selectedGroupDefinition),l.yb(4),l.ic("options",t.groupInstancesDropDown)("ngModel",t.selectedGroupInstance),l.yb(4),l.ic("options",t.testTypes)("ngModel",t.selectedTestType),l.yb(2),l.ic("responsive",!0)("value",t.recorrectionRequests)("rows",10)("paginator",!1)("globalFilterFields",l.lc(19,xn))("rowHover",!0)("showCurrentPageReport",!1),l.yb(5),l.ic("rows",null==t.itemList?null:t.itemList.pageSize)("totalRecords",null==t.itemList?null:t.itemList.count),l.yb(1),l.Dc(l.lc(20,Dn)),l.ic("visible",t.showQuizzesList),l.yb(2),l.ic("ngForOf",t.quizzesList))},directives:[Qe.a,d.p,d.s,m.d,f.i,Se.a,P.a,o.l,m.c,m.b,o.o,o.p,o.q,o.k,o.m],styles:[""]}),e})();var Mn=n("d78T");let On=(()=>{class e{constructor(e){this.http=e,this.prefix="Account"}getAllLateSubmissionList(e){return this.http.get(`${p.a}/${this.prefix}/GetLateTeacherSubmissions`,{params:e})}lateSubmissionReview(e){return this.http.post(`${p.a}/${this.prefix}/LateSubmissionReview`,{params:e})}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Fn=n("QGev");function Ln(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",15),l.Hc(2," Teacher Name "),l.Lb(3,"p-sortIcon",16),l.Pb(),l.Qb(4,"th",15),l.Hc(5," Group Instance "),l.Lb(6,"p-sortIcon",16),l.Pb(),l.Qb(7,"th",15),l.Hc(8,"Lesson"),l.Lb(9,"p-sortIcon",16),l.Pb(),l.Qb(10,"th",15),l.Hc(11," Expected date "),l.Lb(12,"p-sortIcon",16),l.Pb(),l.Qb(13,"th",15),l.Hc(14," Submission date"),l.Lb(15,"p-sortIcon",16),l.Pb(),l.Qb(16,"th",15),l.Hc(17," Delay duration"),l.Lb(18,"p-sortIcon",16),l.Pb(),l.Qb(19,"th",17),l.Hc(20,"Actions"),l.Pb(),l.Pb())}function kn(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Hc(10),l.Pb(),l.Qb(11,"td"),l.Hc(12),l.Pb(),l.Qb(13,"td"),l.Qb(14,"a",18),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().viewReport(n.id)}),l.Lb(15,"span",19),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit,n=l.bc();l.yb(2),l.Jc(" ",e.teacher?e.teacher:"No Data"," "),l.yb(2),l.Jc(" ",e.groupInstance.serial?e.groupInstance.serial:"No Data"," "),l.yb(2),l.Jc(" ",e.lessonInstance.lessonDefinition?e.lessonInstance.lessonDefinition:"No Data"," "),l.yb(2),l.Jc(" ",e.expectedDate?n.GetDateFormated(e.expectedDate):"No Data"," "),l.yb(2),l.Jc(" ",e.submissionDate?n.GetDateFormated(e.submissionDate):"No Data"," "),l.yb(2),l.Ic(e.delayDuration?e.delayDuration:"No Data")}}function Hn(e,t){if(1&e&&(l.Qb(0,"div",20),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count," report. ")}}function An(e,t){}let Rn=(()=>{class e{constructor(e,t){this.LateSubmissionService=e,this.CommonService=t,this.suggestedTeacher=[],this.pageNumber=1,this.pageSize=10}ngOnInit(){this.getAllListLateSubReport()}getAllListLateSubReport(e,t){let n={SubmissionType:1,PageNumber:e||1,TeacherName:t||""};this.CommonService.removeAllunValudKeys(n),this.LateSubmissionService.getAllLateSubmissionList(n).subscribe(e=>{this.lateSubmissionReport=e.data,this.count=e.count})}viewReport(e){this.LateSubmissionService.lateSubmissionReview({SubmissionType:1,id:e}).subscribe()}searchTeacher(e){const t=e.query;t&&this.LateSubmissionService.getAllLateSubmissionList({SubmissionType:1,TeacherName:t,PageSize:1e4}).subscribe(e=>{var t;this.suggestedTeacher=e.data,null===(t=this.suggestedTeacher)||void 0===t||t.forEach(e=>{e.fullName=e.firstName+" "+e.lastName})})}GetDateFormated(e){return new Date(e).getMonth()+1+"/"+new Date(e).getDate()+"/"+new Date(e).getFullYear()+" "+new Date(e).getHours()+":"+new Date(e).getMinutes()+":"+new Date(e).getSeconds()}onPageChange(e){this.pageNumber=e.page+1,this.getAllListLateSubReport(this.pageNumber,this.selectedTeacher?this.selectedTeacher.teacher:"")}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(On),l.Kb(we.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-late-submission-of-reports"]],decls:18,vars:12,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],[1,"row"],[1,"page-title",2,"padding-left","15px"],[1,"text-primary","font-weight-bold",2,"font-size","1.5rem","margin-top","-20px","margin-bottom","20px"],[1,"col-lg-12","col-md-12","col-sm-12",2,"margin-top","-15px","margin-bottom","15px"],["for",""],["name","teacherName","field","teacher",3,"ngModel","suggestions","dropdown","forceSelection","ngModelChange","completeMethod","onSelect"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["pSortableColumn",""],["field",""],[2,"width","10wrem"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-eye","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"h1",3),l.Hc(4," List late submissions of lesson reports "),l.Pb(),l.Pb(),l.Qb(5,"div",4),l.Qb(6,"label",5),l.Hc(7,"Teacher name "),l.Pb(),l.Lb(8,"br"),l.Qb(9,"p-autoComplete",6),l.Xb("ngModelChange",function(e){return t.selectedTeacher=e})("completeMethod",function(e){return t.searchTeacher(e)})("onSelect",function(){return t.getAllListLateSubReport(1,t.selectedTeacher.teacher)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(10,"div",7),l.Qb(11,"p-table",8,9),l.Fc(13,Ln,21,0,"ng-template",10),l.Fc(14,kn,16,6,"ng-template",11),l.Fc(15,Hn,2,1,"ng-template",12),l.Fc(16,An,0,0,"ng-template",13),l.Pb(),l.Qb(17,"p-paginator",14),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(9),l.ic("ngModel",t.selectedTeacher)("suggestions",t.suggestedTeacher)("dropdown",!1)("forceSelection",!0),l.yb(2),l.ic("responsive",!0)("value",t.lateSubmissionReport)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count))},directives:[Fn.a,d.p,d.s,m.d,f.i,Se.a,m.c,m.b],styles:[""]}),e})();function Nn(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",14),l.Hc(2," Teacher Name "),l.Lb(3,"p-sortIcon",15),l.Pb(),l.Qb(4,"th",14),l.Hc(5," Group Instance "),l.Lb(6,"p-sortIcon",15),l.Pb(),l.Qb(7,"th",14),l.Hc(8,"Test"),l.Lb(9,"p-sortIcon",15),l.Pb(),l.Qb(10,"th",14),l.Hc(11," Student Name"),l.Lb(12,"p-sortIcon",15),l.Pb(),l.Qb(13,"th",14),l.Hc(14," Expected date "),l.Lb(15,"p-sortIcon",15),l.Pb(),l.Qb(16,"th",14),l.Hc(17," Submission date"),l.Lb(18,"p-sortIcon",15),l.Pb(),l.Qb(19,"th",14),l.Hc(20," Delay duration"),l.Lb(21,"p-sortIcon",15),l.Pb(),l.Qb(22,"th",16),l.Hc(23,"Actions"),l.Pb(),l.Pb())}function Gn(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Hc(10),l.Pb(),l.Qb(11,"td"),l.Hc(12),l.Pb(),l.Qb(13,"td"),l.Hc(14),l.Pb(),l.Qb(15,"td"),l.Qb(16,"a",17),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().viewReport(n.id)}),l.Lb(17,"span",18),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit,n=l.bc();l.yb(2),l.Ic(e.teacher?e.teacher:"No Data"),l.yb(2),l.Jc(" ",e.groupInstance.serial?e.groupInstance.serial:"No Data"," "),l.yb(2),l.Ic(e.test.name?e.test.name:"No Data"),l.yb(2),l.Ic(e.studentName?e.studentName:"No Data"),l.yb(2),l.Jc(" ",e.expectedDate?n.GetDateFormated(e.expectedDate):"No Data"," "),l.yb(2),l.Jc(" ",e.submissionDate?n.GetDateFormated(e.submissionDate):"No Data"," "),l.yb(2),l.Ic(e.delayDuration?e.delayDuration:"No Data")}}function qn(e,t){1&e&&(l.Qb(0,"div",19),l.Hc(1," In total there are 10 users. "),l.Pb())}let En=(()=>{class e{constructor(e,t){this.LateSubmissionService=e,this.CommonService=t,this.pageNumber=1,this.pageSize=10}ngOnInit(){this.getAllListLateSubCorrTests()}getAllListLateSubCorrTests(e,t){let n={SubmissionType:3,pageNumber:e||1,TeacherName:t||""};this.CommonService.removeAllunValudKeys(n),this.LateSubmissionService.getAllLateSubmissionList(n).subscribe(e=>{this.lateSubmissionTests=e.data,this.count=e.count})}viewReport(e){this.LateSubmissionService.lateSubmissionReview({SubmissionType:3,id:e}).subscribe()}searchTeacher(e){const t=e.query;t&&this.LateSubmissionService.getAllLateSubmissionList({SubmissionType:3,TeacherName:t,PageSize:1e4}).subscribe(e=>{var t;this.suggestedTeacher=e.data,null===(t=this.suggestedTeacher)||void 0===t||t.forEach(e=>{e.fullName=e.firstName+" "+e.lastName})})}GetDateFormated(e){return new Date(e).getMonth()+1+"/"+new Date(e).getDate()+"/"+new Date(e).getFullYear()+" "+new Date(e).getHours()+":"+new Date(e).getMinutes()+":"+new Date(e).getSeconds()}onPageChange(e){this.pageNumber=e.page+1,this.getAllListLateSubCorrTests(this.pageNumber,this.selectedTeacher?this.selectedTeacher.teacher:"")}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(On),l.Kb(we.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-late-submission-of-correction-tests"]],decls:17,vars:12,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],[1,"row"],[1,"page-title",2,"padding-left","15px"],[1,"text-primary","font-weight-bold",2,"font-size","1.5rem","margin-top","-20px","margin-bottom","20px"],[1,"col-lg-12","col-md-12","col-sm-12",2,"margin-top","-15px","margin-bottom","15px"],["for",""],["name","teacherName","field","teacher",3,"ngModel","suggestions","dropdown","forceSelection","ngModelChange","completeMethod","onSelect"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[3,"rows","totalRecords","onPageChange"],["pSortableColumn",""],["field",""],[2,"width","10wrem"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-eye","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"h1",3),l.Hc(4," List late submissions of correction tests "),l.Pb(),l.Pb(),l.Qb(5,"div",4),l.Qb(6,"label",5),l.Hc(7,"Teacher name "),l.Pb(),l.Lb(8,"br"),l.Qb(9,"p-autoComplete",6),l.Xb("ngModelChange",function(e){return t.selectedTeacher=e})("completeMethod",function(e){return t.searchTeacher(e)})("onSelect",function(){return t.getAllListLateSubCorrTests(1,t.selectedTeacher.teacher)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(10,"div",7),l.Qb(11,"p-table",8,9),l.Fc(13,Nn,24,0,"ng-template",10),l.Fc(14,Gn,18,7,"ng-template",11),l.Fc(15,qn,2,0,"ng-template",12),l.Pb(),l.Qb(16,"p-paginator",13),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(9),l.ic("ngModel",t.selectedTeacher)("suggestions",t.suggestedTeacher)("dropdown",!1)("forceSelection",!0),l.yb(2),l.ic("responsive",!0)("value",t.lateSubmissionTests)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(5),l.ic("rows",t.pageSize)("totalRecords",t.count))},directives:[Fn.a,d.p,d.s,m.d,f.i,Se.a,m.c,m.b],styles:[""]}),e})();function $n(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",15),l.Hc(2," Teacher Name "),l.Lb(3,"p-sortIcon",16),l.Pb(),l.Qb(4,"th",15),l.Hc(5," Group Instance "),l.Lb(6,"p-sortIcon",16),l.Pb(),l.Qb(7,"th",15),l.Hc(8,"Lesson"),l.Lb(9,"p-sortIcon",16),l.Pb(),l.Qb(10,"th",15),l.Hc(11," Student Name"),l.Lb(12,"p-sortIcon",16),l.Pb(),l.Qb(13,"th",15),l.Hc(14," Expected date "),l.Lb(15,"p-sortIcon",16),l.Pb(),l.Qb(16,"th",15),l.Hc(17," Submission date"),l.Lb(18,"p-sortIcon",16),l.Pb(),l.Qb(19,"th",15),l.Hc(20," Delay duration"),l.Lb(21,"p-sortIcon",16),l.Pb(),l.Qb(22,"th",17),l.Hc(23,"Actions"),l.Pb(),l.Pb())}function zn(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Hc(10),l.Pb(),l.Qb(11,"td"),l.Hc(12),l.Pb(),l.Qb(13,"td"),l.Hc(14),l.Pb(),l.Qb(15,"td"),l.Qb(16,"a",18),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().viewReport(n.id)}),l.Lb(17,"span",19),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Ic(e.teacher?e.teacher:"No Data"),l.yb(2),l.Jc(" ",e.groupInstance.serial?e.groupInstance.serial:"No Data"," "),l.yb(2),l.Jc(" ",e.lessonInstance.lessonDefinition?e.lessonInstance.lessonDefinition:"No Data"," "),l.yb(2),l.Ic(e.studentName?e.studentName:"No Data"),l.yb(2),l.Jc(" ",e.expectedDate?e.expectedDate:"No Data"," "),l.yb(2),l.Jc(" ",e.submissionDate?e.submissionDate:"No Data"," "),l.yb(2),l.Jc(" ",e.delayDuration?e.delayDuration:"No Data"," ")}}function Xn(e,t){if(1&e&&(l.Qb(0,"div",20),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count," homework. ")}}function jn(e,t){}let Bn=(()=>{class e{constructor(e,t){this.LateSubmissionService=e,this.CommonService=t,this.pageNumber=1,this.pageSize=10}ngOnInit(){this.getAllListLateSubCorrHomework()}getAllListLateSubCorrHomework(e,t){let n={SubmissionType:2,pageNumber:e||1,TeacherName:t||""};this.CommonService.removeAllunValudKeys(n),this.LateSubmissionService.getAllLateSubmissionList(n).subscribe(e=>{var t;this.lateSubmissionHomework=e.data,this.count=e.count,null===(t=this.suggestedTeacher)||void 0===t||t.forEach(e=>{e.fullName=e.firstName+" "+e.lastName})})}viewReport(e){this.LateSubmissionService.lateSubmissionReview({SubmissionType:2,id:e}).subscribe()}searchTeacher(e){const t=e.query;t&&this.LateSubmissionService.getAllLateSubmissionList({SubmissionType:2,TeacherName:t,PageSize:1e4}).subscribe(e=>{var t;this.suggestedTeacher=e.data,null===(t=this.suggestedTeacher)||void 0===t||t.forEach(e=>{e.fullName=e.firstName+" "+e.lastName})})}GetDateFormated(e){return new Date(e).getMonth()+1+"/"+new Date(e).getDate()+"/"+new Date(e).getFullYear()+" "+new Date(e).getHours()+":"+new Date(e).getMinutes()+":"+new Date(e).getSeconds()}onPageChange(e){this.pageNumber=e.page+1,this.getAllListLateSubCorrHomework(this.pageNumber,this.selectedTeacher?this.selectedTeacher.teacher:"")}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(On),l.Kb(we.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-late-submission-of-correction-homeworks"]],decls:18,vars:12,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],[1,"row"],[1,"page-title",2,"padding-left","15px"],[1,"text-primary","font-weight-bold",2,"font-size","1.5rem","margin-top","-20px","margin-bottom","20px"],[1,"col-lg-12","col-md-12","col-sm-12",2,"margin-top","-15px","margin-bottom","15px"],["for",""],["name","teacherName","field","teacher",3,"ngModel","suggestions","dropdown","forceSelection","ngModelChange","completeMethod","onSelect"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["pSortableColumn",""],["field",""],[2,"width","10wrem"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-eye","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"h1",3),l.Hc(4," List late submissions of correction homework "),l.Pb(),l.Pb(),l.Qb(5,"div",4),l.Qb(6,"label",5),l.Hc(7,"Teacher name "),l.Pb(),l.Lb(8,"br"),l.Qb(9,"p-autoComplete",6),l.Xb("ngModelChange",function(e){return t.selectedTeacher=e})("completeMethod",function(e){return t.searchTeacher(e)})("onSelect",function(){return t.getAllListLateSubCorrHomework(1,t.selectedTeacher.teacher)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(10,"div",7),l.Qb(11,"p-table",8,9),l.Fc(13,$n,24,0,"ng-template",10),l.Fc(14,zn,18,7,"ng-template",11),l.Fc(15,Xn,2,1,"ng-template",12),l.Fc(16,jn,0,0,"ng-template",13),l.Pb(),l.Qb(17,"p-paginator",14),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(9),l.ic("ngModel",t.selectedTeacher)("suggestions",t.suggestedTeacher)("dropdown",!1)("forceSelection",!0),l.yb(2),l.ic("responsive",!0)("value",t.lateSubmissionHomework)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count))},directives:[Fn.a,d.p,d.s,m.d,f.i,Se.a,m.c,m.b],styles:[""]}),e})();const Kn=function(){return["List-late-submissions-of-lesson-reports"]},Un=function(){return["List-late-submissions-of-correction-homework"]},Jn=function(){return["List-late-submissions-of-correction-tests"]},Vn=function(){return["assign-single-tests"]},Wn=function(){return["assign-lesson-tests"]},Yn=function(){return["assign-group-tests"]},Zn=function(){return["absence-requests"]},ei=function(){return["teacher-assignment"]},ti=function(){return["teacher-lessons"]},ni=function(){return["homework-list"]},ii=function(){return["tests"]},oi=function(){return["analysis/teacher-report"]},si=function(){return["analysis/student-report"]},ri=function(){return["analysis/financial-report"]};let ci=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Eb({type:e,selectors:[["app-management-entry-page"]],decls:71,vars:28,consts:[[1,"groups-elements"],[1,"col","element","pb-3","m-2","text-center",3,"routerLink"],[1,"icon","my-4","pb-2"],["src","../../../../assets/images/icons/group.svg"],[1,"text-secondary","font-weight-bold"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Lb(3,"img",3),l.Pb(),l.Qb(4,"span",4),l.Hc(5,"List late submissions of lesson-reports"),l.Pb(),l.Pb(),l.Qb(6,"div",1),l.Qb(7,"div",2),l.Lb(8,"img",3),l.Pb(),l.Qb(9,"span",4),l.Hc(10,"List late submissions of corrections of homeworks"),l.Pb(),l.Pb(),l.Qb(11,"div",1),l.Qb(12,"div",2),l.Lb(13,"img",3),l.Pb(),l.Qb(14,"span",4),l.Hc(15,"List late submissions of corrections of tests"),l.Pb(),l.Pb(),l.Qb(16,"div",1),l.Qb(17,"div",2),l.Lb(18,"img",3),l.Pb(),l.Qb(19,"span",4),l.Hc(20,"Assign single test"),l.Pb(),l.Pb(),l.Qb(21,"div",1),l.Qb(22,"div",2),l.Lb(23,"img",3),l.Pb(),l.Qb(24,"span",4),l.Hc(25,"Assign lesson tests"),l.Pb(),l.Pb(),l.Qb(26,"div",1),l.Qb(27,"div",2),l.Lb(28,"img",3),l.Pb(),l.Qb(29,"span",4),l.Hc(30,"Assign group tests"),l.Pb(),l.Pb(),l.Qb(31,"div",1),l.Qb(32,"div",2),l.Lb(33,"img",3),l.Pb(),l.Qb(34,"span",4),l.Hc(35,"Absence Requests"),l.Pb(),l.Pb(),l.Qb(36,"div",1),l.Qb(37,"div",2),l.Lb(38,"img",3),l.Pb(),l.Qb(39,"span",4),l.Hc(40,"Teachers assignments"),l.Pb(),l.Pb(),l.Qb(41,"div",1),l.Qb(42,"div",2),l.Lb(43,"img",3),l.Pb(),l.Qb(44,"span",4),l.Hc(45,"Teacher Lessons"),l.Pb(),l.Pb(),l.Qb(46,"div",1),l.Qb(47,"div",2),l.Lb(48,"img",3),l.Pb(),l.Qb(49,"span",4),l.Hc(50,"Teacher homework list"),l.Pb(),l.Pb(),l.Qb(51,"div",1),l.Qb(52,"div",2),l.Lb(53,"img",3),l.Pb(),l.Qb(54,"span",4),l.Hc(55,"Teacher tests list"),l.Pb(),l.Pb(),l.Qb(56,"div",1),l.Qb(57,"div",2),l.Lb(58,"img",3),l.Pb(),l.Qb(59,"span",4),l.Hc(60,"Teacher Analysis Report "),l.Pb(),l.Pb(),l.Qb(61,"div",1),l.Qb(62,"div",2),l.Lb(63,"img",3),l.Pb(),l.Qb(64,"span",4),l.Hc(65,"Student Analysis Report "),l.Pb(),l.Pb(),l.Qb(66,"div",1),l.Qb(67,"div",2),l.Lb(68,"img",3),l.Pb(),l.Qb(69,"span",4),l.Hc(70,"Financial Analysis Report "),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("routerLink",l.lc(14,Kn)),l.yb(5),l.ic("routerLink",l.lc(15,Un)),l.yb(5),l.ic("routerLink",l.lc(16,Jn)),l.yb(5),l.ic("routerLink",l.lc(17,Vn)),l.yb(5),l.ic("routerLink",l.lc(18,Wn)),l.yb(5),l.ic("routerLink",l.lc(19,Yn)),l.yb(5),l.ic("routerLink",l.lc(20,Zn)),l.yb(5),l.ic("routerLink",l.lc(21,ei)),l.yb(5),l.ic("routerLink",l.lc(22,ti)),l.yb(5),l.ic("routerLink",l.lc(23,ni)),l.yb(5),l.ic("routerLink",l.lc(24,ii)),l.yb(5),l.ic("routerLink",l.lc(25,oi)),l.yb(5),l.ic("routerLink",l.lc(26,si)),l.yb(5),l.ic("routerLink",l.lc(27,ri)))},directives:[K.d],styles:[".groups-elements[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:0 14px;margin:88px 0}.groups-elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid rgba(26,58,63,.16);background-color:#fbfbfd;cursor:pointer;transition:.15s ease-in-out}.groups-elements[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]:hover{transform:translateY(-6px)}"]}),e})();var ai=n("Kj3r");let li=(()=>{class e{constructor(e){this.http=e,this.prefix="TestInstance"}GetLessonInstanceToAssign(e){return this.http.get(`${p.a}/${this.prefix}/GetLessonInstanceToAssign`,{params:e||""})}GetGroupInstanceToAssign(e){return this.http.get(`${p.a}/${this.prefix}/GetGroupInstanceToAssign`,{params:e||""})}GetTestInstanceToAssign(e){return this.http.get(`${p.a}/${this.prefix}/GetTestInstanceToAssign`,{params:e||""})}AssignTeacher(e){return this.http.post(`${p.a}/${this.prefix}/AssignTeacher`,e)}getTeacher(e){return this.http.post(p.a+"/Teacher/GetAllTeachers",{params:e})}getAllGroupInstance(){return this.http.get(p.a+"/GroupInstance/GetAll")}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),di=(()=>{class e{constructor(e){this.http=e,this.prefix="teacher"}GetTeacherAnalysisReport(e){return this.http.get(`${p.a}/${this.prefix}/GetTeacherAnalysisReport`,{params:e})}GetStudentAnalysisReport(e){return this.http.get(p.a+"/Account/GetStudentAnalysisReport",{params:e})}GetFinancialAnalysisReport(e){return this.http.get(p.a+"/Account/GetFinancialAnalysisReport",{params:e})}GetAllGroupInstance(e){return this.http.get(p.a+"/GroupInstance/GetAll",{params:e})}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bi(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",26),l.Hc(2," Student name"),l.Lb(3,"p-sortIcon",27),l.Pb(),l.Qb(4,"th",26),l.Hc(5," Test Name"),l.Lb(6,"p-sortIcon",27),l.Pb(),l.Qb(7,"th",26),l.Hc(8," Test Type"),l.Lb(9,"p-sortIcon",27),l.Pb(),l.Qb(10,"th",26),l.Hc(11," Assigned To,"),l.Lb(12,"p-sortIcon",27),l.Pb(),l.Qb(13,"th",26),l.Hc(14,"Group "),l.Lb(15,"p-sortIcon",27),l.Pb(),l.Qb(16,"th",26),l.Hc(17,"Status"),l.Lb(18,"p-sortIcon",27),l.Pb(),l.Qb(19,"th",26),l.Hc(20," submission date"),l.Lb(21,"p-sortIcon",27),l.Pb(),l.Qb(22,"th",28),l.Hc(23,"Actions"),l.Pb(),l.Pb())}function ui(e,t){1&e&&(l.Ob(0),l.Hc(1,"quizz "),l.Nb())}function pi(e,t){1&e&&(l.Ob(0),l.Hc(1,"subLevel "),l.Nb())}function hi(e,t){1&e&&(l.Ob(0),l.Hc(1,"final "),l.Nb())}function gi(e,t){1&e&&(l.Ob(0),l.Hc(1,"placement "),l.Nb())}function mi(e,t){1&e&&(l.Ob(0),l.Hc(1,"Feedback "),l.Nb())}function fi(e,t){1&e&&(l.Ob(0),l.Hc(1,"Closed"),l.Nb())}function Pi(e,t){1&e&&(l.Ob(0),l.Hc(1,"Pending"),l.Nb())}function vi(e,t){1&e&&(l.Ob(0),l.Hc(1,"Solved"),l.Nb())}function yi(e,t){1&e&&(l.Ob(0),l.Hc(1,"Missed"),l.Nb())}function Ci(e,t){1&e&&(l.Ob(0),l.Hc(1,"Corrected"),l.Nb())}function _i(e,t){1&e&&(l.Ob(0),l.Hc(1,"Canceled "),l.Nb())}function wi(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Ob(6,29),l.Fc(7,ui,2,0,"ng-container",30),l.Fc(8,pi,2,0,"ng-container",30),l.Fc(9,hi,2,0,"ng-container",30),l.Fc(10,gi,2,0,"ng-container",30),l.Fc(11,mi,2,0,"ng-container",30),l.Nb(),l.Pb(),l.Qb(12,"td"),l.Hc(13),l.Pb(),l.Qb(14,"td"),l.Hc(15),l.Pb(),l.Qb(16,"td"),l.Ob(17,29),l.Fc(18,fi,2,0,"ng-container",30),l.Fc(19,Pi,2,0,"ng-container",30),l.Fc(20,vi,2,0,"ng-container",30),l.Fc(21,yi,2,0,"ng-container",30),l.Fc(22,Ci,2,0,"ng-container",30),l.Fc(23,_i,2,0,"ng-container",30),l.Nb(),l.Pb(),l.Qb(24,"td"),l.Hc(25),l.Pb(),l.Qb(26,"td"),l.Qb(27,"a",31),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().openModel(n)}),l.Lb(28,"span",32),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Ic(e.studentName),l.yb(2),l.Ic(e.testName),l.yb(2),l.ic("ngSwitch",e.testType),l.yb(1),l.ic("ngSwitchCase",0),l.yb(1),l.ic("ngSwitchCase",1),l.yb(1),l.ic("ngSwitchCase",2),l.yb(1),l.ic("ngSwitchCase",3),l.yb(1),l.ic("ngSwitchCase",4),l.yb(2),l.Ic(e.correctionTeacher),l.yb(2),l.Ic(e.groupSerial),l.yb(2),l.ic("ngSwitch",e.status),l.yb(1),l.ic("ngSwitchCase",0),l.yb(1),l.ic("ngSwitchCase",1),l.yb(1),l.ic("ngSwitchCase",2),l.yb(1),l.ic("ngSwitchCase",3),l.yb(1),l.ic("ngSwitchCase",4),l.yb(1),l.ic("ngSwitchCase",5),l.yb(2),l.Ic(e.submissionDate)}}function Qi(e,t){if(1&e&&(l.Qb(0,"div",33),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count," tests. ")}}function Si(e,t){}const Ii=function(){return{width:"100%"}},xi=function(){return{width:"450px"}};let Di=(()=>{class e{constructor(e,t,n){this.AssignPgsService=e,this.CommonService=t,this.AnalyticsService=n,this.filterForm=new d.h({selectedStudent:new d.f(""),selectedTest:new d.f(""),assignedTo:new d.f(!1),testType:new d.f(""),groupInstance:new d.f("")}),this.groupInstanceList=[{serial:"All",id:""}],this.testTypeList=[{name:"All",val:""},{name:"quizz",val:0},{name:"subLevel",val:1},{name:"final",val:2},{name:"placement",val:3},{name:"Feedback",val:4}],this.pageNumber=1,this.pageSize=10,this.suggestedeacher=[],this.suggestedStudent=[],this.suggestedTests=[],this.assignTeacherDialog=!1}ngOnInit(){this.AnalyticsService.GetAllGroupInstance({pageSize:1e4}).subscribe(e=>{e.data.forEach(e=>{this.groupInstanceList.push(e)})}),this.getAllTestsList(),this.onFormChange()}getAllTestsList(e){this.AssignPgsService.GetTestInstanceToAssign(e||{PageNumber:this.pageNumber,PageSize:this.pageSize}).subscribe(e=>{console.log("singleTestsList====>",this.singleTestsList),this.singleTestsList=e.data,this.count=e.count})}openModel(e){this.selectedGroupInstanceId=e.groupInstanceId,this.TestId=e.testDefinitionId,this.assignTeacherDialog=!0}hideDialog(){this.assignTeacherDialog=!1}search(e,t){e.query&&("teacher"==t?this.AssignPgsService.getTeacher("").subscribe(e=>{this.suggestedeacher=e.data,this.suggestedeacher.forEach(e=>{e.fullName=e.teacherFirstName+" "+e.teacherLastName})}):"student"==t?this.AssignPgsService.GetTestInstanceToAssign().subscribe(e=>{this.singleTestsList=e.data,this.suggestedStudent=[],this.singleTestsList.forEach(e=>{this.suggestedStudent.push({student:e.studentName})})}):this.AssignPgsService.GetTestInstanceToAssign().subscribe(e=>{this.singleTestsList=e.data,this.suggestedTests=[],this.singleTestsList.forEach(e=>{this.suggestedTests.push({test:e.testName})}),console.log("suggestedTests ----\x3e",this.suggestedTests)}))}AssignTeacherToTest(){this.AssignPgsService.AssignTeacher({teacherId:this.selectedTeacher.teacherId,groupInstanceId:this.selectedGroupInstanceId,testInstanceId:this.TestId}).subscribe(e=>{e.succeeded&&this.hideDialog()})}onFormChange(){this.filterForm.valueChanges.pipe(Object(ai.a)(1500)).subscribe(()=>{this.filter("formChange")})}filter(e){var t,n,i,o;this.filterObj={StudentName:null===(t=this.filterForm.value.selectedStudent)||void 0===t?void 0:t.student,TestName:null===(n=this.filterForm.value.selectedTest)||void 0===n?void 0:n.test,Assigend:this.filterForm.value.assignedTo,TestType:this.filterForm.value.testType,GroupInsatanceId:null===(i=this.filterForm.value)||void 0===i?void 0:i.groupInstance,PageNumber:e?1:this.pageNumber,PageSize:this.pageSize},this.CommonService.removeAllunValudKeys(this.filterObj),console.log("filterObj---\x3e",null===(o=this.filterForm.value)||void 0===o?void 0:o.testType,this.filterObj),this.getAllTestsList(this.filterObj)}onPageChange(e){this.pageNumber=e.page+1,this.filter()}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(li),l.Kb(we.a),l.Kb(di))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-assign-single-tests"]],decls:39,vars:31,consts:[[1,"container","pt-5","pb-5","row","justify-content-between","single-assing"],["action","",2,"width","100%",3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-2","col-sm-4",2,"margin-top","-3px","margin-bottom","15px"],["for",""],["formControlName","selectedStudent","name","studentName","field","student",3,"suggestions","dropdown","forceSelection","completeMethod"],["formControlName","selectedTest","name","testName","field","test",3,"suggestions","dropdown","forceSelection","completeMethod"],[1,"col-lg-2","col-md-2","col-sm-4",2,"margin-top","33px","margin-bottom","15px"],["type","checkbox","name","","formControlName","assignedTo","id",""],[1,"col-lg-3","col-md-3","col-sm-4",2,"margin-top","0px","margin-bottom","15px"],["optionValue","val","optionLabel","name","formControlName","testType","placeholder","test type","id","role",3,"options"],["optionValue","id","optionLabel","serial","formControlName","groupInstance","placeholder","Group Instance Id","id","role",3,"options"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","Assign to teacher","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],["name","studentName","field","fullName",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod"],[1,"formbtns","pt-3"],[1,"btn","adler-btn","px-5","rounded-pill",3,"click"],[1,"btn","mr-3","px-5","rounded-pill","btn-outline-secondary","ml-2",3,"click"],["pSortableColumn",""],["field",""],[2,"width","10wrem"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-check","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"form",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"label",4),l.Hc(5,"studet name "),l.Pb(),l.Qb(6,"p-autoComplete",5),l.Xb("completeMethod",function(e){return t.search(e,"student")}),l.Pb(),l.Pb(),l.Qb(7,"div",3),l.Qb(8,"label",4),l.Hc(9,"test name "),l.Pb(),l.Qb(10,"p-autoComplete",6),l.Xb("completeMethod",function(e){return t.search(e,"test")}),l.Pb(),l.Pb(),l.Qb(11,"div",7),l.Lb(12,"input",8),l.Hc(13," assigned "),l.Pb(),l.Qb(14,"div",9),l.Qb(15,"label",4),l.Hc(16,"Test Type"),l.Pb(),l.Lb(17,"p-dropdown",10),l.Pb(),l.Qb(18,"div",9),l.Qb(19,"label",4),l.Hc(20,"Group Insatance"),l.Pb(),l.Lb(21,"p-dropdown",11),l.Pb(),l.Pb(),l.Pb(),l.Qb(22,"div",12),l.Qb(23,"p-table",13,14),l.Fc(25,bi,24,0,"ng-template",15),l.Fc(26,wi,29,18,"ng-template",16),l.Fc(27,Qi,2,1,"ng-template",17),l.Fc(28,Si,0,0,"ng-template",18),l.Pb(),l.Qb(29,"p-paginator",19),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(30,"p-dialog",20),l.Xb("visibleChange",function(e){return t.assignTeacherDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(31,"h6",21),l.Hc(32,"Choose Teacher"),l.Pb(),l.Qb(33,"p-autoComplete",22),l.Xb("ngModelChange",function(e){return t.selectedTeacher=e})("completeMethod",function(e){return t.search(e,"teacher")}),l.Pb(),l.Qb(34,"div",23),l.Qb(35,"button",24),l.Xb("click",function(){return t.AssignTeacherToTest()}),l.Hc(36," Assign "),l.Pb(),l.Qb(37,"button",25),l.Xb("click",function(){return t.hideDialog()}),l.Hc(38," Cancel "),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("formGroup",t.filterForm),l.yb(5),l.ic("suggestions",t.suggestedStudent)("dropdown",!1)("forceSelection",!0),l.yb(4),l.ic("suggestions",t.suggestedTests)("dropdown",!1)("forceSelection",!0),l.yb(7),l.Dc(l.lc(28,Ii)),l.ic("options",t.testTypeList),l.yb(4),l.Dc(l.lc(29,Ii)),l.ic("options",t.groupInstanceList),l.yb(2),l.ic("responsive",!0)("value",t.singleTestsList)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count),l.yb(1),l.Dc(l.lc(30,xi)),l.ic("visible",t.assignTeacherDialog)("modal",!0),l.yb(3),l.ic("ngModel",t.selectedTeacher)("suggestions",t.suggestedeacher)("dropdown",!1))},directives:[d.y,d.q,d.i,Fn.a,d.p,d.g,d.a,Qe.a,m.d,f.i,Se.a,P.a,d.s,m.c,m.b,o.o,o.p],styles:[""]}),e})();var Ti=function(e){return e[e.New=0]="New",e[e.Accepted=1]="Accepted",e[e.Rejected=2]="Rejected",e}({});let Mi=(()=>{class e{constructor(e){this.http=e,this.prefix="TeacherAbsence"}getAllTeacherAbsence(e){return this.http.get(`${p.a}/${this.prefix}`,{params:e})}takeAction(e,t){return this.http.put(`${p.a}/${this.prefix}/${e}`,t)}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Oi(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",16),l.Hc(2," Teacher"),l.Lb(3,"p-sortIcon",17),l.Pb(),l.Qb(4,"th",16),l.Hc(5," Group"),l.Lb(6,"p-sortIcon",17),l.Pb(),l.Qb(7,"th",16),l.Hc(8,"Lesson"),l.Lb(9,"p-sortIcon",17),l.Pb(),l.Qb(10,"th",16),l.Hc(11," Status"),l.Lb(12,"p-sortIcon",17),l.Pb(),l.Qb(13,"th",18),l.Hc(14,"Actions"),l.Pb(),l.Pb())}function Fi(e,t){if(1&e){const e=l.Rb();l.Ob(0),l.Qb(1,"a",19),l.Xb("click",function(){l.yc(e);const t=l.bc().$implicit;return l.bc().takeAction("rej",t.teacherId,t.id)}),l.Lb(2,"span",22),l.Pb(),l.Nb()}}function Li(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Qb(10,"a",19),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().takeAction("acc",n.teacherId,n.id)}),l.Lb(11,"span",20),l.Pb(),l.Fc(12,Fi,3,0,"ng-container",21),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit,n=l.bc();l.yb(2),l.Kc(" ",null==e.teacher?null:e.teacher.firstName,"\xa0",null==e.teacher?null:e.teacher.lastName," "),l.yb(2),l.Ic(e.lessonInstance.groupInstance),l.yb(2),l.Ic(e.lessonInstance.lessonDefinition),l.yb(2),l.Ic(n.statusList[e.status+1].name),l.yb(4),l.ic("ngIf",!e.isEmergency)}}function ki(e,t){if(1&e&&(l.Qb(0,"div",23),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count," AbsenceReq. ")}}function Hi(e,t){}const Ai=function(){return{width:"25%"}};let Ri=(()=>{class e{constructor(e){this.AbsenceReqListService=e,this.absenceReqForm=new d.h({status:new d.f("")}),this.pageNumber=1,this.pageSize=10,this.statusList=[{val:"",name:"All"},{val:Ti.New,name:"New"},{val:Ti.Accepted,name:"Accepted"},{val:Ti.Rejected,name:"Rejected"}]}ngOnInit(){this.getAllTeacherAbsence("")}getAllTeacherAbsence(e){this.AbsenceReqListService.getAllTeacherAbsence({status:this.absenceReqForm.value.status,PageNumber:this.pageNumber}).subscribe(e=>{this.count=e.count,this.teacherAbsenceList=e.data})}takeAction(e,t,n){"acc"==e?this.AbsenceReqListService.takeAction("AcceptAbsenceRequest",{teacherId:t,absenceRequestId:n}).subscribe(e=>{}):"rej"==e&&this.AbsenceReqListService.takeAction("RejectAbsenceRequest",{absenceRequestId:n}).subscribe(e=>{})}onPageChange(e){this.pageNumber=e.page+1,this.getAllTeacherAbsence({status:this.absenceReqForm.value.status,PageNumber:this.pageNumber})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(Mi))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-absence-req-list"]],decls:19,vars:12,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],[1,"row"],[1,"page-title",2,"padding-left","0px"],[1,"text-primary","font-weight-bold",2,"font-size","1.5rem","margin-top","-20px","margin-bottom","20px"],[1,"col-lg-12","col-md-12","col-sm-12",2,"margin-top","-15px","margin-bottom","15px","padding","0"],["for",""],[3,"formGroup"],["formControlName","status","optionLabel","name","optionValue","val",3,"options","onChange"],[1,"card"],["currentPageAbsenceReqTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["pSortableColumn",""],["field",""],[2,"width","10wrem"],[1,"mr-2","mr-3","text-secondary",3,"click"],["title","accept",1,"p-button-icon","pi","pi-check","font-weight-bold"],[4,"ngIf"],["title","reject",1,"p-button-icon","pi","pi-ban","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"h1",3),l.Hc(4," Absence Requests "),l.Pb(),l.Pb(),l.Qb(5,"div",4),l.Qb(6,"label",5),l.Hc(7,"Statue"),l.Pb(),l.Lb(8,"br"),l.Qb(9,"form",6),l.Qb(10,"p-dropdown",7),l.Xb("onChange",function(){return t.getAllTeacherAbsence(t.absenceReqForm.value.status)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,"div",8),l.Qb(12,"p-table",9,10),l.Fc(14,Oi,15,0,"ng-template",11),l.Fc(15,Li,13,6,"ng-template",12),l.Fc(16,ki,2,1,"ng-template",13),l.Fc(17,Hi,0,0,"ng-template",14),l.Pb(),l.Qb(18,"p-paginator",15),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(9),l.ic("formGroup",t.absenceReqForm),l.yb(1),l.Dc(l.lc(11,Ai)),l.ic("options",t.statusList),l.yb(2),l.ic("responsive",!0)("value",t.teacherAbsenceList)("rows",10)("paginator",!1)("rowHover",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count))},directives:[d.y,d.q,d.i,Qe.a,d.p,d.g,m.d,f.i,Se.a,m.c,m.b,o.m],styles:[""]}),e})();var Ni=n("Mc43"),Gi=n("tegk"),qi=n("mTcB"),Ei=n("zFJ7"),$i=n("NCSE"),zi=n("LuMj");function Xi(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div"),l.Qb(1,"label",9),l.Hc(2,"Paragraph "),l.Pb(),l.Qb(3,"textarea",24),l.Xb("keyup",function(){return l.yc(e),l.bc().saveParagraph()}),l.Pb(),l.Pb()}2&e&&(l.yb(3),l.ic("rows",3)("cols",34))}function ji(e,t){1&e&&(l.Qb(0,"div"),l.Qb(1,"div",25),l.Qb(2,"div",26),l.Qb(3,"label",14),l.Hc(4,"Question"),l.Pb(),l.Lb(5,"input",27,11),l.Pb(),l.Qb(7,"div",28),l.Qb(8,"label",14),l.Hc(9,"Min Characters"),l.Pb(),l.Lb(10,"br"),l.Lb(11,"input",29,11),l.Pb(),l.Pb(),l.Pb())}function Bi(e,t){1&e&&(l.Qb(0,"span",36),l.Hc(1," Uploading "),l.Qb(2,"div",37),l.Lb(3,"div"),l.Lb(4,"div"),l.Lb(5,"div"),l.Lb(6,"div"),l.Pb(),l.Pb())}function Ki(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",30),l.Qb(1,"label",14),l.Hc(2,"Upload Audio"),l.Pb(),l.Qb(3,"p-fileUpload",31),l.Xb("uploadHandler",function(t){return l.yc(e),l.bc().uploadAudioFile(t)}),l.Pb(),l.Fc(4,Bi,7,0,"span",32),l.Qb(5,"div",25),l.Qb(6,"div",26),l.Qb(7,"label",14),l.Hc(8,"Or - Audio file link "),l.Pb(),l.Qb(9,"input",33,34),l.Xb("change",function(){l.yc(e);const t=l.vc(10);return l.bc().getAudioLink(t.value)}),l.Pb(),l.Pb(),l.Qb(12,"div",28),l.Qb(13,"label",14),l.Hc(14,"Number of repeats"),l.Pb(),l.Lb(15,"input",35,11),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=l.bc();l.yb(3),l.ic("disabled",e.loading||e.hasLink)("showUploadButton",!e.loading)("showCancelButton",!1),l.yb(1),l.ic("ngIf",e.loading)}}function Ui(e,t){1&e&&l.Lb(0,"div")}function Ji(e,t){1&e&&(l.Qb(0,"div"),l.Qb(1,"div",25),l.Qb(2,"div",38),l.Qb(3,"label",14),l.Hc(4,"Question"),l.Pb(),l.Lb(5,"input",27),l.Pb(),l.Pb(),l.Pb())}function Vi(e,t){1&e&&l.Lb(0,"i",48)}function Wi(e,t){1&e&&l.Lb(0,"i",49)}function Yi(e,t){if(1&e&&(l.Qb(0,"li"),l.Fc(1,Vi,1,0,"i",46),l.Fc(2,Wi,1,0,"i",47),l.Qb(3,"span"),l.Hc(4),l.Pb(),l.Pb()),2&e){const e=t.$implicit;l.yb(1),l.ic("ngIf",e.isCorrect&&"false"!=e.name),l.yb(1),l.ic("ngIf",!e.isCorrect||"false"==e.name),l.yb(2),l.Ic(e.name)}}function Zi(e,t){1&e&&l.Lb(0,"i",48)}function eo(e,t){1&e&&l.Lb(0,"i",49)}function to(e,t){if(1&e&&(l.Qb(0,"li"),l.Fc(1,Zi,1,0,"i",46),l.Fc(2,eo,1,0,"i",47),l.Qb(3,"span"),l.Hc(4),l.Pb(),l.Pb()),2&e){const e=l.bc().$implicit;l.yb(1),l.ic("ngIf",e.answerIsTrueOrFalse),l.yb(1),l.ic("ngIf",!e.answerIsTrueOrFalse),l.yb(2),l.Jc(" ",e.answerIsTrueOrFalse," ")}}function no(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",41),l.Qb(1,"i",42),l.Xb("click",function(){l.yc(e);const n=t.index;return l.bc(2).removeRelativeQuestion(n)}),l.Pb(),l.Qb(2,"span",43),l.Hc(3),l.Pb(),l.Qb(4,"p",44),l.Hc(5),l.Pb(),l.Qb(6,"ul"),l.Fc(7,Yi,5,3,"li",45),l.Fc(8,to,5,3,"li",18),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit,n=t.index;l.yb(3),l.Jc("points: ",e.points,""),l.yb(2),l.Kc(" ",n+1," - ",e.text," "),l.yb(2),l.ic("ngForOf",e.choices),l.yb(1),l.ic("ngIf",1==e.singleQuestionType)}}function io(e,t){if(1&e&&(l.Qb(0,"div"),l.Qb(1,"p",39),l.Hc(2,"Related Questions"),l.Pb(),l.Fc(3,no,9,5,"div",40),l.Pb()),2&e){const e=l.bc();l.yb(3),l.ic("ngForOf",e.relatedSingleQuestionsArray)}}function oo(e,t){if(1&e){const e=l.Rb();l.Qb(0,"p",50),l.Qb(1,"span",51),l.Xb("click",function(){return l.yc(e),l.bc().addRelatedQuestion()}),l.Qb(2,"span",52),l.Lb(3,"i",53),l.Pb(),l.Hc(4," Add Related Question "),l.Pb(),l.Pb()}}function so(e,t){if(1&e){const e=l.Rb();l.Qb(0,"i",70),l.Xb("click",function(){l.yc(e);const t=l.bc().index;return l.bc(3).remove(t)}),l.Pb()}}function ro(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",65),l.Qb(1,"p-radioButton",66),l.Xb("onClick",function(){l.yc(e);const n=t.$implicit;return l.bc(3).selectSingleRightAnswer(n)}),l.Pb(),l.Qb(2,"label",67),l.Hc(3),l.Pb(),l.Qb(4,"input",68),l.Xb("blur",function(){return l.yc(e),l.bc(3).toggleLabelEditingMode()}),l.Pb(),l.Fc(5,so,1,0,"i",69),l.Pb()}if(2&e){const e=t.$implicit,n=t.index,i=l.bc(3);l.yb(1),l.kc("inputId","answer-",n,""),l.ic("disabled",i.editMode[n])("value",e),l.yb(1),l.Cb("hidden",i.editMode[n]),l.kc("for","answer-",n,""),l.yb(1),l.Ic(e.name),l.yb(1),l.ic("type",i.editMode[n]?"text":"hidden"),l.yb(1),l.ic("ngIf",!i.editMode[n])}}function co(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",62),l.Fc(1,ro,6,9,"div",63),l.Qb(2,"p",64),l.Xb("click",function(){return l.yc(e),l.bc(2).addAnswer()}),l.Lb(3,"i",53),l.Hc(4," Add other answer"),l.Pb(),l.Pb()}if(2&e){const e=l.bc(2);l.yb(1),l.ic("ngForOf",e.answers)}}function ao(e,t){if(1&e){const e=l.Rb();l.Qb(0,"i",70),l.Xb("click",function(){l.yc(e);const t=l.bc().index;return l.bc(3).remove(t)}),l.Pb()}}function lo(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",65),l.Qb(1,"input",71,72),l.Xb("change",function(){l.yc(e);const n=t.$implicit,i=l.vc(2);return l.bc(3).selectMultipleRightAnswers(n,i.checked)}),l.Pb(),l.Qb(3,"label",67),l.Hc(4),l.Pb(),l.Qb(5,"input",68),l.Xb("blur",function(){return l.yc(e),l.bc(3).toggleLabelEditingMode()}),l.Pb(),l.Fc(6,ao,1,0,"i",69),l.Pb()}if(2&e){const e=t.$implicit,n=t.index,i=l.bc(3);l.yb(1),l.kc("id","answer-",n,""),l.ic("disabled",i.editMode[n]),l.yb(2),l.Cb("hidden",i.editMode[n]),l.kc("for","answer-",n,""),l.yb(1),l.Ic(e.name),l.yb(1),l.ic("type",i.editMode[n]?"text":"hidden"),l.yb(1),l.ic("ngIf",!i.editMode[n])}}function bo(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",62),l.Fc(1,lo,7,8,"div",63),l.Qb(2,"p",64),l.Xb("click",function(){return l.yc(e),l.bc(2).addAnswer()}),l.Lb(3,"i",53),l.Hc(4," Add other answer"),l.Pb(),l.Pb()}if(2&e){const e=l.bc(2);l.yb(1),l.ic("ngForOf",e.answers)}}function uo(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div"),l.Qb(1,"p-radioButton",73),l.Xb("onClick",function(){return l.yc(e),l.bc(2).selectTrueOrFalse(!0)}),l.Pb(),l.Qb(2,"label",74),l.Hc(3," true "),l.Pb(),l.Lb(4,"br"),l.Qb(5,"p-radioButton",75),l.Xb("onClick",function(){return l.yc(e),l.bc(2).selectTrueOrFalse(!1)}),l.Pb(),l.Qb(6,"label",76),l.Hc(7," false "),l.Pb(),l.Pb()}}function po(e,t){if(1&e){const e=l.Rb();l.Qb(0,"span",79),l.Xb("click",function(){l.yc(e);const n=t.index;return l.bc(3).toggleChooseMissingWords(n)}),l.Hc(1),l.Pb()}if(2&e){const e=t.$implicit;l.yb(1),l.Jc(" ",e," ")}}function ho(e,t){if(1&e&&(l.Qb(0,"div"),l.Qb(1,"h6",4),l.Hc(2,"After typing the question please select words that will be missing below:"),l.Pb(),l.Lb(3,"br"),l.Qb(4,"div",77),l.Fc(5,po,2,1,"span",78),l.Pb(),l.Pb()),2&e){const e=l.bc(2);l.yb(5),l.ic("ngForOf",e.completeQuestionArray)}}function go(e,t){if(1&e){const e=l.Rb();l.Qb(0,"div",7),l.Qb(1,"div"),l.Qb(2,"label",4),l.Hc(3,"Related Question Type"),l.Pb(),l.Lb(4,"br"),l.Qb(5,"p-dropdown",54),l.Xb("onChange",function(t){return l.yc(e),l.bc().showSelectedQuestionType(t)}),l.Pb(),l.Pb(),l.Qb(6,"div",25),l.Qb(7,"div",26),l.Qb(8,"label",14),l.Hc(9,"Question"),l.Pb(),l.Lb(10,"br"),l.Qb(11,"input",55,11),l.Xb("keyup",function(){l.yc(e);const t=l.vc(12);return l.bc().completeQuestionLogic(t.value)}),l.Pb(),l.Pb(),l.Qb(13,"div",28),l.Qb(14,"label",14),l.Hc(15,"Points"),l.Pb(),l.Lb(16,"br"),l.Lb(17,"input",56,11),l.Pb(),l.Pb(),l.Fc(19,co,5,1,"div",57),l.Fc(20,bo,5,1,"div",57),l.Fc(21,uo,8,0,"div",18),l.Fc(22,ho,6,1,"div",18),l.Qb(23,"span",58),l.Xb("click",function(){return l.yc(e),l.bc().createSingleQuestion()}),l.Hc(24," Add "),l.Lb(25,"i",59),l.Pb(),l.Qb(26,"span",60),l.Xb("click",function(){return l.yc(e),l.bc().cancelAddingRelated()}),l.Lb(27,"i",61),l.Pb(),l.Pb()}if(2&e){const e=l.bc();l.yb(5),l.ic("options",e.singleQuestionTypes),l.yb(14),l.ic("ngIf",2==e.selectedQuetionType),l.yb(1),l.ic("ngIf",0==e.selectedQuetionType),l.yb(1),l.ic("ngIf",1==e.selectedQuetionType),l.yb(1),l.ic("ngIf",3==e.selectedQuetionType)}}function mo(e,t){if(1&e&&(l.Qb(0,"button",80),l.Hc(1," Create "),l.Lb(2,"i",59),l.Pb()),2&e){const e=l.bc();l.ic("disabled",e.createSingleQuestionFlag||3==e.selectedMainQuetionType&&!e.audioPath)}}function fo(e,t){if(1&e&&(l.Qb(0,"button",80),l.Hc(1," Update "),l.Lb(2,"i",59),l.Pb()),2&e){const e=l.bc();l.ic("disabled",e.createSingleQuestionFlag||3==e.selectedMainQuetionType&&!e.audioPath)}}let Po=(()=>{class e{constructor(e,t,n,i,o){this.questionService=e,this.formBuilder=t,this.alertService=n,this.adlerCardsService=i,this.commonService=o,this.selectedQuetionType=2,this.selectedMainQuetionType=1,this.adlerCardModel=new Object,this.relatedSingleQuestionsArray=[],this.hasLink=!1,this.answers=[],this.editMode=[],this.pargraph="",this.savedHeader="",this.count=1,this.label="",this.completeQuestionArray=[],this.createSingleQuestionFlag=!1,this.loading=!1,this.levels=[],this.Units=[],this.choicesField=Array.from(Array(10).keys()),this.singleQuestionTypes=[{label:"Single Choice",value:mt.b.SingleChoice},{label:"Multiple Choice",value:mt.b.MultipleChoice},{label:"True or False",value:mt.b.TrueOrFalse},{label:"Complete",value:mt.b.Complete}],this.questionTypes=[{label:"Reading",value:mt.a.Reading},{label:"Writing",value:mt.a.Writing},{label:"Listening",value:mt.a.Listening},{label:"Speaking",value:mt.a.Speaking}],this.adlerCardModel.question=new Object}showSelectedQuestionType(e){this.count=1,this.answers=[],this.answers.push({name:"",isCorrect:!1}),this.editMode=[!0],this.selectedQuetionType=e.value}showSelectedMainQuestionType(e){this.selectedMainQuetionType=e.value,this.createSingleQuestionFlag=!1}addRelatedQuestion(){this.createSingleQuestionFlag=!0,this.selectedQuetionType=2}ngOnInit(){this.getAllAdlerCardsUnits(),this.getLevels(),this.loadForm(),this.answers.push({name:"",isCorrect:!1}),this.editMode[0]=!0}ngOnChanges(){if(this.editCardMode&&this.data){this.form.controls.levelIdField.setValue(this.data.levelId),this.form.controls.QuestionTypeField.setValue(this.data.adlerCardsTypeId),this.form.controls.unitIdField.setValue(this.data.adlerCardsUnitId),this.form.controls.cardNameField.setValue(this.data.name),this.form.controls.durationToAnswer.setValue(this.data.allowedDuration),this.form.controls.QuestionHeaderField.setValue(this.data.question.header),this.form.controls.ReadingParagraphField.setValue(this.data.question.text);for(let e=0;e<this.data.question.singleQuestions.length;e++)this.relatedSingleQuestionsArray.push(this.data.question.singleQuestions[e])}}getAllAdlerCardsUnits(){this.adlerCardsService.getAllUnits().subscribe(e=>{for(let t of e.data)this.Units.push({label:t.name,value:parseInt(t.id)});this.editCardMode&&this.data&&this.form.controls.unitIdField.setValue(this.data.adlerCardsUnitId)})}selectUnit(e){this.selectedUnitId=e.value}selectLevel(e){this.selectedLevelId=e.value}getLevels(){this.commonService.getAllLevels().subscribe(e=>{for(let t of e.data)this.levels.push({label:t.name,value:parseInt(t.id)});this.editCardMode&&this.data&&this.form.controls.levelIdField.setValue(this.data.levelId)})}saveParagraph(){this.pargraph=this.form.controls.ReadingParagraphField.value}saveHeader(){this.savedHeader=this.form.controls.QuestionHeaderField.value}completeQuestionLogic(e){3==this.selectedQuetionType&&(this.completeQuestionArray=e.split(" "))}toggleChooseMissingWords(e){this.completeQuestionArray[e].startsWith("[")?(this.completeQuestionArray[e]=this.completeQuestionArray[e].substring(1),this.completeQuestionArray[e]=this.completeQuestionArray[e].slice(0,-1)):this.completeQuestionArray[e]="["+this.completeQuestionArray[e]+"]",this.completeQuestionTextResult=this.completeQuestionArray.join(" ")}loadForm(){this.form=this.formBuilder.group({levelIdField:this.selectedLevelId,unitIdField:this.selectedUnitId,QuestionTypeField:this.selectedMainQuetionType,SingleQuestionTypeField:mt.b.SingleChoice,QuestionHeaderField:this.savedHeader,QuestionTextField:"",choicesField:!1,currentLabelField:"",TrueorFalse:!1,completeQuestion:"",ReadingParagraphField:this.pargraph,pointsField:25,minCharsField:0,noOfRepeatsField:2,audioPathField:"",durationToAnswer:5,minChars:"",cardNameField:""})}toggleLabelEditingMode(){this.form.controls.currentLabelField.value&&(this.answers[this.count-1].name=this.form.controls.currentLabelField.value,this.form.controls.currentLabelField.setValue(""),this.editMode[this.count-1]=!this.editMode[this.count-1],this.editMode[this.count]=!0)}addAnswer(){this.answers[this.count-1].name?(this.count++,this.answers.push({name:"",isCorrect:!1}),this.editMode[this.count-1]=!0):this.alertService.newAlert("error","Please Enter Answer Text")}selectSingleRightAnswer(e){for(let t of this.answers)t.isCorrect=!1;e.isCorrect=!0}selectMultipleRightAnswers(e,t){this.answers.find(n=>{n==e&&(n.isCorrect=t)})}selectTrueOrFalse(e){this.answers=e?[{name:"true",isCorrect:!0}]:[{name:"false",isCorrect:!0}]}getAudioLink(e){""!=e?(this.hasLink=!0,this.audioPath=this.form.controls.audioPathField.value):this.hasLink=!1}remove(e){this.answers.splice(e,1),this.editMode.splice(e,1),this.count--}createSingleQuestion(){if(this.singleQuestion=new Object,this.singleQuestion.points=this.form.controls.pointsField.value,this.singleQuestion.singleQuestionType=this.form.controls.SingleQuestionTypeField.value,this.selectedQuetionType!=mt.b.Complete&&this.selectedQuetionType!=mt.b.Speaking){this.singleQuestion.text=this.form.controls.QuestionTextField.value,this.singleQuestion.choices=this.answers,this.selectedQuetionType==mt.b.TrueOrFalse&&(this.singleQuestion.answerIsTrueOrFalse="true"==this.singleQuestion.choices[0].name);for(let e of this.singleQuestion.choices)if(1==e.isCorrect)return void this.addSingleRelatedQuestion();this.alertService.newAlert("error","Please Select the right answers")}else if(this.selectedQuetionType==mt.b.Complete){if(this.singleQuestion.text=this.completeQuestionTextResult,!this.singleQuestion.text)return void this.alertService.newAlert("error","Please Select the missing words from below");this.singleQuestion.choices=[],this.addSingleRelatedQuestion()}else this.singleQuestion.text=this.form.controls.QuestionTextField.value,this.singleQuestion.choices=[],this.addSingleRelatedQuestion()}addSingleRelatedQuestion(){this.selectedQuetionType==mt.b.TrueOrFalse&&(this.singleQuestion.choices=[]),this.relatedSingleQuestionsArray.push(this.singleQuestion),this.count=1,this.answers=[],this.answers.push({name:"",isCorrect:!1}),this.editMode=[!0],this.completeQuestionTextResult="",this.loadForm(),this.createSingleQuestionFlag=!1}removeRelativeQuestion(e){this.relatedSingleQuestionsArray.splice(e,1)}cancelAddingRelated(){this.createSingleQuestionFlag=!1}uploadAudioFile(e){this.loading=!0;const t=new Ni.Endpoint("fra1.digitaloceanspaces.com");new Gi({accessKeyId:"AWGSDG3AEGDDJZIRMQ6L",secretAccessKey:"0efHr1nFyiUBKY4oU21F0r/tx5FFNYh8f2W7y7jNyhY",endpoint:t}).upload({Bucket:"adler",Key:e.files[0].name,Body:e.files[0],ACL:"public-read"},(e,t)=>{t?(this.loading=!1,this.audioPath=t.Location,this.alertService.newAlert("success","Uploaded successfully")):(this.loading=!1,this.alertService.newAlert("error",e.stack))})}createAdlerCard(){this.adlerCardModel.name=this.form.controls.cardNameField.value,this.adlerCardModel.question.header=this.form.controls.QuestionHeaderField.value,this.adlerCardModel.levelId=this.form.controls.levelIdField.value,this.adlerCardModel.adlerCardsUnitId=this.form.controls.unitIdField.value,this.adlerCardModel.allowedDuration=this.form.controls.durationToAnswer.value,this.adlerCardModel.levelId?this.adlerCardModel.name?this.adlerCardModel.adlerCardsUnitId?""!=this.adlerCardModel.question.header?(this.adlerCardModel.adlerCardsTypeId=this.selectedMainQuetionType,this.relatedSingleQuestionsArray.length>0&&(this.adlerCardModel.question.singleQuestions=this.relatedSingleQuestionsArray),this.selectedMainQuetionType==mt.a.Reading&&(this.adlerCardModel.question.text=this.form.controls.ReadingParagraphField.value),this.selectedMainQuetionType!=mt.a.Writing&&this.selectedMainQuetionType!=mt.a.Speaking||(this.singleQuestion=new Object,this.singleQuestion.singleQuestionType=this.selectedMainQuetionType==mt.a.Writing?mt.b.Writing:mt.b.Speaking,this.singleQuestion.text=this.form.controls.QuestionTextField.value,this.singleQuestion.choices=[],this.adlerCardModel.question.singleQuestions=[this.singleQuestion],this.singleQuestion.points=this.form.controls.pointsField.value,this.selectedMainQuetionType==mt.a.Writing&&(this.adlerCardModel.question.minChars=this.form.controls.minCharsField.value)),this.selectedMainQuetionType==mt.a.Listening?(this.adlerCardModel.question.audioPath=this.audioPath,this.adlerCardModel.question.noOfRepeats=this.form.controls.noOfRepeatsField.value):(this.audioPath="",this.adlerCardModel.question.audioPath=""),this.editCardMode?(this.adlerCardModel.id=this.data.id,this.adlerCardsService.updateCard(this.adlerCardModel,this.data.id).subscribe(e=>{this.alertService.newAlert("success","Card updated succeffuly"),this.count=1,this.answers=[],this.answers.push({name:"",isCorrect:!1}),this.editMode=[!0],this.completeQuestionTextResult="",this.relatedSingleQuestionsArray=[],this.pargraph="",this.savedHeader="",this.loadForm(),this.editMode[0]=!0,this.selectedQuetionType=2,this.selectedMainQuetionType=1,this.audioPath="",this.form.controls.QuestionTypeField.setValue(1)})):this.adlerCardsService.createAdlerCard(this.adlerCardModel).subscribe(e=>{this.alertService.newAlert("success","Card created succeffuly"),this.count=1,this.answers=[],this.answers.push({name:"",isCorrect:!1}),this.editMode=[!0],this.completeQuestionTextResult="",this.relatedSingleQuestionsArray=[],this.pargraph="",this.savedHeader="",this.loadForm(),this.editMode[0]=!0,this.selectedQuetionType=2,this.selectedMainQuetionType=1,this.audioPath="",this.form.controls.QuestionTypeField.setValue(1)})):this.alertService.newAlert("error","Please enter header for the question"):this.alertService.newAlert("error","Please Choose Unit"):this.alertService.newAlert("error","Please enter card name"):this.alertService.newAlert("error","Please Choose Level")}createSingleQuestionrequest(){this.questionService.createSingleQuestion(this.singleQuestion).subscribe(e=>{this.alertService.newAlert("success","Question created succeffuly"),this.count=1,this.answers=[],this.answers.push({name:"",isCorrect:!1}),this.editMode=[!0],this.completeQuestionTextResult="",this.relatedSingleQuestionsArray=[],this.loadForm()})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(qi.a),l.Kb(d.e),l.Kb(u.a),l.Kb(ft),l.Kb(we.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["create-adler-cards"]],inputs:{editCardMode:"editCardMode",viewMode:"viewMode",quizName:"quizName",data:"data"},features:[l.wb],decls:47,vars:14,consts:[[1,"container","mb-5"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-end"],[1,"d-flex","flex-column","mr-3"],[1,"text-secondary"],["formControlName","levelIdField",3,"options"],["formControlName","QuestionTypeField",3,"options","onChange"],[1,"questionArea","p-3","mt-3"],[1,"mb-3","mr-3"],[1,"text-secondary","mr-3"],["autocomplete","off","required","","type","text","name","question","id","cardNameField","formControlName","cardNameField","aria-describedby","question","placeholder","Name",1,"form-control","adler-form-control","mb-0",2,"width","100%"],["QuestionTextField",""],["formControlName","unitIdField",3,"options","onChange"],[1,"mb-3"],[1,"text-secondary","mt-3"],["autocomplete","off","required","","type","text","name","question","id","writingQuestion","formControlName","durationToAnswer","aria-describedby","question","placeholder","Allowed Duration",1,"form-control","adler-form-control","mb-0",2,"width","100%"],[1,"black-text","text-bold","mt-3"],["autocomplete","off","required","","type","text","name","question","id","questionHeader","formControlName","QuestionHeaderField","aria-describedby","question","placeholder","Type the question header",1,"form-control","adler-form-control",2,"width","100%",3,"keyup"],[4,"ngIf"],["class","listening-question-wrapper",4,"ngIf"],["class","add-related-area",4,"ngIf"],["class","questionArea p-3 mt-3",4,"ngIf"],[1,"createBtns"],["type","submit","class","btn adler-btn my-3 px-5 rounded-pill",3,"disabled",4,"ngIf"],["autocomplete","off","formControlName","ReadingParagraphField","pInputTextarea","","autoResize","autoResize","placeholder","Type the Paragraph..",1,"rounded","p-3","ml-1","col",3,"rows","cols","keyup"],[1,"row"],[1,"col-md-9"],["autocomplete","off","required","","type","text","name","question","id","writingQuestion","formControlName","QuestionTextField","aria-describedby","question","placeholder","Type the question",1,"form-control","adler-form-control",2,"width","100%"],[1,"col-md-3"],["autocomplete","off","required","","type","text","name","question","id","writingQuestion","formControlName","minCharsField","aria-describedby","question","placeholder","Min Chars",1,"form-control","adler-form-control",2,"width","100%"],[1,"listening-question-wrapper"],["name","myfile[]","customUpload","true","accept","audio/*",3,"disabled","showUploadButton","showCancelButton","uploadHandler"],["class","loading",4,"ngIf"],["autocomplete","off","type","text","name","question","id","audioPath","formControlName","audioPathField","aria-describedby","audioPath","placeholder","audio file link",1,"form-control","adler-form-control",2,"width","100%",3,"change"],["audioPathInput","","QuestionTextField",""],["autocomplete","off","required","","type","text","name","question","id","noOfRepeats","formControlName","noOfRepeatsField","aria-describedby","noOfRepeats","placeholder","number of repeats",1,"form-control","adler-form-control",2,"width","100%"],[1,"loading"],[1,"lds-ellipsis"],[1,"col-md-12"],[1,"mt-3"],["class","single-question",4,"ngFor","ngForOf"],[1,"single-question"],[1,"pi","pi-trash","text-danger",3,"click"],[1,"show-points"],[1,"text-secondary","font-weight-bold","question-text"],[4,"ngFor","ngForOf"],["class","pi pi-check text-success font-weight-bold",4,"ngIf"],["class","pi pi-times text-danger font-weight-bold",4,"ngIf"],[1,"pi","pi-check","text-success","font-weight-bold"],[1,"pi","pi-times","text-danger","font-weight-bold"],[1,"add-related-area"],[1,"add-related",3,"click"],[1,"special-rounded-btn"],[1,"pi","pi-plus"],["formControlName","SingleQuestionTypeField",3,"options","onChange"],["autocomplete","off","required","","type","text","name","question","id","question","formControlName","QuestionTextField","aria-describedby","question","placeholder","Type the question",1,"form-control","adler-form-control",2,"width","100%",3,"keyup"],["autocomplete","off","required","","type","text","name","question","id","writingQuestion","formControlName","pointsField","aria-describedby","question","placeholder","Points",1,"form-control","adler-form-control",2,"width","100%"],["class","single-chioce-answers",4,"ngIf"],[1,"btn","adler-btn","my-3","px-5","rounded-pill",3,"click"],[1,"fa","fa-arrow-right","ml-3"],["title","cancel",1,"cancel-button",3,"click"],[1,"fa","fa-times","ml-3"],[1,"single-chioce-answers"],["class","single-answer",4,"ngFor","ngForOf"],[1,"add-answer","text-secondary",3,"click"],[1,"single-answer"],["formControlName","choicesField",1,"align-middle",3,"disabled","inputId","value","onClick"],[3,"for"],["autocomplete","off","formControlName","currentLabelField",1,"edit-label",3,"type","blur"],["class","pi pi-times",3,"click",4,"ngIf"],[1,"pi","pi-times",3,"click"],["autocomplete","off","type","checkbox","name","questionCheckbox",3,"disabled","id","change"],["input",""],["inputId","trueAnswer","value","true","formControlName","TrueorFalse",1,"align-middle",3,"onClick"],["for","trueAnswer",2,"margin-left","10px"],["inputId","falseAnswer","value","false","formControlName","TrueorFalse",1,"align-middle",3,"onClick"],["for","falseAnswer",2,"margin-left","10px"],[1,"question-content"],["class","single-word text-secondary",3,"click",4,"ngFor","ngForOf"],[1,"single-word","text-secondary",3,"click"],["type","submit",1,"btn","adler-btn","my-3","px-5","rounded-pill",3,"disabled"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"form",1),l.Xb("ngSubmit",function(){return t.createAdlerCard()}),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"label",4),l.Hc(5,"Level"),l.Pb(),l.Lb(6,"p-dropdown",5),l.Pb(),l.Qb(7,"div",3),l.Qb(8,"label",4),l.Hc(9,"Card Type"),l.Pb(),l.Qb(10,"p-dropdown",6),l.Xb("onChange",function(e){return t.showSelectedMainQuestionType(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,"div",7),l.Qb(12,"div",2),l.Qb(13,"div",8),l.Qb(14,"label",9),l.Hc(15,"Card name "),l.Pb(),l.Lb(16,"br"),l.Lb(17,"input",10,11),l.Pb(),l.Qb(19,"div",8),l.Qb(20,"label",9),l.Hc(21,"Unit "),l.Pb(),l.Lb(22,"br"),l.Qb(23,"p-dropdown",12),l.Xb("onChange",function(e){return t.selectUnit(e)}),l.Pb(),l.Pb(),l.Qb(24,"div",13),l.Qb(25,"label",14),l.Hc(26,"Allowed Duration"),l.Pb(),l.Lb(27,"br"),l.Lb(28,"input",15,11),l.Pb(),l.Pb(),l.Qb(30,"h6",16),l.Hc(31,"Question Details"),l.Pb(),l.Qb(32,"label",9),l.Hc(33,"Question Header "),l.Pb(),l.Qb(34,"input",17,11),l.Xb("keyup",function(){return t.saveHeader()}),l.Pb(),l.Fc(36,Xi,4,2,"div",18),l.Fc(37,ji,13,0,"div",18),l.Fc(38,Ki,17,4,"div",19),l.Fc(39,Ui,1,0,"div",18),l.Fc(40,Ji,6,0,"div",18),l.Fc(41,io,4,1,"div",18),l.Fc(42,oo,5,0,"p",20),l.Pb(),l.Fc(43,go,28,5,"div",21),l.Qb(44,"div",22),l.Fc(45,mo,3,1,"button",23),l.Fc(46,fo,3,1,"button",23),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("formGroup",t.form),l.yb(5),l.ic("options",t.levels),l.yb(4),l.ic("options",t.questionTypes),l.yb(13),l.ic("options",t.Units),l.yb(13),l.ic("ngIf",1==t.selectedMainQuetionType),l.yb(1),l.ic("ngIf",2==t.selectedMainQuetionType),l.yb(1),l.ic("ngIf",3==t.selectedMainQuetionType),l.yb(1),l.ic("ngIf",0==t.selectedMainQuetionType),l.yb(1),l.ic("ngIf",4==t.selectedMainQuetionType),l.yb(1),l.ic("ngIf",t.relatedSingleQuestionsArray.length>0),l.yb(1),l.ic("ngIf",2!=t.selectedMainQuetionType&&4!=t.selectedMainQuetionType),l.yb(1),l.ic("ngIf",t.createSingleQuestionFlag),l.yb(2),l.ic("ngIf",!t.editCardMode),l.yb(1),l.ic("ngIf",t.editCardMode))},directives:[d.y,d.q,d.i,Qe.a,d.p,d.g,d.b,d.w,o.m,Ei.a,$i.a,o.l,zi.a],styles:['.questionArea[_ngcontent-%COMP%]{color:#2c3e90;border-radius:8px;box-shadow:0 2px 4px 0 rgba(0,0,0,.16);border:1px solid var(--dark-blue-grey-16);background-color:#fafafa;position:relative}.edit-label[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]{margin-left:1rem;border:none;border-bottom:1px solid #ddd;padding:.2rem;outline:none;width:50%}.add-answer[_ngcontent-%COMP%]{margin-left:1.2rem;padding:1rem;display:inline-block;cursor:pointer}.add-answer[_ngcontent-%COMP%]   .pi-plus[_ngcontent-%COMP%], .pi-times[_ngcontent-%COMP%]{font-size:.8rem}.pi-times[_ngcontent-%COMP%]{cursor:pointer}.align-middle[_ngcontent-%COMP%]  p-radiobutton, .pi-times[_ngcontent-%COMP%]{vertical-align:middle}.single-answer[_ngcontent-%COMP%]{padding:.5rem 0}.single-answer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-left:1rem;border:none;border-bottom:1px solid #ddd;padding:.2rem;outline:none;width:50%}.hidden[_ngcontent-%COMP%]{display:none}p-dropdown[_ngcontent-%COMP%]  span{padding-right:3rem;margin-left:1rem;font-weight:500}.single-word[_ngcontent-%COMP%]{cursor:pointer}.question-content[_ngcontent-%COMP%]{background-color:#d0d4e5;padding:1rem;border-radius:5px}.add-related-area[_ngcontent-%COMP%]{text-align:right;margin-top:1rem}.add-related[_ngcontent-%COMP%]{text-align:right}.question-text[_ngcontent-%COMP%]{background-color:#d0d4e5;padding:1rem;border-radius:5px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:.3rem 0}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-right:.5rem}.single-question[_ngcontent-%COMP%]{position:relative;background-color:#fff;padding:1rem;border-radius:8px;margin:10px auto;box-shadow:0 0 5px #ddd}.single-question[_ngcontent-%COMP%]   .pi-times[_ngcontent-%COMP%]{cursor:default}.single-question[_ngcontent-%COMP%]   .pi-trash[_ngcontent-%COMP%]{position:absolute;top:2.2rem;right:2rem;cursor:pointer}.cancel-button[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:1rem;right:1rem}.points-field[_ngcontent-%COMP%]{position:absolute;left:18px;bottom:.6rem;width:200px}.group-abs[_ngcontent-%COMP%]{position:absolute;bottom:.5rem}.lds-ellipsis[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:45px}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:#666;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{left:8px;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}to{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}to{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0)}to{transform:translate(24px)}}.listening-question-wrapper[_ngcontent-%COMP%]{position:relative}.listening-question-wrapper[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{position:absolute;top:35px;right:10px}p-fileUpload[_ngcontent-%COMP%]     button[icon="pi pi-times"]{display:none}.show-points[_ngcontent-%COMP%]{position:absolute;background-color:#2c3e90;color:#fff;font-size:.6rem;font-weight:700;top:6px;right:50px;width:63px;text-align:center;padding-top:4px;height:22px;border-radius:8px}.black-text[_ngcontent-%COMP%]{color:#333;font-weight:700}']}),e})(),vo=(()=>{class e{constructor(e){this.http=e,this.prefix="GroupInstance"}GetAllTeacerGroupAssignments(e){return this.http.get(`${p.a}/${this.prefix}/GetAllTeacerGroupInstanceAssignments`)}getAllSubLevels(){return this.http.get(p.a+"/SubLevel/GetAll?PageNumber=1&PageSize=999")}GetAllGroupDefinition(e){return this.http.get(p.a+"/GroupDefinition/GetAll",{params:e})}AssignAdditionalTeachertoGroupInstance(e){return this.http.post(`${p.a}/${this.prefix}/AssignAdditionalTeachertoGroupInstance`,e)}GetlessonByGroupInstance(e){return this.http.get(p.a+"/LessonInstance/GetByGroupInstance",{params:e})}RemoveTeacherGroupInstanceAssignment(e){return this.http.delete(p.a+"/GroupInstance/RemoveTeacherGroupInstanceAssignment",{params:e})}}return e.\u0275fac=function(t){return new(t||e)(l.Ub(h.b))},e.\u0275prov=l.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yo(e,t){1&e&&(l.Qb(0,"tr"),l.Lb(1,"th",22),l.Qb(2,"th",23),l.Hc(3," Group "),l.Lb(4,"p-sortIcon",24),l.Pb(),l.Qb(5,"th",23),l.Hc(6," Time Slot "),l.Lb(7,"p-sortIcon",24),l.Pb(),l.Qb(8,"th",25),l.Hc(9,"Actions"),l.Pb(),l.Pb())}function Co(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Lb(2,"button",26),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Qb(8,"a",27),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().openAddDialog(n[0])}),l.Lb(9,"span",28),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit,n=t.expanded;l.yb(2),l.ic("pRowToggler",e)("icon",n?"pi pi-chevron-down":"pi pi-chevron-right"),l.yb(2),l.Ic(e[0].groupInstance.serial),l.yb(2),l.Ic(e[0].groupInstance.timeSlot)}}function _o(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",32),l.Hc(2," Teacher"),l.Lb(3,"p-sortIcon",33),l.Pb(),l.Qb(4,"th",34),l.Hc(5," Default "),l.Lb(6,"p-sortIcon",35),l.Pb(),l.Qb(7,"th",36),l.Hc(8," Specific Lesson "),l.Lb(9,"p-sortIcon",37),l.Pb(),l.Qb(10,"th",36),l.Hc(11," Action "),l.Lb(12,"p-sortIcon",37),l.Pb(),l.Pb())}function wo(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Qb(8,"a",38),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc(2).RemoveTeacherGroupInstanceAssignment(n[0].groupInstanceId)}),l.Lb(9,"span",39),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Jc(" ",e[0].teacher," "),l.yb(2),l.Jc(" ",e[0].isDefault," "),l.yb(2),l.Ic(e[0].lessonInstance)}}function Qo(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td",29),l.Qb(2,"div",30),l.Qb(3,"p-table",31),l.Fc(4,_o,13,0,"ng-template",9),l.Fc(5,wo,10,3,"ng-template",10),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e){const e=l.bc();l.yb(3),l.ic("value",e.teacherAssignmentsList)}}function So(e,t){if(1&e&&(l.Qb(0,"div",40),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count||0," slot. ")}}const Io=function(){return{width:"100%"}},xo=function(){return{width:"450px"}};let Do=(()=>{class e{constructor(e,t,n){this.TeacherAssignmentService=e,this.AssignPgsService=t,this.CommonService=n,this.pageSize=10,this.pageNumber=1,this.filterForm=new d.h({sublevel:new d.f,groupDefinition:new d.f,lessonInstance:new d.f,selectedTeacher:new d.f}),this.addTeacherDialog=!1,this.suggestedeacher=[]}ngOnInit(){this.getAllTeacher(),this.TeacherAssignmentService.getAllSubLevels().subscribe(e=>{this.sublevelList=e})}getAllTeacher(e){this.TeacherAssignmentService.GetAllTeacerGroupAssignments().subscribe(e=>{this.teacherAssignmentsList=e.data,this.count=e.count})}loadGroupDefinition(e){this.TeacherAssignmentService.GetAllGroupDefinition({sublevelID:e}).subscribe(e=>{this.groupDefinitionList=e.data})}filter(){this.getAllTeacher({SublevelId:this.filterForm.value.sublevel,GroupDefinitionId:this.filterForm.value.groupDefinition})}onPageChange(e){this.pageNumber=e.page+1,this.getAllTeacher({PageNumber:this.pageNumber})}openAddDialog(e){this.addTeacherDialog=!0,this.selectedGroupInstanceId=e.groupInstanceId}hideDialog(){this.addTeacherDialog=!1}search(e){e.query&&this.AssignPgsService.getTeacher("").subscribe(e=>{this.suggestedeacher=e.data,this.suggestedeacher.forEach(e=>{e.fullName=e.teacherFirstName+" "+e.teacherLastName})})}addAssignment(){let e={groupInstanceId:"",lessonInstanceId:"",teacherId:""};this.CommonService.removeAllunValudKeys(e),this.TeacherAssignmentService.AssignAdditionalTeachertoGroupInstance(e).subscribe(e=>{e.succeeded&&(this.filterForm.controls.selectedTeacher.reset(),this.filterForm.controls.lessonInstance.reset(),this.hideDialog())})}getLessons(e){this.TeacherAssignmentService.GetlessonByGroupInstance({TeacherId:e,GroupInstanceId:this.selectedGroupInstanceId}).subscribe(e=>{this.lessonList=e})}RemoveTeacherGroupInstanceAssignment(e){this.TeacherAssignmentService.RemoveTeacherGroupInstanceAssignment({Id:e}).subscribe(()=>{})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(vo),l.Kb(li),l.Kb(we.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-teacher-assignment"]],decls:29,vars:28,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],["action","",2,"width","100%",3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-4",2,"margin-top","0px","margin-bottom","15px"],["optionValue","id","optionLabel","name","formControlName","sublevel","placeholder","Sublevel","id","role",3,"options","onChange"],["optionValue","id","optionLabel","serial","formControlName","groupDefinition","placeholder","Group Definition","id","role",3,"options","onChange"],[1,"card"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","summary"],[3,"rows","totalRecords","onPageChange"],["header","Assign to teacher","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"col-lg-6","col-md-6","col-sm-4",2,"margin-top","0px","margin-bottom","15px"],["name","studentName","formControlName","selectedTeacher","field","fullName",3,"suggestions","dropdown","completeMethod","onSelect"],["for",""],["optionValue","id","optionLabel","serial","formControlName","lessonInstance","placeholder","Lesson Instance","id","role",3,"options","onChange"],[1,"formbtns","pt-3"],[1,"btn","adler-btn","px-5","rounded-pill",3,"click"],[1,"btn","mr-3","px-5","rounded-pill","btn-outline-secondary","ml-2",3,"click"],[2,"width","3rem"],["pSortableColumn","Name"],["field","Name"],[2,"width","10wrem"],["type","button","pButton","","pRipple","",1,"p-button-text","p-button-rounded","p-button-plain",3,"pRowToggler","icon"],[1,"mr-2","mr-3","text-secondary",3,"click"],[1,"p-button-icon","pi","pi-plus","font-weight-bold"],["colspan","4"],[1,"p-p-3"],["dataKey","id",3,"value"],["pSortableColumn","Teacher"],["field","Teacher"],["pSortableColumn","Default"],["field","Default"],["pSortableColumn","Lesson"],["field","Lesson"],[1,"mr-2","mr-3",3,"click"],[1,"p-button-icon","pi","pi-trash","text-danger","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"form",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"p-dropdown",4),l.Xb("onChange",function(){return t.loadGroupDefinition(t.filterForm.value.sublevel)}),l.Pb(),l.Pb(),l.Qb(5,"div",3),l.Qb(6,"p-dropdown",5),l.Xb("onChange",function(){return t.filter()}),l.Pb(),l.Pb(),l.Pb(),l.Qb(7,"div",6),l.Qb(8,"p-table",7,8),l.Fc(10,yo,10,0,"ng-template",9),l.Fc(11,Co,10,4,"ng-template",10),l.Fc(12,Qo,6,1,"ng-template",11),l.Fc(13,So,2,1,"ng-template",12),l.Pb(),l.Qb(14,"p-paginator",13),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Qb(15,"p-dialog",14),l.Xb("visibleChange",function(e){return t.addTeacherDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(16,"div",2),l.Qb(17,"div",15),l.Qb(18,"label"),l.Hc(19,"Choose Teacher"),l.Pb(),l.Qb(20,"p-autoComplete",16),l.Xb("completeMethod",function(e){return t.search(e)})("onSelect",function(){return t.getLessons(t.filterForm.value.selectedTeacher.teacherId)}),l.Pb(),l.Pb(),l.Qb(21,"div",15),l.Lb(22,"label",17),l.Qb(23,"p-dropdown",18),l.Xb("onChange",function(){return t.filter()}),l.Pb(),l.Pb(),l.Pb(),l.Qb(24,"div",19),l.Qb(25,"button",20),l.Xb("click",function(){return t.addAssignment()}),l.Hc(26," Add "),l.Pb(),l.Qb(27,"button",21),l.Xb("click",function(){return t.hideDialog()}),l.Hc(28," Cancel "),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("formGroup",t.filterForm),l.yb(3),l.Dc(l.lc(24,Io)),l.ic("options",t.sublevelList),l.yb(2),l.Dc(l.lc(25,Io)),l.ic("options",t.groupDefinitionList),l.yb(2),l.ic("responsive",!0)("value",t.teacherAssignmentsList)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count),l.yb(1),l.Dc(l.lc(26,xo)),l.ic("visible",t.addTeacherDialog)("modal",!0),l.yb(5),l.ic("suggestions",t.suggestedeacher)("dropdown",!1),l.yb(3),l.Dc(l.lc(27,Io)),l.ic("options",t.lessonList))},directives:[d.y,d.q,d.i,Qe.a,d.p,d.g,m.d,f.i,Se.a,P.a,Fn.a,m.c,m.b,Gt.b,m.a],styles:[""]}),e})();var To=n("x45h");function Mo(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",20),l.Hc(2," User Email"),l.Lb(3,"p-sortIcon",21),l.Pb(),l.Qb(4,"th",22),l.Hc(5,"Actions"),l.Pb(),l.Pb())}function Oo(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Qb(4,"a",23),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().RemoveDuplicateException(n.email)}),l.Lb(5,"span",24),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Jc(" ",e.email?e.email:"No Data"," ")}}function Fo(e,t){if(1&e&&(l.Qb(0,"div",25),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count," account. ")}}function Lo(e,t){}const ko=function(){return{width:"450px"}};let Ho=(()=>{class e{constructor(e){this.DuplicateAccountsService=e,this.pageSize=10,this.pageNumber=1,this.addDubplicateAccDialog=!1}ngOnInit(){this.getStudents(this.pageNumber)}getStudents(e){this.DuplicateAccountsService.getAllStudent({PageSize:this.pageSize,PageNumber:e}).subscribe(e=>{this.studentList=e.data,this.count=e.count,this.addDubplicateAccDialog&&this.hideDialog()})}AddDuplicateException(){this.DuplicateAccountsService.AddDuplicateException({email:this.userEmail}).subscribe(()=>{this.getStudents(1)})}RemoveDuplicateException(e){this.DuplicateAccountsService.RemoveDuplicateException({email:e}).subscribe(()=>{this.getStudents(this.pageNumber)})}onPageChange(e){this.pageNumber=e.page+1,this.getStudents(this.pageNumber)}openNew(){this.addDubplicateAccDialog=!0}hideDialog(){this.addDubplicateAccDialog=!1}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(To.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-duplicate-accounts"]],decls:23,vars:15,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],[1,"d-flex","flex-wrap","mb-3"],[2,"margin-bottom","15px"],[1,"btn","adler-btn-sm",3,"click"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","Add Dubplicate Account","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"row"],[1,"col-lg-6","col-md-6","col-sm-4",2,"margin-top","0px","margin-bottom","15px"],["for",""],["required","","name","email","type","email","id","userEmail","aria-describedby","emailHelp","placeholder","Email",1,"form-control","adler-form-control",3,"ngModel","ngModelChange"],[1,"formbtns","pt-3"],[1,"btn","adler-btn","px-5","rounded-pill",3,"disabled","click"],[1,"btn","mr-3","px-5","rounded-pill","btn-outline-secondary","ml-2",3,"click"],["pSortableColumn",""],["field",""],[2,"width","10wrem"],[1,"mr-2","mr-3","text-secondary",3,"click"],["title","Remove Duplicate Exception",1,"p-button-icon","pi","pi-ban","font-weight-bold","text-danger"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"div",2),l.Qb(3,"button",3),l.Xb("click",function(){return t.openNew()}),l.Hc(4," Add New Duplicate Account "),l.Pb(),l.Pb(),l.Pb(),l.Qb(5,"div",4),l.Qb(6,"p-table",5,6),l.Fc(8,Mo,6,0,"ng-template",7),l.Fc(9,Oo,6,1,"ng-template",8),l.Fc(10,Fo,2,1,"ng-template",9),l.Fc(11,Lo,0,0,"ng-template",10),l.Pb(),l.Qb(12,"p-paginator",11),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(13,"p-dialog",12),l.Xb("visibleChange",function(e){return t.addDubplicateAccDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(14,"div",13),l.Qb(15,"div",14),l.Lb(16,"label",15),l.Qb(17,"input",16),l.Xb("ngModelChange",function(e){return t.userEmail=e}),l.Pb(),l.Pb(),l.Pb(),l.Qb(18,"div",17),l.Qb(19,"button",18),l.Xb("click",function(){return t.AddDuplicateException()}),l.Hc(20," Add "),l.Pb(),l.Qb(21,"button",19),l.Xb("click",function(){return t.hideDialog()}),l.Hc(22," Cancel "),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(6),l.ic("responsive",!0)("value",t.studentList)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count),l.yb(1),l.Dc(l.lc(14,ko)),l.ic("visible",t.addDubplicateAccDialog)("modal",!0),l.yb(4),l.ic("ngModel",t.userEmail),l.yb(2),l.ic("disabled",""==t.userEmail||!t.userEmail))},directives:[m.d,f.i,Se.a,P.a,d.b,d.w,d.p,d.s,m.c,m.b],styles:[""]}),e})();function Ao(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",23),l.Hc(2," Teacher Name"),l.Lb(3,"p-sortIcon",24),l.Pb(),l.Qb(4,"th",23),l.Hc(5," Homeworks Upload"),l.Lb(6,"p-sortIcon",24),l.Pb(),l.Qb(7,"th"),l.Hc(8,"Homeworks Upload Delay"),l.Lb(9,"p-sortIcon",24),l.Pb(),l.Qb(10,"th"),l.Hc(11,"Homeworks Correction Delay"),l.Lb(12,"p-sortIcon",24),l.Pb(),l.Qb(13,"th"),l.Hc(14,"Tests Correction Delay"),l.Lb(15,"p-sortIcon",24),l.Pb(),l.Qb(16,"th"),l.Hc(17,"Feedback Score"),l.Lb(18,"p-sortIcon",24),l.Pb(),l.Pb())}function Ro(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Hc(10),l.Pb(),l.Qb(11,"td"),l.Hc(12),l.Pb(),l.Pb()),2&e){const e=t.$implicit;l.yb(2),l.Jc(" ",e.teacherName?e.teacherName:"No Data"," "),l.yb(2),l.Jc(" ",e.homeworksUpload," "),l.yb(2),l.Jc(" ",e.homeworksUploadDelay," "),l.yb(2),l.Jc(" ",e.homeworksCorrectionDelay," "),l.yb(2),l.Jc(" ",e.testsCorrectionDelay," "),l.yb(2),l.Jc(" ",e.feedbackScore," ")}}function No(e,t){if(1&e&&(l.Qb(0,"div",25),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count," teacher. ")}}function Go(e,t){}const qo=function(){return{dateInputFormat:"DD/MM/YYYY",adaptivePosition:!0,selectFromOtherMonth:!0,startView:"year"}};let Eo=(()=>{class e{constructor(e){this.AnalyticsService=e,this.pageSize=10,this.pageNumber=1,this.filterForm=new d.h({selectedTeacher:new d.f(""),dateFrom:new d.f(""),dateTo:new d.f(""),hwUploadDelayFrom:new d.f(""),hwUploadDelayTo:new d.f(""),hwCorrectionDelayFrom:new d.f(""),hwCorrectionDelayTo:new d.f(""),testsCorrectionDelayFrom:new d.f(""),testsCorrectionDelayTo:new d.f(""),FeedbackScoreFrom:new d.f(""),FeedbackScoreTo:new d.f("")})}ngOnInit(){this.GetTeacherAnalysisReport({pageNumber:this.pageNumber}),this.onFormChange()}GetTeacherAnalysisReport(e){this.AnalyticsService.GetTeacherAnalysisReport(e).subscribe(e=>{this.count=e.count,this.teacherList=e.data})}onFormChange(){this.filterForm.valueChanges.pipe(Object(ai.a)(2e3)).subscribe(()=>{this.filter()})}searchTeacher(e){const t=e.query;t&&this.AnalyticsService.GetTeacherAnalysisReport({teacherName:t,pageSize:1e4}).subscribe(e=>{this.suggestedTeacher=e.data})}filterbyName(e){this.GetTeacherAnalysisReport({teacherName:e,pageNumber:this.pageNumber})}filter(){let e={pageNumber:this.pageNumber,teacherName:this.filterForm.controls.selectedTeacher.value.teacherName,from:this.filterForm.controls.dateFrom.value&&""!==this.filterForm.controls.dateFrom.value?this.GetDateFormated(this.filterForm.controls.dateFrom.value):"",to:this.filterForm.controls.dateTo.value&&""!==this.filterForm.controls.dateTo.value?this.GetDateFormated(this.filterForm.controls.dateTo.value):"",homeworksUploadDelayFrom:this.filterForm.controls.hwUploadDelayFrom.value,homeworksUploadDelayTo:this.filterForm.controls.hwUploadDelayTo.value,homeworksCorrectionDelayFrom:this.filterForm.controls.hwCorrectionDelayFrom.value,homeworksCorrectionDelayTo:this.filterForm.controls.hwCorrectionDelayTo.value,testsCorrectionDelayFrom:this.filterForm.controls.testsCorrectionDelayFrom.value,testsCorrectionDelayTo:this.filterForm.controls.testsCorrectionDelayTo.value,feedbackScoreFrom:this.filterForm.controls.FeedbackScoreFrom.value,feedbackScoreto:this.filterForm.controls.FeedbackScoreTo.value};this.GetTeacherAnalysisReport(e)}GetDateFormated(e){return new Date(e).getMonth()+1+"/"+new Date(e).getDate()+"/"+new Date(e).getFullYear()}onPageChange(e){this.pageNumber=e.page+1,this.filter()}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(di))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-teacher-analysis-report"]],decls:48,vars:16,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],["action","",2,"width","100%",3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12"],["for",""],[1,"filterHomeWorkListFormClass"],["formControlName","selectedTeacher","name","teacherName","field","teacherName",3,"suggestions","dropdown","forceSelection","completeMethod","onSelect"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","dateFrom","formControlName","dateFrom","placeholder","Date From ","bsDatepicker","",1,"form-control","adler-form-control",3,"bsConfig"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","dateTo","formControlName","dateTo","placeholder","Date To","bsDatepicker","",1,"form-control","adler-form-control",3,"bsConfig"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","hwUploadDelayFrom","formControlName","hwUploadDelayFrom","placeholder","in hours",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","hwUploadDelayTo","formControlName","hwUploadDelayTo","placeholder","in hours",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","testsCorrectionDelayFrom","formControlName","testsCorrectionDelayFrom","placeholder","in hours",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","testsCorrectionDelayTo","formControlName","testsCorrectionDelayTo","placeholder","in hours",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","FeedbackScoreFrom","formControlName","FeedbackScoreFrom","placeholder","Feedback Score From",1,"form-control","adler-form-control"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","FeedbackScoreTo","formControlName","FeedbackScoreTo","placeholder","Feedback Score To",1,"form-control","adler-form-control"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["pSortableColumn",""],["field",""],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"form",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"label",4),l.Hc(5," Teacher Name"),l.Pb(),l.Qb(6,"div",5),l.Qb(7,"p-autoComplete",6),l.Xb("completeMethod",function(e){return t.searchTeacher(e)})("onSelect",function(){return t.filterbyName(t.filterForm.controls.selectedTeacher.value.teacherName)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(8,"div",3),l.Lb(9,"label",4),l.Lb(10,"input",7),l.Pb(),l.Qb(11,"div",3),l.Lb(12,"label",4),l.Lb(13,"input",8),l.Pb(),l.Qb(14,"div",3),l.Qb(15,"label",4),l.Hc(16,"Homeworks Correction Delay From"),l.Pb(),l.Lb(17,"input",9),l.Pb(),l.Qb(18,"div",3),l.Qb(19,"label",4),l.Hc(20,"Homeworks Upload Delay From"),l.Pb(),l.Lb(21,"input",10),l.Pb(),l.Qb(22,"div",3),l.Qb(23,"label",4),l.Hc(24,"Homeworks Correction Delay To"),l.Pb(),l.Lb(25,"input",10),l.Pb(),l.Qb(26,"div",3),l.Qb(27,"label",4),l.Hc(28,"Tests Correction Delay From"),l.Pb(),l.Lb(29,"input",11),l.Pb(),l.Qb(30,"div",3),l.Qb(31,"label",4),l.Hc(32,"Tests Correction Delay To"),l.Pb(),l.Lb(33,"input",12),l.Pb(),l.Qb(34,"div",3),l.Lb(35,"label",4),l.Lb(36,"input",13),l.Pb(),l.Qb(37,"div",3),l.Lb(38,"label",4),l.Lb(39,"input",14),l.Pb(),l.Pb(),l.Pb(),l.Qb(40,"div",15),l.Qb(41,"p-table",16,17),l.Fc(43,Ao,19,0,"ng-template",18),l.Fc(44,Ro,13,6,"ng-template",19),l.Fc(45,No,2,1,"ng-template",20),l.Fc(46,Go,0,0,"ng-template",21),l.Pb(),l.Qb(47,"p-paginator",22),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("formGroup",t.filterForm),l.yb(6),l.ic("suggestions",t.suggestedTeacher)("dropdown",!1)("forceSelection",!0),l.yb(3),l.ic("bsConfig",l.lc(14,qo)),l.yb(3),l.ic("bsConfig",l.lc(15,qo)),l.yb(28),l.ic("responsive",!0)("value",t.teacherList)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count))},directives:[d.y,d.q,d.i,Fn.a,d.p,d.g,d.b,r.b,r.a,m.d,f.i,Se.a,m.c,m.b],styles:[""]}),e})();function $o(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",23),l.Hc(2," Student Name"),l.Lb(3,"p-sortIcon",24),l.Pb(),l.Qb(4,"th",23),l.Hc(5," Attendance"),l.Lb(6,"p-sortIcon",24),l.Pb(),l.Qb(7,"th"),l.Hc(8,"Late submissions"),l.Lb(9,"p-sortIcon",24),l.Pb(),l.Qb(10,"th"),l.Hc(11,"Missed submission"),l.Lb(12,"p-sortIcon",24),l.Pb(),l.Qb(13,"th"),l.Hc(14,"Current Progress Points"),l.Lb(15,"p-sortIcon",24),l.Pb(),l.Pb())}function zo(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Hc(10),l.Pb(),l.Pb()),2&e){const e=t.$implicit;l.yb(2),l.Jc(" ",e.studentName," "),l.yb(2),l.Jc(" ",e.attendance," "),l.yb(2),l.Jc(" ",e.lateSubmissions," "),l.yb(2),l.Jc(" ",e.missedSubmissions," "),l.yb(2),l.Jc(" ",e.currentProgressPoints," ")}}function Xo(e,t){if(1&e&&(l.Qb(0,"div",25),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count," Student. ")}}function jo(e,t){}const Bo=function(){return{dateInputFormat:"DD/MM/YYYY",adaptivePosition:!0,selectFromOtherMonth:!0,startView:"year"}};let Ko=(()=>{class e{constructor(e){this.AnalyticsService=e,this.pageSize=10,this.pageNumber=1,this.filterForm=new d.h({selectedStudent:new d.f(""),dateFrom:new d.f(""),dateTo:new d.f(""),lateSubmissionFrom:new d.f(""),lateSubmissionTo:new d.f(""),missedSubmissionFrom:new d.f(""),missedSubmissionTo:new d.f(""),CurrentProgressPointsFrom:new d.f(""),CurrentProgressPointsTo:new d.f("")})}ngOnInit(){this.GetStudentAnalysisReport({pageNumber:this.pageNumber}),this.onFormChange()}GetStudentAnalysisReport(e){this.AnalyticsService.GetStudentAnalysisReport(e).subscribe(e=>{this.count=e.count,this.StudentList=e.data})}onFormChange(){this.filterForm.valueChanges.pipe(Object(ai.a)(2e3)).subscribe(()=>{this.filter()})}searchTeacher(e){const t=e.query;t&&this.AnalyticsService.GetStudentAnalysisReport({studentName:t,pageSize:1e4}).subscribe(e=>{this.suggestedTeacher=e.data})}filter(){let e={pageNumber:this.pageNumber,studentName:this.filterForm.controls.selectedStudent.value.studentName,from:this.filterForm.controls.dateFrom.value&&""!==this.filterForm.controls.dateFrom.value?this.GetDateFormated(this.filterForm.controls.dateFrom.value):"",to:this.filterForm.controls.dateTo.value&&""!==this.filterForm.controls.dateTo.value?this.GetDateFormated(this.filterForm.controls.dateTo.value):"",LateSubmissionsfrom:this.filterForm.controls.lateSubmissionFrom.value?parseInt(this.filterForm.controls.lateSubmissionFrom.value):"",LateSubmissionsto:this.filterForm.controls.lateSubmissionTo.value?parseInt(this.filterForm.controls.lateSubmissionTo.value):"",MissedSubmissionsfrom:this.filterForm.controls.missedSubmissionFrom.value?parseInt(this.filterForm.controls.missedSubmissionFrom.value):"",MissedSubmissionsto:this.filterForm.controls.missedSubmissionTo.value?parseInt(this.filterForm.controls.missedSubmissionTo.value):"",CurrentProgressPointsfrom:this.filterForm.controls.CurrentProgressPointsFrom.value?parseInt(this.filterForm.controls.CurrentProgressPointsFrom.value):"",CurrentProgressPointsTo:this.filterForm.controls.CurrentProgressPointsTo.value?parseInt(this.filterForm.controls.CurrentProgressPointsTo.value):""};this.GetStudentAnalysisReport(e)}GetDateFormated(e){return new Date(e).getMonth()+1+"/"+new Date(e).getDate()+"/"+new Date(e).getFullYear()}onPageChange(e){this.pageNumber=e.page+1,this.filter()}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(di))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-student-analysis-report"]],decls:40,vars:16,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],["action","",2,"width","100%",3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12"],["for",""],[1,"filterHomeWorkListFormClass"],["formControlName","selectedStudent","name","studentName","field","studentName",3,"suggestions","dropdown","forceSelection","completeMethod"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","dateFrom","formControlName","dateFrom","placeholder","Date from ","bsDatepicker","",1,"form-control","adler-form-control",3,"bsConfig"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","dateTo","formControlName","dateTo","placeholder","Date to","bsDatepicker","",1,"form-control","adler-form-control",3,"bsConfig"],["autocomplete","off","type","number","pInputText","","autocomplete","off","id","lateSubmissionFrom","formControlName","lateSubmissionFrom","placeholder","Late submission from",1,"form-control","adler-form-control"],["autocomplete","off","type","number","pInputText","","autocomplete","off","id","lateSubmissionTo","formControlName","lateSubmissionTo","placeholder","Late submission to",1,"form-control","adler-form-control"],["autocomplete","off","type","number","pInputText","","autocomplete","off","id","missedSubmissionFrom","formControlName","missedSubmissionFrom","placeholder","Missed submission From",1,"form-control","adler-form-control"],["autocomplete","off","type","number","pInputText","","autocomplete","off","id","missedSubmissionFrom","formControlName","missedSubmissionTo","placeholder","Missed submission to",1,"form-control","adler-form-control"],["autocomplete","off","type","number","pInputText","","autocomplete","off","id","CurrentProgressPointsFrom","formControlName","CurrentProgressPointsFrom","placeholder","Current progress points From",1,"form-control","adler-form-control"],["autocomplete","off","type","number","pInputText","","autocomplete","off","id","CurrentProgressPointsTo","formControlName","CurrentProgressPointsTo","placeholder","Current progress points To",1,"form-control","adler-form-control"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["pSortableColumn",""],["field",""],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"form",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"label",4),l.Hc(5," Student Name"),l.Pb(),l.Qb(6,"div",5),l.Qb(7,"p-autoComplete",6),l.Xb("completeMethod",function(e){return t.searchTeacher(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(8,"div",3),l.Lb(9,"label",4),l.Lb(10,"input",7),l.Pb(),l.Qb(11,"div",3),l.Lb(12,"label",4),l.Lb(13,"input",8),l.Pb(),l.Qb(14,"div",3),l.Lb(15,"label",4),l.Lb(16,"input",9),l.Pb(),l.Qb(17,"div",3),l.Lb(18,"label",4),l.Lb(19,"input",10),l.Pb(),l.Qb(20,"div",3),l.Lb(21,"label",4),l.Lb(22,"input",11),l.Pb(),l.Qb(23,"div",3),l.Lb(24,"label",4),l.Lb(25,"input",12),l.Pb(),l.Qb(26,"div",3),l.Lb(27,"label",4),l.Lb(28,"input",13),l.Pb(),l.Qb(29,"div",3),l.Lb(30,"label",4),l.Lb(31,"input",14),l.Pb(),l.Pb(),l.Pb(),l.Qb(32,"div",15),l.Qb(33,"p-table",16,17),l.Fc(35,$o,16,0,"ng-template",18),l.Fc(36,zo,11,5,"ng-template",19),l.Fc(37,Xo,2,1,"ng-template",20),l.Fc(38,jo,0,0,"ng-template",21),l.Pb(),l.Qb(39,"p-paginator",22),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("formGroup",t.filterForm),l.yb(6),l.ic("suggestions",t.suggestedTeacher)("dropdown",!1)("forceSelection",!0),l.yb(3),l.ic("bsConfig",l.lc(14,Bo)),l.yb(3),l.ic("bsConfig",l.lc(15,Bo)),l.yb(20),l.ic("responsive",!0)("value",t.StudentList)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count))},directives:[d.y,d.q,d.i,Fn.a,d.p,d.g,d.b,r.b,r.a,d.t,m.d,f.i,Se.a,m.c,m.b],styles:["input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),e})();var Uo=n("Widq");function Jo(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",22),l.Hc(2," Student Name"),l.Lb(3,"p-sortIcon",23),l.Pb(),l.Qb(4,"th",22),l.Hc(5,"Amount"),l.Lb(6,"p-sortIcon",23),l.Pb(),l.Qb(7,"th"),l.Hc(8,"Method"),l.Lb(9,"p-sortIcon",23),l.Pb(),l.Qb(10,"th"),l.Hc(11,"Transactio nId"),l.Lb(12,"p-sortIcon",23),l.Pb(),l.Qb(13,"th"),l.Hc(14,"Category"),l.Lb(15,"p-sortIcon",23),l.Pb(),l.Qb(16,"th"),l.Hc(17,"Product "),l.Lb(18,"p-sortIcon",23),l.Pb(),l.Qb(19,"th"),l.Hc(20,"Time "),l.Lb(21,"p-sortIcon",23),l.Pb(),l.Pb())}function Vo(e,t){if(1&e&&(l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Hc(8),l.Pb(),l.Qb(9,"td"),l.Hc(10),l.Pb(),l.Qb(11,"td"),l.Hc(12),l.Pb(),l.Qb(13,"td"),l.Hc(14),l.Pb(),l.Pb()),2&e){const e=t.$implicit,n=l.bc();l.yb(2),l.Jc(" ",null==e.user?null:e.user.fullName," "),l.yb(2),l.Jc(" ",null==e?null:e.amount," "),l.yb(2),l.Jc(" ",null==e?null:e.method," "),l.yb(2),l.Jc(" ",null==e?null:e.transactionId," "),l.yb(2),l.Jc(" ",null==e?null:e.category," "),l.yb(2),l.Jc(" ",null==e?null:e.groupDefinition," "),l.yb(2),l.Jc(" ",n.GetDateFormated(null==e?null:e.purchasingDate)," ")}}function Wo(e,t){if(1&e&&(l.Qb(0,"div",24),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count,". ")}}function Yo(e,t){}const Zo=function(){return{dateInputFormat:"DD/MM/YYYY",adaptivePosition:!0,selectFromOtherMonth:!0,startView:"year"}},es=function(){return{width:"100%"}};let ts=(()=>{class e{constructor(e,t){this.AnalyticsService=e,this.userService=t,this.pageNumber=1,this.studentNameDrListForSearch=[],this.groupInstanceList=[{serial:"All",id:1e14}],this.pageSize=10,this.filterForm=new d.h({selectedStudent:new d.f(""),dateFrom:new d.f(""),dateTo:new d.f(""),currentGroupInstance:new d.f(1e14),category:new d.f(1e14)}),this.categoryList=[{name:"All",value:1e14},{name:"Course",value:0},{name:"Adler Cards",value:1}],this.ProductList=[{name:"Group Definition",value:0},{name:"Adlercards Bundle",value:1}]}ngOnInit(){this.GetFinancialAnalysisReport({pageNumber:this.pageNumber}),this.onFormChange(),this.AnalyticsService.GetAllGroupInstance({pageSize:1e4}).subscribe(e=>{e.data.forEach(e=>{this.groupInstanceList.push(e)})})}GetFinancialAnalysisReport(e){this.AnalyticsService.GetFinancialAnalysisReport(e).subscribe(e=>{this.count=e.count,this.FinacialList=e.data,this.studentList=this.FinacialList.paymentTransactions,this.studentList.forEach(e=>{e&&e.user&&(e.user.fullName=e.user.firstName+" "+e.user.lastName)})})}onFormChange(){this.filterForm.valueChanges.pipe(Object(ai.a)(1500)).subscribe(()=>{this.filter()})}searchStudent(e){const t=e.query;t&&this.getStudents(t)}filterbyName(e){this.GetFinancialAnalysisReport({teacherName:e,pageNumber:this.pageNumber})}filter(){let e={pageNumber:this.pageNumber,StudentName:this.filterForm.controls.selectedStudent.value.fullName,from:this.filterForm.controls.dateFrom.value&&""!==this.filterForm.controls.dateFrom.value?this.GetDateFormated(this.filterForm.controls.dateFrom.value):"",to:this.filterForm.controls.dateTo.value&&""!==this.filterForm.controls.dateTo.value?this.GetDateFormated(this.filterForm.controls.dateTo.value):"",GroupInstanceId:1e14!==this.filterForm.controls.currentGroupInstance.value?this.filterForm.controls.currentGroupInstance.value:"",Category:1e14!==this.filterForm.controls.category.value?this.filterForm.controls.category.value:""};this.GetFinancialAnalysisReport(e)}GetDateFormated(e){return new Date(e).getMonth()+1+"/"+new Date(e).getDate()+"/"+new Date(e).getFullYear()}onPageChange(e){this.pageNumber=e.page+1,this.filter()}getStudents(e){this.userService.GetAllStudentUsers(this.pageNumber,this.pageSize,"","",e).subscribe(e=>{this.students=e.data,this.filteredStudents=this.students,this.filteredStudents.forEach(e=>{e.fullName=e.firstName+" "+e.lastName})})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(di),l.Kb(Uo.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-financial-analysis-report"]],decls:33,vars:25,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],[1,"page-title"],[1,"text-primary","font-weight-bold",2,"font-size","1.2rem","margin-top","-20px","margin-bottom","20px"],["action","",2,"width","100%",3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12"],["for",""],[1,"filterHomeWorkListFormClass"],["formControlName","selectedStudent","name","studentName","field","fullName",3,"suggestions","dropdown","forceSelection","completeMethod"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","dateFrom","formControlName","dateFrom","placeholder","Date From ","bsDatepicker","",1,"form-control","adler-form-control",3,"bsConfig"],["autocomplete","off","type","text","pInputText","","autocomplete","off","id","dateTo","formControlName","dateTo","placeholder","Date To","bsDatepicker","",1,"form-control","adler-form-control",3,"bsConfig"],[1,"col-lg-3","col-md-3","col-sm-12",2,"margin-bottom","15px"],["formControlName","currentGroupInstance","optionLabel","serial","optionValue","id",3,"options"],["formControlName","category","optionLabel","name","optionValue","value",3,"options"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["pSortableColumn",""],["field",""],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"div",1),l.Qb(2,"h1",2),l.Hc(3),l.Pb(),l.Pb(),l.Qb(4,"form",3),l.Qb(5,"div",4),l.Qb(6,"div",5),l.Qb(7,"label",6),l.Hc(8," Student Name"),l.Pb(),l.Qb(9,"div",7),l.Qb(10,"p-autoComplete",8),l.Xb("completeMethod",function(e){return t.searchStudent(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,"div",5),l.Lb(12,"label",6),l.Lb(13,"input",9),l.Pb(),l.Qb(14,"div",5),l.Lb(15,"label",6),l.Lb(16,"input",10),l.Pb(),l.Qb(17,"div",11),l.Qb(18,"label",6),l.Hc(19,"Current Group Instance"),l.Pb(),l.Lb(20,"p-dropdown",12),l.Pb(),l.Qb(21,"div",11),l.Qb(22,"label",6),l.Hc(23,"Category"),l.Pb(),l.Lb(24,"p-dropdown",13),l.Pb(),l.Pb(),l.Pb(),l.Qb(25,"div",14),l.Qb(26,"p-table",15,16),l.Fc(28,Jo,22,0,"ng-template",17),l.Fc(29,Vo,15,7,"ng-template",18),l.Fc(30,Wo,2,1,"ng-template",19),l.Fc(31,Yo,0,0,"ng-template",20),l.Pb(),l.Qb(32,"p-paginator",21),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(3),l.Jc(" Totalamount : ",null==t.FinacialList?null:t.FinacialList.amountSum," "),l.yb(1),l.ic("formGroup",t.filterForm),l.yb(6),l.ic("suggestions",t.filteredStudents)("dropdown",!1)("forceSelection",!0),l.yb(3),l.ic("bsConfig",l.lc(21,Zo)),l.yb(3),l.ic("bsConfig",l.lc(22,Zo)),l.yb(4),l.Dc(l.lc(23,es)),l.ic("options",t.groupInstanceList),l.yb(4),l.Dc(l.lc(24,es)),l.ic("options",t.categoryList),l.yb(2),l.ic("responsive",!0)("value",t.studentList)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count))},directives:[d.y,d.q,d.i,Fn.a,d.p,d.g,d.b,r.b,r.a,Qe.a,m.d,f.i,Se.a,m.c,m.b],styles:[""]}),e})();function ns(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",20),l.Hc(2," Test Name"),l.Lb(3,"p-sortIcon",21),l.Pb(),l.Qb(4,"th",20),l.Hc(5,"Group"),l.Lb(6,"p-sortIcon",21),l.Pb(),l.Qb(7,"th",20),l.Hc(8,"Lesson"),l.Lb(9,"p-sortIcon",21),l.Pb(),l.Qb(10,"th",22),l.Hc(11,"Action"),l.Pb(),l.Pb())}function is(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Hc(6),l.Pb(),l.Qb(7,"td"),l.Qb(8,"a",23),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().openModel(n)}),l.Lb(9,"span",24),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Jc(" ",e.test?e.test:"No Data"," "),l.yb(2),l.Jc(" ",e.groupInstance?e.groupInstance.serial:"No Data"," "),l.yb(2),l.Jc(" ",e.groupInstance.lessonInstances.serial?e.groupInstance.lessonInstances.serial:"No Data"," ")}}function os(e,t){if(1&e&&(l.Qb(0,"div",25),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count," record. ")}}function ss(e,t){}const rs=function(){return{width:"100%"}},cs=function(){return{width:"450px"}};let as=(()=>{class e{constructor(e){this.AssignPgsService=e,this.assignTeacherDialog=!1,this.suggestedeacher=[],this.pageNumber=1,this.pageSize=10,this.groupInstanceList=[{serial:"All",id:""}],this.filterForm=new d.h({currentGroupInstance:new d.f("")})}ngOnInit(){this.AssignPgsService.getAllGroupInstance().subscribe(e=>{e.data.forEach(e=>{this.groupInstanceList.push(e)})}),this.GetLessonInstanceToAssign({PageNumber:this.pageNumber,PageSize:this.pageSize})}GetLessonInstanceToAssign(e){this.AssignPgsService.GetLessonInstanceToAssign(e).subscribe(e=>{this.lessonList=e.data,this.count=e.count})}openModel(e){this.selectedGroupInstanceId=e.groupInstanceId,this.lessonInstanceId=e.lessonDefinitionId,this.assignTeacherDialog=!0}hideDialog(){this.assignTeacherDialog=!1}searchTeacher(e){e.query&&this.AssignPgsService.getTeacher("").subscribe(e=>{this.suggestedeacher=e.data,this.suggestedeacher.forEach(e=>{e.fullName=e.teacherFirstName+" "+e.teacherLastName})})}AssignTeacherToTest(){this.AssignPgsService.AssignTeacher({teacherId:this.selectedTeacher.teacherId,groupInstanceId:this.selectedGroupInstanceId,lessonInstanceId:this.lessonInstanceId}).subscribe(e=>{e.succeeded&&this.hideDialog()})}filterbyGroupInstance(e){this.GetLessonInstanceToAssign({PageNumber:this.pageNumber,PageSize:this.pageSize,GroupInsatanceId:e})}onPageChange(e){this.pageNumber=e.page+1,this.GetLessonInstanceToAssign({PageNumber:this.pageNumber})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(li))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-assign-lesson-tests"]],decls:24,vars:21,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],[2,"width","100%",3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12",2,"margin-bottom","15px"],["for",""],["formControlName","currentGroupInstance","optionLabel","serial","optionValue","id",3,"options","onChange"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","Assign to teacher","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],["name","studentName","field","fullName",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod"],[1,"formbtns","pt-3"],[1,"btn","adler-btn","px-5","rounded-pill",3,"click"],[1,"btn","mr-3","px-5","rounded-pill","btn-outline-secondary","ml-2",3,"click"],["pSortableColumn",""],["field",""],[2,"width","10wrem"],[1,"mr-2","mr-3","text-secondary",3,"click"],["title","Remove Duplicate Exception",1,"p-button-icon","pi","pi-check","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"form",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"label",4),l.Hc(5,"Group Instance"),l.Pb(),l.Qb(6,"p-dropdown",5),l.Xb("onChange",function(){return t.filterbyGroupInstance(t.filterForm.value.currentGroupInstance)}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(7,"div",6),l.Qb(8,"p-table",7,8),l.Fc(10,ns,12,0,"ng-template",9),l.Fc(11,is,10,3,"ng-template",10),l.Fc(12,os,2,1,"ng-template",11),l.Fc(13,ss,0,0,"ng-template",12),l.Pb(),l.Qb(14,"p-paginator",13),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(15,"p-dialog",14),l.Xb("visibleChange",function(e){return t.assignTeacherDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(16,"h6",15),l.Hc(17,"Choose Teacher"),l.Pb(),l.Qb(18,"p-autoComplete",16),l.Xb("ngModelChange",function(e){return t.selectedTeacher=e})("completeMethod",function(e){return t.searchTeacher(e)}),l.Pb(),l.Qb(19,"div",17),l.Qb(20,"button",18),l.Xb("click",function(){return t.AssignTeacherToTest()}),l.Hc(21," Assign "),l.Pb(),l.Qb(22,"button",19),l.Xb("click",function(){return t.hideDialog()}),l.Hc(23," Cancel "),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("formGroup",t.filterForm),l.yb(5),l.Dc(l.lc(19,rs)),l.ic("options",t.groupInstanceList),l.yb(2),l.ic("responsive",!0)("value",t.lessonList)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count),l.yb(1),l.Dc(l.lc(20,cs)),l.ic("visible",t.assignTeacherDialog)("modal",!0),l.yb(3),l.ic("ngModel",t.selectedTeacher)("suggestions",t.suggestedeacher)("dropdown",!1))},directives:[d.y,d.q,d.i,Qe.a,d.p,d.g,m.d,f.i,Se.a,P.a,Fn.a,d.s,m.c,m.b],styles:[""]}),e})();function ls(e,t){1&e&&(l.Qb(0,"tr"),l.Qb(1,"th",21),l.Hc(2,"Group"),l.Lb(3,"p-sortIcon",22),l.Pb(),l.Qb(4,"th",21),l.Hc(5,"Timeslot"),l.Lb(6,"p-sortIcon",22),l.Pb(),l.Qb(7,"th",23),l.Hc(8,"Action"),l.Pb(),l.Pb())}function ds(e,t){if(1&e){const e=l.Rb();l.Qb(0,"tr"),l.Qb(1,"td"),l.Hc(2),l.Pb(),l.Qb(3,"td"),l.Hc(4),l.Pb(),l.Qb(5,"td"),l.Qb(6,"a",24),l.Xb("click",function(){l.yc(e);const n=t.$implicit;return l.bc().openModel(n)}),l.Lb(7,"span",25),l.Pb(),l.Pb(),l.Pb()}if(2&e){const e=t.$implicit;l.yb(2),l.Jc(" ",e.serial?e.serial:"No Data"," "),l.yb(2),l.Jc(" ",e.serial?e.groupDefinition.timeSlot.name:"No Data"," ")}}function bs(e,t){if(1&e&&(l.Qb(0,"div",26),l.Hc(1),l.Pb()),2&e){const e=l.bc();l.yb(1),l.Jc(" In total there are ",e.count," record. ")}}function us(e,t){}const ps=function(){return{width:"100%"}},hs=function(){return{width:"450px"}};let gs=(()=>{class e{constructor(e,t){this.AssignPgsService=e,this.CommonService=t,this.assignTeacherDialog=!1,this.suggestedeacher=[],this.pageNumber=1,this.pageSize=10,this.groupDefinitionList=[{serial:"All",id:""}],this.filterForm=new d.h({subLevelList:new d.f(""),currentGroupInstance:new d.f("")}),this.subLevelList=[{name:"All",id:""}]}ngOnInit(){this.GetGroupInstanceToAssign({PageNumber:this.pageNumber,PageSize:this.pageSize}),this.getAllSubLevel()}getAllSubLevel(){this.CommonService.getAllSubLevels().subscribe(e=>{e.forEach(e=>{this.subLevelList.push(e)})})}GetGroupInstanceToAssign(e){this.AssignPgsService.GetGroupInstanceToAssign(e).subscribe(e=>{this.lessonList=e.data,this.count=e.count})}openModel(e){this.selectedgroupDefinitionId=e.groupDefinitionId,this.assignTeacherDialog=!0}hideDialog(){this.assignTeacherDialog=!1}searchTeacher(e){e.query&&this.AssignPgsService.getTeacher("").subscribe(e=>{this.suggestedeacher=e.data,this.suggestedeacher.forEach(e=>{e.fullName=e.teacherFirstName+" "+e.teacherLastName})})}AssignTeacherToGroupTests(){this.AssignPgsService.AssignTeacher({teacherId:this.selectedTeacher.teacherId,groupInstanceId:this.selectedgroupDefinitionId}).subscribe(e=>{e.succeeded&&this.hideDialog()})}filterbyGroupInstance(e,t){let n,i;"sub"==t?(n=e,this.CommonService.getAllGroupDefinition({sublevelID:e}).subscribe(e=>{e.data.forEach(e=>{this.groupDefinitionList.push(e)})})):(i=e,this.GetGroupInstanceToAssign({PageNumber:this.pageNumber,PageSize:this.pageSize,GroupDefinitionId:e}))}onPageChange(e){this.pageNumber=e.page+1,this.GetGroupInstanceToAssign({PageNumber:this.pageNumber})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(li),l.Kb(we.a))},e.\u0275cmp=l.Eb({type:e,selectors:[["app-assign-group-tests"]],decls:28,vars:25,consts:[[1,"container","pt-5","pb-5","row","justify-content-between"],[2,"width","100%",3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3","col-sm-12",2,"margin-bottom","15px"],["for",""],["formControlName","subLevelList","optionLabel","name","optionValue","id",3,"options","onChange"],["formControlName","currentGroupInstance","optionLabel","serial","optionValue","id",3,"options","onChange"],[1,"card"],["currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","dataKey","id",3,"responsive","value","rows","paginator","rowHover","showCurrentPageReport"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["pTemplate","emptymessage"],[3,"rows","totalRecords","onPageChange"],["header","Assign to teacher","styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],[1,"mb-4"],["name","studentName","field","fullName",3,"ngModel","suggestions","dropdown","ngModelChange","completeMethod"],[1,"formbtns","pt-3"],[1,"btn","adler-btn","px-5","rounded-pill",3,"click"],[1,"btn","mr-3","px-5","rounded-pill","btn-outline-secondary","ml-2",3,"click"],["pSortableColumn",""],["field",""],[2,"width","10wrem"],[1,"mr-2","mr-3","text-secondary",3,"click"],["title","Remove Duplicate Exception",1,"p-button-icon","pi","pi-check","font-weight-bold"],[1,"p-d-flex","p-ai-center","p-jc-between"]],template:function(e,t){1&e&&(l.Qb(0,"div",0),l.Qb(1,"form",1),l.Qb(2,"div",2),l.Qb(3,"div",3),l.Qb(4,"label",4),l.Hc(5,"Sub Level"),l.Pb(),l.Qb(6,"p-dropdown",5),l.Xb("onChange",function(){return t.filterbyGroupInstance(t.filterForm.value.currentGroupInstance,"sub")}),l.Pb(),l.Pb(),l.Qb(7,"div",3),l.Qb(8,"label",4),l.Hc(9,"Group Instance"),l.Pb(),l.Qb(10,"p-dropdown",6),l.Xb("onChange",function(){return t.filterbyGroupInstance(t.filterForm.value.currentGroupInstance,"group")}),l.Pb(),l.Pb(),l.Pb(),l.Pb(),l.Qb(11,"div",7),l.Qb(12,"p-table",8,9),l.Fc(14,ls,9,0,"ng-template",10),l.Fc(15,ds,8,2,"ng-template",11),l.Fc(16,bs,2,1,"ng-template",12),l.Fc(17,us,0,0,"ng-template",13),l.Pb(),l.Qb(18,"p-paginator",14),l.Xb("onPageChange",function(e){return t.onPageChange(e)}),l.Pb(),l.Pb(),l.Pb(),l.Qb(19,"p-dialog",15),l.Xb("visibleChange",function(e){return t.assignTeacherDialog=e})("onHide",function(){return t.hideDialog()}),l.Qb(20,"h6",16),l.Hc(21,"Choose Teacher"),l.Pb(),l.Qb(22,"p-autoComplete",17),l.Xb("ngModelChange",function(e){return t.selectedTeacher=e})("completeMethod",function(e){return t.searchTeacher(e)}),l.Pb(),l.Qb(23,"div",18),l.Qb(24,"button",19),l.Xb("click",function(){return t.AssignTeacherToGroupTests()}),l.Hc(25," Assign "),l.Pb(),l.Qb(26,"button",20),l.Xb("click",function(){return t.hideDialog()}),l.Hc(27," Cancel "),l.Pb(),l.Pb(),l.Pb()),2&e&&(l.yb(1),l.ic("formGroup",t.filterForm),l.yb(5),l.Dc(l.lc(22,ps)),l.ic("options",t.subLevelList),l.yb(4),l.Dc(l.lc(23,ps)),l.ic("options",t.groupDefinitionList),l.yb(2),l.ic("responsive",!0)("value",t.lessonList)("rows",10)("paginator",!1)("rowHover",!0)("showCurrentPageReport",!0),l.yb(6),l.ic("rows",t.pageSize)("totalRecords",t.count),l.yb(1),l.Dc(l.lc(24,hs)),l.ic("visible",t.assignTeacherDialog)("modal",!0),l.yb(3),l.ic("ngModel",t.selectedTeacher)("suggestions",t.suggestedeacher)("dropdown",!1))},directives:[d.y,d.q,d.i,Qe.a,d.p,d.g,m.d,f.i,Se.a,P.a,Fn.a,d.s,m.c,m.b],styles:[""]}),e})();const ms=[{path:"",component:ne,children:[{path:"",redirectTo:"users",pathMatch:"full"},{path:"cards",component:Ve},{path:"cards/bundles",component:ot},{path:"cards/units",component:gt},{path:"cards/adler-cards",component:It},{path:"cards/create-adler-card",component:Po},{path:"cards/edit-adler-card/:id",component:(()=>{class e{constructor(e,t,n){this.adlerCardService=e,this.activatedRoute=t,this.router=n,this.editCardMode=!0,this.quizRequest=new Object,this.cardId=this.activatedRoute.snapshot.params.id}ngOnInit(){this.getAdlerCardById(this.cardId)}getAdlerCardById(e){this.adlerCardService.getAdlerCard(e).subscribe(e=>{this.data=e.data,console.log(this.data)})}}return e.\u0275fac=function(t){return new(t||e)(l.Kb(ft),l.Kb(K.a),l.Kb(K.c))},e.\u0275cmp=l.Eb({type:e,selectors:[["edit-adler-cards"]],decls:1,vars:2,consts:[[3,"editCardMode","data"]],template:function(e,t){1&e&&l.Lb(0,"create-adler-cards",0),2&e&&l.ic("editCardMode",t.editCardMode)("data",t.data)},directives:[Po],styles:[""]}),e})()},{path:"cards/submissions/teacher",component:Rt,data:{role:"teacher"}},{path:"cards/submissions/staff",component:Rt,data:{role:"staff"}},{path:"cards/submissions/teacher",component:Rt,data:{role:"teacher"}},{path:"cards/submissions/staff",component:Rt,data:{role:"staff"}},{path:"cards/authorize-teachers",component:Ut},{path:"users",component:nn},{path:"users/staff-list",component:B.a},{path:"users/student-list",component:on.a},{path:"tests",children:[{path:"entry",component:bn},{path:"",loadChildren:()=>n.e(12).then(n.bind(null,"Jmfk")).then(e=>e.TestModule)},{path:"manage-tests",component:$e},{path:"manage-recorrection-requests",component:Tn},{path:"tests-list/create-question",redirectTo:"create-question"},{path:"tests-list/question-list",redirectTo:"question-list"},{path:"tests-list/manage-tests",redirectTo:"manage-tests"},{path:"tests-list/manage-recorrection-requests",redirectTo:"manage-recorrection-requests"},{path:"tests-list/create-quiz",redirectTo:"create-quiz"}]},{path:"homeworks",component:Vt},{path:"homeworks/bonus-requests",component:X},{path:"price",component:M.a},{path:"level",component:x},{path:"sub-level",component:Pe},{path:"time-slots",component:T.a},{path:"ban-requests",component:D.a},{path:"disqualification-requests",component:Mn.a},{path:"duplicate-accounts",component:Ho},{path:"diverse",component:j},{path:"view-profile/:user_ID",component:ze.a,children:[{path:"",redirectTo:"progress",pathMatch:"full"},{path:"progress",component:Xe.a},{path:"rankings",component:je.a},{path:"history",component:Be.a}]},{path:"community",loadChildren:()=>n.e(5).then(n.bind(null,"rPnq")).then(e=>e.CommunityModule)},{path:"groups",loadChildren:()=>Promise.resolve().then(n.bind(null,"6dlk")).then(e=>e.GroupsModule)},{path:"promocode",loadChildren:()=>n.e(34).then(n.bind(null,"2JQ1")).then(e=>e.PromocodeModule)},{path:"managment",component:ci},{path:"managment/List-late-submissions-of-lesson-reports",component:Rn},{path:"managment/List-late-submissions-of-correction-homework",component:Bn},{path:"managment/List-late-submissions-of-correction-tests",component:En},{path:"managment/assign-single-tests",component:Di},{path:"managment/assign-lesson-tests",component:as},{path:"managment/assign-group-tests",component:gs},{path:"managment/absence-requests",component:Ri},{path:"managment/teacher-assignment",component:Do},{path:"managment/teacher-lessons",loadChildren:()=>n.e(14).then(n.bind(null,"NWbE")).then(e=>e.LessonsModule)},{path:"managment/homework-list",loadChildren:()=>Promise.all([n.e(2),n.e(13),n.e(32)]).then(n.bind(null,"+3RB")).then(e=>e.HomeworkListModule)},{path:"managment/tests",loadChildren:()=>Promise.all([n.e(2),n.e(11)]).then(n.bind(null,"PkoY")).then(e=>e.TestsModule)},{path:"managment/analysis/teacher-report",component:Eo},{path:"managment/analysis/student-report",component:Ko},{path:"managment/analysis/financial-report",component:ts},{path:"feedback-sheet",loadChildren:()=>Promise.all([n.e(1),n.e(6)]).then(n.bind(null,"qqLe")).then(e=>e.FeedBackSheetModule)}]}];let fs=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},imports:[[K.g.forChild(ms)],K.g]}),e})();var Ps=n("EGme");let vs=(()=>{class e{}return e.\u0275mod=l.Ib({type:e}),e.\u0275inj=l.Hb({factory:function(t){return new(t||e)},providers:[Uo.a,_e.a,F,qi.a,Ce,ft],imports:[[o.c,fs,s.a,i.GroupsModule,r.c.forRoot(),c.b.forRoot(),Ps.a]]}),e})()},v5vL:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("tVjc"),o=n("fXoL"),s=n("tk/3");let r=(()=>{class e{constructor(e){this.http=e,this.prefix="TimeSlot"}getAllSlots(){return this.http.get(`${i.a}/${this.prefix}/GetAll?PageNumber=1&PageSize=999`)}getAllSlotsByPages(e,t){return this.http.get(`${i.a}/${this.prefix}/GetAll?PageNumber=${e}&PageSize=${t}`)}addTimeSlot(e){return this.http.post(`${i.a}/${this.prefix}/Create`,e)}editTimeSlot(e){return this.http.put(`${i.a}/${this.prefix}/update/?id=${e.id}`,e)}deleteTimeSlot(e){return this.http.delete(`${i.a}/${this.prefix}/${e}`)}}return e.\u0275fac=function(t){return new(t||e)(o.Ub(s.b))},e.\u0275prov=o.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);